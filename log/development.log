  [1m[35m (38.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (27.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20171014074038)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171014074038"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-10-14 07:44:04.315464"], ["updated_at", "2017-10-14 07:44:04.315464"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-10-14 15:54:35 +0800
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/huiqianliang/.rvm/gems/ruby-2.3.1/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/huiqianliang/.rvm/gems/ruby-2.3.1/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (5.5ms)
Completed 200 OK in 33ms (Views: 14.9ms | ActiveRecord: 0.0ms)


Started GET "/home" for 127.0.0.1 at 2017-10-14 15:55:22 +0800
  
ActionController::RoutingError (No route matches [GET] "/home"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/home" for 127.0.0.1 at 2017-10-14 15:56:52 +0800
  
ActionController::RoutingError (No route matches [GET] "/home"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/home" for 127.0.0.1 at 2017-10-14 15:58:17 +0800
  
ActionController::RoutingError (No route matches [GET] "/home"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-14 15:58:25 +0800
  
ActionController::RoutingError (uninitialized constant StaticController):
  
activesupport (5.1.4) lib/active_support/inflector/methods.rb:269:in `const_get'
activesupport (5.1.4) lib/active_support/inflector/methods.rb:269:in `block in constantize'
activesupport (5.1.4) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.4) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.4) lib/active_support/inflector/methods.rb:267:in `constantize'
actionpack (5.1.4) lib/action_dispatch/http/request.rb:85:in `controller_class_for'
actionpack (5.1.4) lib/action_dispatch/http/request.rb:78:in `controller_class'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-14 15:59:08 +0800
  
AbstractController::ActionNotFound (The action 'application' could not be found for ApplicationController):
  
actionpack (5.1.4) lib/abstract_controller/base.rb:119:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-14 15:59:18 +0800
  
AbstractController::ActionNotFound (The action 'index' could not be found for ApplicationController):
  
actionpack (5.1.4) lib/abstract_controller/base.rb:119:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-14 16:02:17 +0800
  
ActionController::RoutingError (uninitialized constant WelcomeController):
  
activesupport (5.1.4) lib/active_support/inflector/methods.rb:269:in `const_get'
activesupport (5.1.4) lib/active_support/inflector/methods.rb:269:in `block in constantize'
activesupport (5.1.4) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.4) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.4) lib/active_support/inflector/methods.rb:267:in `constantize'
actionpack (5.1.4) lib/action_dispatch/http/request.rb:85:in `controller_class_for'
actionpack (5.1.4) lib/action_dispatch/http/request.rb:78:in `controller_class'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-14 16:03:01 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 1388ms (Views: 1385.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (7.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20171014074038)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (28.1ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20171014074038"]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20171014074038)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171014074038"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-10-14 16:55:23 +0800
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 570ms (Views: 555.7ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-14 16:55:28 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (667.8ms)
Completed 500 Internal Server Error in 688ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `new_sessions_path' for #<#<Class:0x007faff81149f0>:0x007faff6e22c98>
Did you mean?  new_user_path):
    26:     <% end %>
    27: 
    28:     <h5 class="text-center">
    29:       <%= link_to "I already have an account", new_sessions_path, class: '' %>
    30:     </h5>
    31: 
    32:     <h5 class="text-center">
  
app/views/users/new.html.erb:29:in `_app_views_users_new_html_erb___157432877819712258_70196878944600'
Started GET "/users/new" for 127.0.0.1 at 2017-10-14 16:55:38 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (362.3ms)
Completed 500 Internal Server Error in 374ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `new_sessions_path' for #<#<Class:0x007faff81149f0>:0x007faff81e1f18>
Did you mean?  new_user_path):
    26:     <% end %>
    27: 
    28:     <!-- <h5 class="text-center">
    29:       <%= link_to "I already have an account", new_sessions_path, class: '' %>
    30:     </h5> -->
    31: 
    32:     <h5 class="text-center">
  
app/views/users/new.html.erb:29:in `_app_views_users_new_html_erb___157432877819712258_70196879367340'
Started GET "/users/new" for 127.0.0.1 at 2017-10-14 16:55:49 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 50ms (Views: 46.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-14 16:55:55 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 61ms (Views: 55.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-14 17:01:53 +0800
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 329ms (Views: 315.2ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-14 17:01:56 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (19.4ms)
Completed 200 OK in 83ms (Views: 79.3ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-10-14 17:02:04 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2lNOLx2vxwU2lwSubTd/ZcUmP6MkWy3vMdBdb2tJethPXvZEFLwzh2eQvtdDIAW9fi0N+C+rj2ryULszg5G9aA==", "user"=>{"email"=>"hello@me.com", "username"=>"hello1", "password"=>"[FILTERED]"}, "commit"=>"Sign me up!"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hello@me.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "hello@me.com"], ["username", "hello1"], ["password_digest", "$2a$10$FP3wh3Lwu/W6fHgudfb2tOiWWt2fq8doUxY1abRxtzCzBtYMqfuyG"], ["created_at", "2017-10-14 09:02:04.520613"], ["updated_at", "2017-10-14 09:02:04.520613"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 183ms (ActiveRecord: 30.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-14 17:02:04 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 52ms (Views: 49.6ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2017-10-14 17:19:07 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered layouts/_flash_messages.html.erb (212.9ms)
Completed 500 Internal Server Error in 328ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined method `display_message' for #<#<Class:0x007fbc8f403528>:0x007fbc92f97c60>):
     6:           &times;
     7:         </button>
     8:         <div class="message">
     9:           <%= display_message(v) %>
    10:         </div>
    11:       </div>
    12:     </section>
  
app/views/layouts/_flash_messages.html.erb:9:in `block in _app_views_layouts__flash_messages_html_erb___2712442160385777238_70223958099360'
app/views/layouts/_flash_messages.html.erb:2:in `_app_views_layouts__flash_messages_html_erb___2712442160385777238_70223958099360'
app/views/layouts/application.html.erb:23:in `_app_views_layouts_application_html_erb__1447050676612990677_70223905052740'
Started GET "/" for 127.0.0.1 at 2017-10-14 17:19:32 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 37ms (Views: 34.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-14 17:20:19 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 33ms (Views: 29.2ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-14 17:20:21 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"F+DEfVt+sGB+p8ZL/nmVsDhmoKTJ1HaQXF/dCgvunwHaCSNOJxtnti49jT2cnwbGtRuF3bcHJtLRzi3d9JV+Gw=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-14 17:20:21 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 44ms (Views: 40.8ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-14 17:20:25 +0800
Processing by SessionsController#new as HTML
Completed 406 Not Acceptable in 126ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (SessionsController#new is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.1.4) lib/action_controller/metal/implicit_render.rb:53:in `default_render'
actionpack (5.1.4) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.1.4) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.1.4) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.4) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.4) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.4) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.4) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.4) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/sessions/new" for 127.0.0.1 at 2017-10-14 17:21:13 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 67ms (Views: 64.1ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-14 17:21:24 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"9HEvGKWTOrwTgNcLUMnR5+YteJXqguiUx9kHVQcUmbI5mMgr2fbtakManH0yL0KRa1Bd7JRRuNZKSPeC+G94qA==", "user"=>{"email"=>"hello@me.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hello@me.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 121ms (ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-14 17:21:25 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 32ms (Views: 29.3ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-14 17:21:32 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"1PVYN5dsdjxLcnikTRm6N9C8MLLlCwKlz3v6Tq70GAIZHL8E6wmh6hvoM9Iv/ylBXcEVy5vYUudC6gqZUY/5GA=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-14 17:21:32 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 32ms (Views: 29.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-14 17:21:58 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 82ms (Views: 79.8ms | ActiveRecord: 0.0ms)


  [1m[35m (12.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (4.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePhotos (20171015150251)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (54.2ms)[0m  [1m[35mCREATE TABLE "photos" ("id" bigserial primary key, "users_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_photos_on_users_id" ON "photos"  ("users_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015150251"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLikes (20171015150519)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "users_id" bigint, "photos_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_users_id" ON "likes"  ("users_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_photos_id" ON "likes"  ("photos_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015150519"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateComments (20171015150615)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "users_id" bigint, "photos_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_users_id" ON "comments"  ("users_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_photos_id" ON "comments"  ("photos_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015150615"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddCaptionToPhotos (20171015150921)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.8ms)[0m  [1m[35mALTER TABLE "photos" ADD "caption" character varying[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015150921"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddImageToPhotos (20171015151033)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "photos" ADD "photo" character varying[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015151033"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddCommentToComments (20171015151318)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.7ms)[0m  [1m[35mALTER TABLE "comments" ADD "comment" character varying[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015151318"]]
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLikeToLikes (20171015151337)
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "likes" ADD "likes" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015151337"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-10-15 23:37:55 +0800
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 596ms (Views: 584.2ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-15 23:38:00 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (17.2ms)
Completed 200 OK in 124ms (Views: 110.4ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-15 23:38:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sOdMs+Uoc2mU4UViinenMMoEI5NSFtU1F8iblhErGBQYzDqhcMQLIMlwg7MHd1NXPrGa6M4Cc1WejCViswFfKQ==", "user"=>{"email"=>"hello@me.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (7.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hello@me.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sessions/new
Completed 302 Found in 166ms (ActiveRecord: 14.7ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-15 23:38:08 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 67ms (Views: 62.7ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-15 23:38:17 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"uS2a3fe2FsYKu3CdbHMc5jO2ffYqr4FwVHMfZf9U2WMwZd1hDerv6W9Tp7JiNs04ENSYAbtUeW15TVmuvkZDEQ==", "user"=>{"email"=>"hello@me.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hello@me.com"], ["LIMIT", 1]]
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 113ms (ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-15 23:38:17 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 66ms (Views: 62.5ms | ActiveRecord: 1.3ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-15 23:38:19 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (3.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 69ms (Views: 63.9ms | ActiveRecord: 0.4ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:38:52 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O9PA3RHwODE2n1jDJuOx4sfVXCa6qCqOcGSBl0P545bRjJjy4BgL5NbJL3/J6q/f3Sobp72jPu2r+AOl8jrnYA==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `photo' for #<User:0x007f9a740c65a0>
Did you mean?  photos
               photos=):
  
app/controllers/photos_controller.rb:7:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:39:20 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yqKc1kY34cfho2xRKEpy3riDvqu6DPizEb5BpwwoQc1D6ttqvGsY6IRLu34mD6MAm+FbXCv3AK48gAdsTTrbvw==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.5ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 66ms (ActiveRecord: 14.4ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'user_id' for Photo.):
  
app/controllers/photos_controller.rb:7:in `create'
Started PUT "/__web_console/repl_sessions/a2ed5d57d6d449b6565e40bcb74119fc" for 127.0.0.1 at 2017-10-15 23:39:30 +0800
Started PUT "/__web_console/repl_sessions/a2ed5d57d6d449b6565e40bcb74119fc" for 127.0.0.1 at 2017-10-15 23:39:31 +0800
Started PUT "/__web_console/repl_sessions/a2ed5d57d6d449b6565e40bcb74119fc" for 127.0.0.1 at 2017-10-15 23:39:34 +0800
Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:39:54 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yqKc1kY34cfho2xRKEpy3riDvqu6DPizEb5BpwwoQc1D6ttqvGsY6IRLu34mD6MAm+FbXCv3AK48gAdsTTrbvw==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 51ms (ActiveRecord: 9.2ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'user_id' for Photo.):
  
app/controllers/photos_controller.rb:7:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:42:17 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yqKc1kY34cfho2xRKEpy3riDvqu6DPizEb5BpwwoQc1D6ttqvGsY6IRLu34mD6MAm+FbXCv3AK48gAdsTTrbvw==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 49ms (ActiveRecord: 10.0ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'user_id' for Photo.):
  
app/controllers/photos_controller.rb:7:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:43:43 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yqKc1kY34cfho2xRKEpy3riDvqu6DPizEb5BpwwoQc1D6ttqvGsY6IRLu34mD6MAm+FbXCv3AK48gAdsTTrbvw==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 90ms (Views: 63.6ms | ActiveRecord: 8.6ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:43:45 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yOyw8omJQGgfH9y+ZXuCWjxR1enuSoh5Wf7LCSpcM2dBpPdOc9W5R3r3C5FrPlOEHzMwHn+xcGR0wI3Ca06pFQ==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 60ms (Views: 45.2ms | ActiveRecord: 0.3ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:43:46 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Cv1nuooFRYv4RBccL7UPZixaU3yCGHP/aeXU5b8Hj8mDtSAGcFm8pJ2swDMh8N64Dzi2ixPji+JE25Iu/hUVuw==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 59ms (Views: 56.9ms | ActiveRecord: 0.4ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:44:19 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"dqEgYipGGjevA7S8jjpEa/Fcf8iGUOXneI8eQOQ++0f/6Wfe0BrjGMrrY5OAf5W10j6aPxerHfpVsViLpSxhNQ==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (2.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 30088ms (Views: 81.8ms | ActiveRecord: 8.1ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:45:02 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"k3y8RXtI3OWmTnFHpdPGKLXFhk0LfWipIW1goFF6xCcaNPv5gRQlysOmpmirlhf2lqdjupqGkLQMUyZrEGheVQ==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (3.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 17062ms (Views: 73.1ms | ActiveRecord: 8.6ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-15 23:49:11 +0800
  
AbstractController::ActionNotFound (The action 'index' could not be found for PhotosController):
  
actionpack (5.1.4) lib/abstract_controller/base.rb:119:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos" for 127.0.0.1 at 2017-10-15 23:51:17 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (4.1ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `all' for nil:NilClass):
    1: <h2>All Photos</h2>
    2: 
    3: <%= @photo.all %>
  
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb__3116129808010959337_70150617141680'
Started GET "/photos" for 127.0.0.1 at 2017-10-15 23:51:33 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `all' for nil:NilClass):
    1: <h2>All Photos</h2>
    2: 
    3: <%= @photo.all %>
  
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb__3116129808010959337_70150687622940'
Started PUT "/__web_console/repl_sessions/26309d16337dd48748b1294382f5add7" for 127.0.0.1 at 2017-10-15 23:51:40 +0800
Started PUT "/__web_console/repl_sessions/26309d16337dd48748b1294382f5add7" for 127.0.0.1 at 2017-10-15 23:51:40 +0800
Started PUT "/__web_console/repl_sessions/26309d16337dd48748b1294382f5add7" for 127.0.0.1 at 2017-10-15 23:51:46 +0800
Started PUT "/__web_console/repl_sessions/26309d16337dd48748b1294382f5add7" for 127.0.0.1 at 2017-10-15 23:51:46 +0800
  [1m[36mPhoto Load (2.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos/new" for 127.0.0.1 at 2017-10-15 23:52:04 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 75ms (Views: 65.3ms | ActiveRecord: 4.5ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:52:20 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JmypXTDHTSpnnXOwMGgMb02Y7rJbvpMP0d4DpWSAlE2vJO7hypu0BQJ1pJ8+Ld2xbvoLRcpFaxL84EVuJZIOPw==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.1ms)


  
NoMethodError (undefined method `create' for #<User:0x007f9a722a3460>
Did you mean?  created_at):
  
app/controllers/photos_controller.rb:11:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:52:48 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JmypXTDHTSpnnXOwMGgMb02Y7rJbvpMP0d4DpWSAlE2vJO7hypu0BQJ1pJ8+Ld2xbvoLRcpFaxL84EVuJZIOPw==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 49ms (ActiveRecord: 7.5ms)


  
NoMethodError (undefined method `create' for #<User:0x007f9a74448548>
Did you mean?  created_at):
  
app/controllers/photos_controller.rb:12:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:54:11 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JmypXTDHTSpnnXOwMGgMb02Y7rJbvpMP0d4DpWSAlE2vJO7hypu0BQJ1pJ8+Ld2xbvoLRcpFaxL84EVuJZIOPw==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/photos_controller.rb:11:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:54:33 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JmypXTDHTSpnnXOwMGgMb02Y7rJbvpMP0d4DpWSAlE2vJO7hypu0BQJ1pJ8+Ld2xbvoLRcpFaxL84EVuJZIOPw==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/photos_controller.rb:11:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:54:53 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JmypXTDHTSpnnXOwMGgMb02Y7rJbvpMP0d4DpWSAlE2vJO7hypu0BQJ1pJ8+Ld2xbvoLRcpFaxL84EVuJZIOPw==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 92ms (Views: 65.9ms | ActiveRecord: 10.8ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-15 23:55:41 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (17.8ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `all' for nil:NilClass):
    1: <h2>All Photos</h2>
    2: 
    3: <%= @photo.all %>
  
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb__3116129808010959337_70150677484980'
Started GET "/" for 127.0.0.1 at 2017-10-15 23:55:49 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 47ms (Views: 44.2ms | ActiveRecord: 0.4ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-15 23:55:52 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (3.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 62ms (Views: 56.1ms | ActiveRecord: 0.3ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-15 23:55:58 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JB+RMie3fU5m/yf7DbzpJMWel36zfDS6wXH6ADgv9/nOQMkd1l9Om4apUEfitfcZ32HQ/7R3INka7XgyiezzDw==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello"}, "commit"=>"Post new photo"}
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 60ms (Views: 58.5ms | ActiveRecord: 0.5ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-15 23:56:34 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 51ms (Views: 48.0ms | ActiveRecord: 0.3ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos" for 127.0.0.1 at 2017-10-16 00:00:20 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (5.7ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `all' for nil:NilClass):
    1: <h2>All My Photos</h2>
    2: 
    3: <%= @photo.all %>
  
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb__3116129808010959337_70150627517800'
Started GET "/photos" for 127.0.0.1 at 2017-10-16 00:00:32 +0800
Processing by PhotosController#index as HTML
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (3.8ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.7ms)


  
ActionView::Template::Error (undefined method `all' for nil:NilClass):
    1: <h2>All My Photos</h2>
    2: 
    3: <%= @photo.all %>
  
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb__3116129808010959337_70150625681640'
Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 00:02:07 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 60.7ms | ActiveRecord: 5.2ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 00:02:25 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Wgjoa5JnNz3nwjV6BU1LMBIOIHujC3veRZHqorCPIZDTQK/XaDvOEoIq4lULCJruMWzFjDLwg8Nor6xp8Z274g==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"hello"}, "commit"=>"Post new photo"}
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 33198ms (Views: 57.1ms | ActiveRecord: 4.8ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 00:03:06 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nIFOYFuH0Hwevwq66GW9zPCqVQIee8ZfBl6vxfGGuxAVyQncodspU3tX3ZXmIGwS08iw9Y+APkIrYOkOsJQhYg==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 40654ms (Views: 70.6ms | ActiveRecord: 6.6ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 00:03:53 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZoGeq1kmIQBDtpsdKQlBqXZgVet14T2PjlyuejRBa/rvydkXo3rYLyZeTDInTJB3VQKwHOQaxZKjYuixdVPxiA==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 28ms (ActiveRecord: 4.4ms)


  
ActiveRecord::RecordInvalid (Validation failed: Users must exist):
  
app/controllers/photos_controller.rb:12:in `create'
Started GET "/photos" for 127.0.0.1 at 2017-10-16 00:04:14 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (4.7ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `all' for nil:NilClass):
    1: <h2>All My Photos</h2>
    2: 
    3: <%= @photo.all %>
  
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb__3116129808010959337_70150676482480'
Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 00:04:18 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 72ms (Views: 63.3ms | ActiveRecord: 5.4ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 00:04:26 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mQMIJo+6ifcvkCDN/uliXHHAffxfwVGW72XJlkWJ66EQS0+adeZw2Ep49+LwrLOCUqKYC846qYvCW49dBJtx0w==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 39ms (ActiveRecord: 5.0ms)


  
ActiveRecord::RecordInvalid (Validation failed: Users must exist):
  
app/controllers/photos_controller.rb:12:in `create'
Started GET "/" for 127.0.0.1 at 2017-10-16 09:35:47 +0800
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 578ms (Views: 555.8ms | ActiveRecord: 9.2ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 09:39:38 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (50.8ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 108ms (Views: 98.1ms | ActiveRecord: 7.3ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 09:39:47 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"b6tmH9U0Ym4vFLUc/v6+QbFdrdexZ0F2VBbsV1PxABKF9D4wJNxRu89CwqAR96B8q6LqVrZsVRWPim5l4jIE5A==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 50ms (ActiveRecord: 4.6ms)


  
ActiveRecord::RecordInvalid (Validation failed: Users must exist):
  
app/controllers/photos_controller.rb:12:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-16 09:42:02 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ozxoKOKiRx/PQ6DBZvVdBtzOsJsWwTi/OHlpUlgqad8qdC+UGP6+MKqrd+5osIzY/6xVbIc6wKIVRy+ZGTjzrQ==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 22ms (ActiveRecord: 0.7ms)


  
ActiveRecord::RecordInvalid (Validation failed: Users must exist):
  
app/controllers/photos_controller.rb:12:in `create'
Started GET "/" for 127.0.0.1 at 2017-10-16 09:42:20 +0800
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 495ms (Views: 471.7ms | ActiveRecord: 8.1ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 09:42:23 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (32.8ms)
Completed 200 OK in 112ms (Views: 97.4ms | ActiveRecord: 8.5ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 09:42:30 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rlLAV111hnssPY9SU5agsLIklRVaYPI7FmBGCRx9LKFEDZh4rJ21rsxr+O68n76NqNvSlF1r5ljN/MQ7rb4oVw==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 49ms (ActiveRecord: 8.1ms)


  
ActiveRecord::RecordInvalid (Validation failed: Users must exist):
  
app/controllers/photos_controller.rb:12:in `create'
Started PUT "/__web_console/repl_sessions/b7b016ca11575c3352bdf10ea7bb00bf" for 127.0.0.1 at 2017-10-16 09:42:58 +0800
Started PUT "/__web_console/repl_sessions/b7b016ca11575c3352bdf10ea7bb00bf" for 127.0.0.1 at 2017-10-16 09:42:59 +0800
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/b7b016ca11575c3352bdf10ea7bb00bf" for 127.0.0.1 at 2017-10-16 09:43:03 +0800
Started PUT "/__web_console/repl_sessions/b7b016ca11575c3352bdf10ea7bb00bf" for 127.0.0.1 at 2017-10-16 09:43:04 +0800
Started GET "/" for 127.0.0.1 at 2017-10-16 09:44:41 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 64ms (Views: 60.7ms | ActiveRecord: 0.5ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 09:44:43 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (13.9ms)
Completed 200 OK in 86ms (Views: 80.6ms | ActiveRecord: 0.7ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 09:44:49 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"uAEMLa0C0D2DDfvW7qnu6NrZnQeFO6EzDJ6ZPbc91NdSXlQCXOrj6GNbjGoBoPDVwCbahoIwtVDXAhsPBv7QIQ==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 33ms (ActiveRecord: 5.2ms)


  
ActiveRecord::RecordInvalid (Validation failed: Users must exist):
  
app/controllers/photos_controller.rb:12:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-16 09:47:02 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yaJu151TTh+/Umkw7mCDqhZ049G0dSJoJnfFGee4ZDBA6ilrZw+3MNq6vh/gJVJ0NRYGJiWO2nULSYPSpqr+Qg==", "photo"=>{"photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 36737ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordInvalid (Validation failed: Users must exist):
  
app/controllers/photos_controller.rb:13:in `create'
Started GET "/" for 127.0.0.1 at 2017-10-16 09:48:24 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 63.8ms | ActiveRecord: 3.8ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 09:48:26 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 52ms (Views: 49.0ms | ActiveRecord: 0.3ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 09:48:41 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"B/51zL1mNEQbDLuqEVlWE1WsCi3dyPG9VGmtLeOtbZ/toS3jTI4HkftazBb+UEguT1NNrNrD5d6P9S8fUm5paQ==", "photo"=>{"users_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 13684ms (ActiveRecord: 0.4ms)


  
NameError (uninitialized constant Photo::Users):
  
app/controllers/photos_controller.rb:13:in `create'
Started GET "/" for 127.0.0.1 at 2017-10-16 10:02:58 +0800
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.7ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 480ms (Views: 457.1ms | ActiveRecord: 8.6ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 10:03:03 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (50.6ms)
Completed 200 OK in 106ms (Views: 93.4ms | ActiveRecord: 7.4ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:03:08 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"a9cha+SrGAsehtEMYEDmCcvJB63Tl8I9udOCUjq3nc2BiHlEFUMr3v7QprCPSfg00TZALNSc1l5iTwBgi3SZOw==", "photo"=>{"users_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 61ms (ActiveRecord: 6.6ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'user_id' for Photo.):
  
app/controllers/photos_controller.rb:11:in `create'
Started PUT "/__web_console/repl_sessions/75f90b7b04e30f73dbd1fb71571ee5d2" for 127.0.0.1 at 2017-10-16 10:03:14 +0800
Started PUT "/__web_console/repl_sessions/75f90b7b04e30f73dbd1fb71571ee5d2" for 127.0.0.1 at 2017-10-16 10:03:16 +0800
Started PUT "/__web_console/repl_sessions/75f90b7b04e30f73dbd1fb71571ee5d2" for 127.0.0.1 at 2017-10-16 10:03:22 +0800
Started PUT "/__web_console/repl_sessions/75f90b7b04e30f73dbd1fb71571ee5d2" for 127.0.0.1 at 2017-10-16 10:03:26 +0800
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Started PUT "/__web_console/repl_sessions/75f90b7b04e30f73dbd1fb71571ee5d2" for 127.0.0.1 at 2017-10-16 10:03:40 +0800
Started PUT "/__web_console/repl_sessions/75f90b7b04e30f73dbd1fb71571ee5d2" for 127.0.0.1 at 2017-10-16 10:03:52 +0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeUsersIdInPhotos (20171016020822)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.6ms)[0m  [1m[35mALTER TABLE "photos" RENAME COLUMN "users_id" TO "user_id"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER INDEX "index_photos_on_users_id" RENAME TO "index_photos_on_user_id"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171016020822"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-10-16 10:09:19 +0800
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 469ms (Views: 450.2ms | ActiveRecord: 5.6ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 10:09:23 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (64.9ms)
Completed 200 OK in 114ms (Views: 97.2ms | ActiveRecord: 11.8ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:09:27 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"B9PnpR8SciOjCQyU9weBpGvnCLBIhMtLXL/3XcjMqVvtjL+K7vpB9kNfeygYDp+ZcRhPMU+P3yiHI3VveQ+trQ==", "photo"=>{"users_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `user_id=' for nil:NilClass):
  
app/controllers/photos_controller.rb:11:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:09:44 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sGHTV3jyGAEsc1DL3A8CZkGiCrb4ZD28pu/q2L/sZI85KZTrgq7hLkmbh+TSStO4YsDvQWmfxaGL0awT/v7+/Q==", "photo"=>{"users_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 84ms (ActiveRecord: 6.8ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'users_id' for Photo.):
  
app/controllers/photos_controller.rb:11:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:10:15 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sGHTV3jyGAEsc1DL3A8CZkGiCrb4ZD28pu/q2L/sZI85KZTrgq7hLkmbh+TSStO4YsDvQWmfxaGL0awT/v7+/Q==", "photo"=>{"users_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: :users_id
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 151ms (Views: 69.6ms | ActiveRecord: 0.8ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:10:33 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yXGDtJ+Q/bdQZijNArkd+tW1YxlVWQU7+fEasmu16gVAOcQIZcwEmDWO/+IM/Mwk9teG7sSi/SbUz1x5Kqdwdw==", "photo"=>{"users_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: :users_id
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 53ms (Views: 42.6ms | ActiveRecord: 1.0ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:11:03 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"I64sZsOHsHAPxHIztFxxWU/emg5iTjZEyrV2oDgKUDuq5mvaOdtJX2ospRy6GaCHbLx/+fO1zlnnizBreRjKSQ==", "photo"=>{"users_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: :users_id
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 65ms (Views: 54.6ms | ActiveRecord: 0.8ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:11:31 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8TZMFDQogdfqOAdld9I+yyvh8kDPhxVFNB0BUtO3ezZ4fguoznR4+I/Q0Ep5l+8VCIMXt1587VgZI0eZkqXhRA==", "photo"=>{"user_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 103ms (Views: 56.1ms | ActiveRecord: 0.8ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:12:05 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HsXEB1nU1ud5Og0GgX0DoYRqc6kq09V2KvJKr+Q0JIuXjYO7o4gvyBzS2imPONJ/pwiWXrsoLWsHzAxkpSa++Q==", "photo"=>{"user_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 132269ms (Views: 91.9ms | ActiveRecord: 9.3ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:14:21 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"72t3xNSUTm/nHgBGRtO/+aelI+0TlpI1LAualuVpcZpmIzB4Lsi3QIL212lIlm4nhMfGGoJtaigBNdxdpHvr6A==", "photo"=>{"user_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 72558ms (Views: 38.1ms | ActiveRecord: 2.5ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:15:42 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LHWBfmJRCCLwmcF9sP4AgHmOdmsEKH/zaVp8s7n1OF6lPcbCmA3xDZVxFlK+u9FeWuyTnJXTh+5EZDp4+OeiLA==", "photo"=>{"user_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 4514ms (Views: 62.2ms | ActiveRecord: 1.1ms)


  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:17:35 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"faUm8FhqAw5Qujo+VE/uT33hvA43GOZ8dBgepX41g/L07WFMojb6ITVS7RFaCj+RXoNZ+abjHmFZJlhuPycZgA==", "photo"=>{"user_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 38595ms (Views: 59.3ms | ActiveRecord: 3.6ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:18:32 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2ysXkGLq0nnvzi5JjA6La1GExzfe+OHaR87lU7hupUNSY1AsmLYrVoom+WaCS1q1cuYiwE8DGcdq8KOY+Xw/MQ==", "photo"=>{"user_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 89390ms (Views: 60.6ms | ActiveRecord: 2.4ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:20:05 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RJ+zmKKU15+UmT8QfzXoz22AF+DVPTk2lAcPMV6pgYHN1/QkWMgusPFx6D9xcDkRTuLyF0TGwSu5OUn6H7sb8w==", "photo"=>{"user_id"=>"1", "photo"=>"http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png", "caption"=>"Hello world!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption", "photo") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2017-10-16 02:20:09.660719"], ["updated_at", "2017-10-16 02:20:09.660719"], ["caption", "Hello world!"], ["photo", "http://cumbrianrun.co.uk/wp-content/uploads/2014/02/default-placeholder-300x300.png"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/1
Completed 302 Found in 4479ms (ActiveRecord: 11.5ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-16 10:20:09 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (nil is not a valid asset source):
    4:       <div class="content">
    5:         <%= link_to "Back", request.referer || root_path %>
    6:         <div class="image-container">
    7:           <%= image_tag @photo.image.url, class: 'img-responsive' %>
    8:         </div>
    9: 
   10:         <div class="caption-container text-center">
  
app/views/photos/show.html.erb:7:in `_app_views_photos_show_html_erb___2637822359253026883_70359971833900'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos/1" for 127.0.0.1 at 2017-10-16 10:23:01 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `url' for #<String:0x007ffbe7b3f9a8>):
    4:       <div class="content">
    5:         <%= link_to "Back", request.referer || root_path %>
    6:         <div class="image-container">
    7:           <%= @photo.photo.url %>
    8:         </div>
    9: 
   10:         <div class="caption-container text-center">
  
app/views/photos/show.html.erb:7:in `_app_views_photos_show_html_erb___2637822359253026883_70359949983800'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-16 10:23:09 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 64ms (Views: 57.6ms | ActiveRecord: 0.7ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-16 10:23:19 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 57ms (Views: 51.7ms | ActiveRecord: 0.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 10:23:34 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `all' for nil:NilClass):
    1: <h2>All My Photos</h2>
    2: 
    3: <%= @photo.all %>
  
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb__1941735259055365919_70359943979880'
Started PUT "/__web_console/repl_sessions/b0c199589ed239843bd5a4c1d85ab751" for 127.0.0.1 at 2017-10-16 10:23:49 +0800
Started PUT "/__web_console/repl_sessions/b0c199589ed239843bd5a4c1d85ab751" for 127.0.0.1 at 2017-10-16 10:23:49 +0800
Started PUT "/__web_console/repl_sessions/b0c199589ed239843bd5a4c1d85ab751" for 127.0.0.1 at 2017-10-16 10:23:53 +0800
Started PUT "/__web_console/repl_sessions/b0c199589ed239843bd5a4c1d85ab751" for 127.0.0.1 at 2017-10-16 10:23:54 +0800
Started PUT "/__web_console/repl_sessions/b0c199589ed239843bd5a4c1d85ab751" for 127.0.0.1 at 2017-10-16 10:23:58 +0800
Started PUT "/__web_console/repl_sessions/b0c199589ed239843bd5a4c1d85ab751" for 127.0.0.1 at 2017-10-16 10:23:59 +0800
Started PUT "/__web_console/repl_sessions/b0c199589ed239843bd5a4c1d85ab751" for 127.0.0.1 at 2017-10-16 10:23:59 +0800
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos" for 127.0.0.1 at 2017-10-16 10:24:15 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 44ms (Views: 40.8ms | ActiveRecord: 0.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 10:25:42 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 55ms (Views: 52.0ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:25:45 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 55ms (Views: 49.6ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:28:19 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (couldn't find file 'bootstrap' with type 'text/css'
Checked in these paths: 
  /Users/huiqianliang/projects/instasnap/app/assets/config
  /Users/huiqianliang/projects/instasnap/app/assets/images
  /Users/huiqianliang/projects/instasnap/app/assets/javascripts
  /Users/huiqianliang/projects/instasnap/app/assets/stylesheets
  /Users/huiqianliang/.rvm/gems/ruby-2.3.1/gems/font-awesome-rails-4.7.0.2/app/assets/fonts
  /Users/huiqianliang/.rvm/gems/ruby-2.3.1/gems/font-awesome-rails-4.7.0.2/app/assets/stylesheets
  /Users/huiqianliang/.rvm/gems/ruby-2.3.1/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /Users/huiqianliang/.rvm/gems/ruby-2.3.1/gems/actioncable-5.1.4/lib/assets/compiled
  /Users/huiqianliang/.rvm/gems/ruby-2.3.1/gems/actionview-5.1.4/lib/assets/compiled
  /Users/huiqianliang/.rvm/gems/ruby-2.3.1/gems/turbolinks-source-5.0.3/lib/assets/javascripts
  /Users/huiqianliang/projects/instasnap/node_modules
  /Users/huiqianliang/.rvm/gems/ruby-2.3.1/gems/bootstrap-sass-3.3.7/assets/stylesheets
  /Users/huiqianliang/.rvm/gems/ruby-2.3.1/gems/bootstrap-sass-3.3.7/assets/javascripts
  /Users/huiqianliang/.rvm/gems/ruby-2.3.1/gems/bootstrap-sass-3.3.7/assets/fonts
  /Users/huiqianliang/.rvm/gems/ruby-2.3.1/gems/bootstrap-sass-3.3.7/assets/images):
    4:     <title>Instasnap</title>
    5:     <%= csrf_meta_tags %>
    6: 
    7:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    8:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    9:   </head>
   10: 
  
app/assets/stylesheets/application.css:15
app/views/layouts/application.html.erb:7:in `_app_views_layouts_application_html_erb___87979998936331798_70359970814680'
Started GET "/" for 127.0.0.1 at 2017-10-16 10:28:34 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 80ms (Views: 76.2ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:30:50 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 6254ms (Views: 6251.8ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:32:01 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3014ms (Views: 3009.7ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:33:58 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (7.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3273ms (Views: 3269.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:34:34 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 72ms (Views: 68.8ms | ActiveRecord: 0.5ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-16 10:34:37 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"NXP622RmRt0SVuy9CDRAI6eLskI5GBvZEAHR4EsNC+q8O71nnjq/8ne+O5IGcZH9hOlXtajj48Q9P5crCh+RmA=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:34:37 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3582ms (Views: 3578.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 10:34:44 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 61ms (Views: 58.8ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 10:35:23 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 2909ms (Views: 2907.0ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-10-16 10:35:47 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HW+ftPbNPIxl+ZhNBqznj9fyOAm2t9asZ8k0hPLe/QeUJ9gIDJHFowART2II6TZR9JDd/idMLrFK93JPs8xndQ==", "user"=>{"email"=>"h.potter@hogwarts.com", "username"=>"harrypotter", "password"=>"[FILTERED]"}, "commit"=>"Sign me up!"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "h.potter@hogwarts.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "h.potter@hogwarts.com"], ["username", "harrypotter"], ["password_digest", "$2a$10$p84MWE30AbRtDMDbDLA1yu9OJh5skb9p2OWI7rUjZ5spnAIOlbUO2"], ["created_at", "2017-10-16 02:35:47.568205"], ["updated_at", "2017-10-16 02:35:47.568205"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 117ms (ActiveRecord: 10.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:35:47 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 99.8ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:36:46 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 72ms (Views: 69.3ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:37:09 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 2955ms (Views: 2951.2ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:38:46 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 2937ms (Views: 2933.5ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:40:28 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 2504ms (Views: 2501.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:40:43 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 2584ms (Views: 2581.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:41:48 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 2621ms (Views: 2617.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:42:11 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 69ms (Views: 65.8ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:43:27 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 3010ms (Views: 3007.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:44:10 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 3201ms (Views: 3198.5ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:44:48 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 3641ms (Views: 3638.3ms | ActiveRecord: 0.4ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 10:45:11 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 72ms (Views: 67.1ms | ActiveRecord: 0.2ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 10:46:29 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 2657ms (Views: 2653.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:46:39 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 88ms (Views: 82.5ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-16 10:46:43 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"4BYKoLYFkdR6vn9ddfV+rpQzHzPTp/u6c/WRrVbwMD9pXk0cTFlo+x9WqHJ7sK9wt1H6xEJcA6dey9dmF+KqTQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:46:43 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 62ms (Views: 59.2ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 10:48:14 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 3252ms (Views: 3249.5ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 10:48:17 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 123ms (Views: 119.0ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-16 10:48:48 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 71ms (Views: 68.1ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 10:48:50 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 80ms (Views: 77.3ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 10:49:37 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 3252ms (Views: 3249.2ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-16 10:49:45 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.8ms)
Completed 200 OK in 106ms (Views: 99.1ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 10:49:50 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 88ms (Views: 82.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:49:53 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 80ms (Views: 76.6ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-16 10:49:56 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 132ms (Views: 125.1ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-16 10:50:05 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"v2xsNcpHxJpszC2x1Mpru4ZKXHz9uQnyxUaXxKJXYnUXRxonX6u80zFd62BZyp/ccv/lB2Gtr5JMAikwAH0lSA==", "user"=>{"email"=>"hpotter@hogwarts.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hpotter@hogwarts.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sessions/new
Completed 302 Found in 13ms (ActiveRecord: 5.1ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-16 10:50:05 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 116ms (Views: 112.9ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-16 10:50:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/DnyPuraLGU6UbYNudxsVUVrRKAMRixjGMBUjCEBJlV1cbWCEIbVSl+5YSK3mb2LZgmhV5291H41/hJHYBO8Jw==", "user"=>{"email"=>"h.potter@hogwarts.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "h.potter@hogwarts.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 109ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:50:23 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 67.2ms | ActiveRecord: 0.3ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 10:50:26 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 70ms (Views: 64.8ms | ActiveRecord: 0.3ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 10:50:57 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NcqgULpPHu5m1u/yP7dKckZyExK8LD680/WtqD+NcWfflfh/S6ctO4aAmE7QvlRPXI1Uk7snKt8IaS+ajk51kQ==", "photo"=>{"user_id"=>"2", "photo"=>"https://www.irishtimes.com/polopoly_fs/1.3170107.1501253408!/image/image.jpg_gen/derivatives/box_620_330/image.jpg", "caption"=>"#tbt to first year lol"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption", "photo") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["created_at", "2017-10-16 02:51:06.708709"], ["updated_at", "2017-10-16 02:51:06.708709"], ["caption", "#tbt to first year lol"], ["photo", "https://www.irishtimes.com/polopoly_fs/1.3170107.1501253408!/image/image.jpg_gen/derivatives/box_620_330/image.jpg"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/2
Completed 302 Found in 8946ms (ActiveRecord: 7.7ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-16 10:51:06 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 64.5ms | ActiveRecord: 0.7ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 10:51:11 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 83ms (Views: 78.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 10:51:17 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 63ms (Views: 60.8ms | ActiveRecord: 0.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 10:51:30 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 60ms (Views: 56.8ms | ActiveRecord: 0.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 10:52:14 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 82ms (Views: 78.4ms | ActiveRecord: 0.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 10:54:52 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 65ms (Views: 61.4ms | ActiveRecord: 0.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 10:55:52 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 64ms (Views: 60.6ms | ActiveRecord: 0.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 10:56:01 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 87.4ms | ActiveRecord: 0.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 10:57:37 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 89ms (Views: 85.7ms | ActiveRecord: 0.4ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 10:58:05 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 67.0ms | ActiveRecord: 0.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 10:58:32 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 85ms (Views: 81.4ms | ActiveRecord: 0.3ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos" for 127.0.0.1 at 2017-10-16 11:52:04 +0800
  [1m[35m (7.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (21.1ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (uninitialized constant CarrierWave::Storage::Fog):
    1: <h2>All My Photos</h2>
    2: 
    3: <%= Photo.all %>
  
app/uploaders/image_uploader.rb:9:in `<class:ImageUploader>'
app/uploaders/image_uploader.rb:1:in `<top (required)>'
app/models/photo.rb:2:in `<class:Photo>'
app/models/photo.rb:1:in `<top (required)>'
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb___4578412833409435232_70197272928200'
Started GET "/photos" for 127.0.0.1 at 2017-10-16 11:54:50 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (9.5ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (uninitialized constant CarrierWave::Storage::Fog):
    1: <h2>All My Photos</h2>
    2: 
    3: <%= Photo.all %>
  
app/uploaders/image_uploader.rb:9:in `<class:ImageUploader>'
app/uploaders/image_uploader.rb:1:in `<top (required)>'
app/models/photo.rb:2:in `<class:Photo>'
app/models/photo.rb:1:in `<top (required)>'
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb___4578412833409435232_70197269187660'
Started GET "/" for 127.0.0.1 at 2017-10-16 11:55:09 +0800
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 890ms (Views: 857.4ms | ActiveRecord: 21.3ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 11:55:14 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (38.5ms)
Completed 200 OK in 143ms (Views: 130.5ms | ActiveRecord: 8.5ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 11:55:33 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"saMwDgMX0pPvodJgTJ3QuwximRC9nbURMWFbIgqNa7Jb/Ggh8v/hRg/3pdyjlM6GFp3ekbqWoXLq/dkQu05vRA==", "photo"=>{"user_id"=>"2", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f831643fa08 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-6471-nvyorx.jpg>, @original_filename="webdev2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[photo]\"; filename=\"webdev2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "caption"=>"My friends at NEXT!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (7.2ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption", "photo") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["created_at", "2017-10-16 03:55:41.129334"], ["updated_at", "2017-10-16 03:55:41.129334"], ["caption", "My friends at NEXT!"], ["photo", "#<ActionDispatch::Http::UploadedFile:0x007f831643fa08>"]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/3
Completed 302 Found in 7881ms (ActiveRecord: 23.3ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-16 11:55:41 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (13.1ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `each' for #<Photo:0x007f831b20ed60>):
     6:         <div class="image-container">
     7:           <%= image_tag @photo.image_url.to_s %>
     8: 
     9:           <% @photo.each do |photo| %>
    10:             <%= image_tag photo.image.url %>
    11:             <%= photo.caption %>
    12:           <% end %>
  
app/views/photos/show.html.erb:9:in `_app_views_photos_show_html_erb___1793299242378074907_70100536287460'
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos/3" for 127.0.0.1 at 2017-10-16 11:56:35 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (20.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 120ms (Views: 92.3ms | ActiveRecord: 21.4ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-16 11:56:49 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (nil is not a valid asset source):
    4:       <div class="content">
    5:         <%= link_to "Back", request.referer || root_path %>
    6:         <div class="image-container">
    7:           <%= image_tag @photo.image_url %>
    8: 
    9:         </div>
   10: 
  
app/views/photos/show.html.erb:7:in `_app_views_photos_show_html_erb___1793299242378074907_70100561692800'
Started GET "/photos" for 127.0.0.1 at 2017-10-16 11:57:10 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  Rendered photos/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 69ms (Views: 65.2ms | ActiveRecord: 0.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 11:59:08 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (12.8ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (The asset "" is not present in the asset pipeline.):
    3: <%= Photo.all %>
    4: 
    5: <%= Photo.all.each do |photo| %>
    6:   <%= image_tag photo.photo %>
    7:   <%= photo.caption %>
    8: <% end %>
  
app/views/photos/index.html.erb:6:in `block in _app_views_photos_index_html_erb__3674526038120139042_70100563590120'
app/views/photos/index.html.erb:5:in `_app_views_photos_index_html_erb__3674526038120139042_70100563590120'
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:16 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:17 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:17 +0800
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:18 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:25 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:25 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:28 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:29 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:31 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:31 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:35 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:41 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 11:59:42 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:02 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:09 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:10 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:26 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:33 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:34 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:34 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:39 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:40 +0800
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:44 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:48 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:49 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:00:50 +0800
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:01:03 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:02:09 +0800
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:02:09 +0800
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/832b90a536f54564100e10d553652e72" for 127.0.0.1 at 2017-10-16 12:02:17 +0800
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos" for 127.0.0.1 at 2017-10-16 12:03:06 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (3.7ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 89ms (Views: 84.6ms | ActiveRecord: 1.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RenamePhotoToPhotourl (20171016040420)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "photos" RENAME COLUMN "photo" TO "photo_url"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171016040420"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/photos/1" for 127.0.0.1 at 2017-10-16 12:05:26 +0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 120ms (Views: 91.3ms | ActiveRecord: 4.0ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-16 12:05:32 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPhoto Load (6.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 83ms (Views: 68.9ms | ActiveRecord: 7.1ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-16 12:05:35 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 62.0ms | ActiveRecord: 0.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 12:05:40 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 66.5ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 12:07:01 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 60ms (Views: 57.3ms | ActiveRecord: 0.3ms)


  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 12:11:34 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 69ms (Views: 66.7ms | ActiveRecord: 0.3ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 12:11:44 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FcoyTpHpKXKla4JvRfCUWIXDxHL9Rj+qS12f6wrmcnf/lWphYAEap0U99dOq+YplnzyD8/pNK8mQwR3ZuyV2gQ==", "photo"=>{"user_id"=>"2", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f83177897f8 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-6471-1is9b1q.png>, @original_filename="elabs.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"photo[photo]\"; filename=\"elabs.png\"\r\nContent-Type: image/png\r\n">, "caption"=>"Elabs logo"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 7532ms (ActiveRecord: 0.9ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'photo' for Photo.):
  
app/controllers/photos_controller.rb:12:in `create'
Started PUT "/__web_console/repl_sessions/e2cccfaaeb1d4270c027600bb3fd96cc" for 127.0.0.1 at 2017-10-16 12:12:04 +0800
Started PUT "/__web_console/repl_sessions/e2cccfaaeb1d4270c027600bb3fd96cc" for 127.0.0.1 at 2017-10-16 12:12:04 +0800
Started PUT "/__web_console/repl_sessions/e2cccfaaeb1d4270c027600bb3fd96cc" for 127.0.0.1 at 2017-10-16 12:12:11 +0800
Started PUT "/__web_console/repl_sessions/e2cccfaaeb1d4270c027600bb3fd96cc" for 127.0.0.1 at 2017-10-16 12:12:17 +0800
Started PUT "/__web_console/repl_sessions/e2cccfaaeb1d4270c027600bb3fd96cc" for 127.0.0.1 at 2017-10-16 12:12:18 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/e2cccfaaeb1d4270c027600bb3fd96cc" for 127.0.0.1 at 2017-10-16 12:12:24 +0800
Started PUT "/__web_console/repl_sessions/e2cccfaaeb1d4270c027600bb3fd96cc" for 127.0.0.1 at 2017-10-16 12:12:24 +0800
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 2], ["created_at", "2017-10-16 04:12:24.976368"], ["updated_at", "2017-10-16 04:12:24.976368"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Started POST "/photos" for 127.0.0.1 at 2017-10-16 12:12:47 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"t5h9YcuGRmWYTN4MporRM5uFfo/+FxDYXgiD8v9jc40+0DrdMdq/Sv2kCSOozwDtuOebeG/s6MVzNsU5vnHp/w==", "photo"=>{"user_id"=>"2", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f831bab7020 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-6471-1km43si.png>, @original_filename="elabs.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"photo[photo]\"; filename=\"elabs.png\"\r\nContent-Type: image/png\r\n">, "caption"=>"Elabs logo"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: :photo
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["created_at", "2017-10-16 04:12:50.857912"], ["updated_at", "2017-10-16 04:12:50.857912"], ["caption", "Elabs logo"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/5
Completed 302 Found in 3176ms (ActiveRecord: 1.4ms)


Started GET "/photos/5" for 127.0.0.1 at 2017-10-16 12:12:50 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 62.2ms | ActiveRecord: 0.9ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 12:12:56 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 114ms (Views: 109.6ms | ActiveRecord: 0.2ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 12:14:34 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 89ms (Views: 85.9ms | ActiveRecord: 0.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 12:14:37 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 108.6ms | ActiveRecord: 0.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 12:15:22 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 86ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"users"}, missing required keys: [:id]):
    12:     <div id="navbar">
    13:       <%= link_to "Home", root_path, class: '' %>
    14:       <% if current_user %>
    15:         <%= link_to "#{current_user.username}", user_path %>
    16:         <%= link_to "New Photo", new_photo_path %>
    17:         <%= link_to "Logout", "/sessions", class: 'button btn-info text-center', method: :delete %>
    18:       <% else %>
  
app/views/layouts/application.html.erb:15:in `_app_views_layouts_application_html_erb___3608784630124251730_70100563247300'
Started GET "/" for 127.0.0.1 at 2017-10-16 12:15:49 +0800
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (3.1ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 614ms (ActiveRecord: 8.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"users"}, missing required keys: [:id]):
    12:     <div id="navbar">
    13:       <%= link_to "Home", root_path, class: '' %>
    14:       <% if current_user %>
    15:         <%= link_to "#{current_user.username}", user_path %>
    16:         <%= link_to "New Photo", new_photo_path %>
    17:         <%= link_to "Logout", "/sessions", class: 'button btn-info text-center', method: :delete %>
    18:       <% else %>
  
app/views/layouts/application.html.erb:15:in `_app_views_layouts_application_html_erb__4504462210141793482_70304071317340'
Started GET "/" for 127.0.0.1 at 2017-10-16 12:16:27 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 84.5ms | ActiveRecord: 12.4ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:16:30 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 86ms (Views: 81.5ms | ActiveRecord: 0.5ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:18:59 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (5.3ms)
Completed 500 Internal Server Error in 55ms (ActiveRecord: 3.1ms)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    1: <h3>User profile page</h3>
    2: 
    3: <%= @photos.each do |photo| %>
    4:   <% photo.caption %>
    5: <% end %>
  
app/views/users/show.html.erb:3:in `_app_views_users_show_html_erb___4177488376797719065_70304117893220'
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:19:31 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.9ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (4.0ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined method `caption' for nil:NilClass):
    1: <h3>User profile page</h3>
    2: 
    3: <%= @photos.caption %>
  
app/views/users/show.html.erb:3:in `_app_views_users_show_html_erb___4177488376797719065_70304140166580'
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:19:46 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.5ms)
Completed 200 OK in 93ms (Views: 83.4ms | ActiveRecord: 3.8ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:20:10 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 111ms (Views: 72.0ms | ActiveRecord: 2.3ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:20:29 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (4.9ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `caption' for nil:NilClass):
    1: <h3>User profile page</h3>
    2: 
    3: <%= @photos.caption %>
  
app/views/users/show.html.erb:3:in `_app_views_users_show_html_erb___4177488376797719065_70304157294160'
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:20:43 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (5.0ms)
Completed 500 Internal Server Error in 55ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (undefined method `caption' for nil:NilClass):
    1: <h3>User profile page</h3>
    2: 
    3: <%= @photos.caption %>
  
app/views/users/show.html.erb:3:in `_app_views_users_show_html_erb___4177488376797719065_70304125178000'
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:20:54 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (2.8ms)
Completed 200 OK in 150ms (Views: 104.6ms | ActiveRecord: 1.0ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:21:15 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (4.9ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined method `caption' for nil:NilClass):
    1: <h3>User profile page</h3>
    2: 
    3: <%= @photos.caption %>
  
app/views/users/show.html.erb:3:in `_app_views_users_show_html_erb___4177488376797719065_70304123342240'
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:22:01 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 42ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `current_user' for #<Class:0x007fe1e2f22030>
Did you mean?  current_scope):
  
app/controllers/users_controller.rb:17:in `show'
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:22:13 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/users_controller.rb:17: syntax error, unexpected tIVAR, expecting '('
    @photos = Photo.@user.all
                         ^):
  
app/controllers/users_controller.rb:17: syntax error, unexpected tIVAR, expecting '('
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:22:31 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 51ms (ActiveRecord: 4.8ms)


  
NoMethodError (undefined method `current_user' for #<Class:0x007fe1ec9d2828>
Did you mean?  current_scope):
  
app/controllers/users_controller.rb:17:in `show'
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:22:50 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `all' for #<User:0x007fe1ea957350>):
  
app/controllers/users_controller.rb:17:in `show'
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:23:04 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `all' for #<User:0x007fe1e33a8910>):
  
app/controllers/users_controller.rb:17:in `show'
Started PUT "/__web_console/repl_sessions/19763f09d3b433c04c11a1186e93bd80" for 127.0.0.1 at 2017-10-16 12:23:11 +0800
Started PUT "/__web_console/repl_sessions/19763f09d3b433c04c11a1186e93bd80" for 127.0.0.1 at 2017-10-16 12:23:15 +0800
Started PUT "/__web_console/repl_sessions/19763f09d3b433c04c11a1186e93bd80" for 127.0.0.1 at 2017-10-16 12:23:17 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/19763f09d3b433c04c11a1186e93bd80" for 127.0.0.1 at 2017-10-16 12:23:20 +0800
Started PUT "/__web_console/repl_sessions/19763f09d3b433c04c11a1186e93bd80" for 127.0.0.1 at 2017-10-16 12:23:20 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:23:35 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  Rendered users/show.html.erb within layouts/application (24.3ms)
Completed 500 Internal Server Error in 62ms (ActiveRecord: 2.2ms)


  
ActionView::Template::Error (undefined method `caption' for #<Photo::ActiveRecord_AssociationRelation:0x007fe1e7a17d88>):
    1: <h3>User profile page</h3>
    2: 
    3: <%= @photos.caption %>
  
app/views/users/show.html.erb:3:in `_app_views_users_show_html_erb___4177488376797719065_70304115242280'
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:23:42 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:23:46 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:23:47 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:23:47 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:23:49 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:23:55 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:23:59 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:24:04 +0800
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:24:10 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:24:16 +0800
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:24:19 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:24:19 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:24:21 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:24:23 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:24:41 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:24:42 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:27:11 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:27:12 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:27:21 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:27:22 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:27:22 +0800
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:27:26 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:27:26 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:27:41 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:27:42 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:27:43 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:27:46 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:28:21 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:28:23 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:28:33 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:28:45 +0800
Started PUT "/__web_console/repl_sessions/d29de249f2833a124b5c7e295788402d" for 127.0.0.1 at 2017-10-16 12:28:50 +0800
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:29:24 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 99ms (Views: 92.2ms | ActiveRecord: 0.7ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:30:02 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (8.3ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (The asset "" is not present in the asset pipeline.):
    1: <h3>User profile page</h3>
    2: 
    3: <%= @photos.each do |photo| %>
    4:   <%= image_tag photo.photo_url %>
    5:   <%= photo.caption %>
    6: <% end %>
  
app/views/users/show.html.erb:4:in `block in _app_views_users_show_html_erb___4177488376797719065_70304156278540'
app/views/users/show.html.erb:3:in `_app_views_users_show_html_erb___4177488376797719065_70304156278540'
Started PUT "/__web_console/repl_sessions/0f90f434ab42d10b9a149a46651976c8" for 127.0.0.1 at 2017-10-16 12:30:19 +0800
Started PUT "/__web_console/repl_sessions/0f90f434ab42d10b9a149a46651976c8" for 127.0.0.1 at 2017-10-16 12:30:19 +0800
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:30:41 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (5.7ms)
Completed 200 OK in 97ms (Views: 91.8ms | ActiveRecord: 0.8ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:31:17 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (26510.5ms)
Completed 200 OK in 26596ms (Views: 26590.6ms | ActiveRecord: 0.7ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 12:31:54 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 94ms (Views: 87.1ms | ActiveRecord: 0.8ms)


  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 12:37:10 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (10.4ms)
Completed 200 OK in 88ms (Views: 84.7ms | ActiveRecord: 0.4ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 12:38:37 +0800
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (47.6ms)
Completed 200 OK in 587ms (Views: 571.7ms | ActiveRecord: 4.8ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 12:38:49 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"68enAJgq0kjzlUs4pyoIyU2/SMUqxl+Iqc2fEI2BeeJij+C8YnYrZ5Z9nBepb9kXbt2tMrs9p5WE89nbzJPjkA==", "photo"=>{"user_id"=>"2", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9d80268368 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-7091-1hhvmm7.png>, @original_filename="streamr-logo.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"photo[photo]\"; filename=\"streamr-logo.png\"\r\nContent-Type: image/png\r\n">, "caption"=>"Streamr logo"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: :photo
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["created_at", "2017-10-16 04:38:50.091961"], ["updated_at", "2017-10-16 04:38:50.091961"], ["caption", "Streamr logo"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/6
Completed 302 Found in 106ms (ActiveRecord: 20.9ms)


Started GET "/photos/6" for 127.0.0.1 at 2017-10-16 12:38:50 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 138ms (Views: 127.4ms | ActiveRecord: 1.3ms)


  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 12:40:52 +0800
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (64.8ms)
Completed 200 OK in 627ms (Views: 609.7ms | ActiveRecord: 4.5ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 12:41:06 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6igZpS6a9w6jn2CshrNKbkA+KmbtSD9F390kvoFeTzAAd0GK33LE20PJFxBpulRTWsFt5+pDKyYEQaaMMJ1Lxg==", "photo"=>{"user_id"=>"2", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007fabccce8388 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-7149-1kq35q5.png>, @original_filename="smart-gamer-ad.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"photo[photo]\"; filename=\"smart-gamer-ad.png\"\r\nContent-Type: image/png\r\n">, "caption"=>"Smart gamer logo"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: :photo
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["created_at", "2017-10-16 04:41:06.443103"], ["updated_at", "2017-10-16 04:41:06.443103"], ["caption", "Smart gamer logo"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/7
Completed 302 Found in 114ms (ActiveRecord: 20.4ms)


Started GET "/photos/7" for 127.0.0.1 at 2017-10-16 12:41:06 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 104.1ms | ActiveRecord: 1.0ms)


  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 12:42:21 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (29.3ms)
Completed 200 OK in 119ms (Views: 113.1ms | ActiveRecord: 0.5ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 12:42:40 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cyoqrn9qqbnP/XpAF06cBUUvDy1BWn0fRCKT3NNggsGZdXKBjoKabC+rDfz4R4I4X9BIrEZRaXyfvhHuYqOGNw==", "photo"=>{"user_id"=>"2", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007fabca5dfea8 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-7149-138wx8z.png>, @original_filename="elabs.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"photo[photo]\"; filename=\"elabs.png\"\r\nContent-Type: image/png\r\n">, "caption"=>"Elabs"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: :photo
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["created_at", "2017-10-16 04:42:40.404443"], ["updated_at", "2017-10-16 04:42:40.404443"], ["caption", "Elabs"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/8
Completed 302 Found in 42ms (ActiveRecord: 7.0ms)


Started GET "/photos/8" for 127.0.0.1 at 2017-10-16 12:42:40 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 63.2ms | ActiveRecord: 0.9ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 12:43:33 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 78ms (Views: 74.8ms | ActiveRecord: 0.3ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 12:43:41 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cEVELUAxCrcWP+Q3KZPQwMHCTTRGfTlURt29+qPx+tGaGhwCsdk5YvZpk4vGms792z0KtUF2LTedQT/IEjL+Jw==", "photo"=>{"user_id"=>"2", "photo_url"=>#<ActionDispatch::Http::UploadedFile:0x007fabcf6fc598 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-7149-ok6azw.png>, @original_filename="elabs.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"photo[photo_url]\"; filename=\"elabs.png\"\r\nContent-Type: image/png\r\n">, "caption"=>"Favicon"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 30ms (ActiveRecord: 4.2ms)


  
NoMethodError (undefined method `resize_to_fit' for #<ImageUploader:0x007fabd0801640>):
  
app/controllers/photos_controller.rb:11:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-16 13:28:47 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sW45ngHBsObyJZpiEEzU2C8EehXiZI7hT6yVoDIuYPg4Jn4i+51JyZfNTU0eCQUGDGaf4nOfdvxiktNrczz6ig==", "photo"=>{"user_id"=>"2", "photo_url"=>#<ActionDispatch::Http::UploadedFile:0x007fabd19a22a0 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-7149-18s9395.png>, @original_filename="elabs.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"photo[photo_url]\"; filename=\"elabs.png\"\r\nContent-Type: image/png\r\n">, "caption"=>"Favicon"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 55ms (ActiveRecord: 3.3ms)


  
NoMethodError (undefined method `resize_to_fill' for #<ImageUploader::Uploader70187960380800:0x007fabd2860620>):
  
app/controllers/photos_controller.rb:11:in `create'
Started POST "/photos" for 127.0.0.1 at 2017-10-16 13:29:38 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sW45ngHBsObyJZpiEEzU2C8EehXiZI7hT6yVoDIuYPg4Jn4i+51JyZfNTU0eCQUGDGaf4nOfdvxiktNrczz6ig==", "photo"=>{"user_id"=>"2", "photo_url"=>#<ActionDispatch::Http::UploadedFile:0x007fabd2a5bb78 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-7149-1dvseyz.png>, @original_filename="elabs.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"photo[photo_url]\"; filename=\"elabs.png\"\r\nContent-Type: image/png\r\n">, "caption"=>"Favicon"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption", "photo_url") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["created_at", "2017-10-16 05:29:39.024740"], ["updated_at", "2017-10-16 05:29:39.024740"], ["caption", "Favicon"], ["photo_url", "54427464-4592-477d-a6c7-241f01d0c248-elabs.png"]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/9
Completed 302 Found in 2786ms (ActiveRecord: 9.1ms)


Started GET "/photos/9" for 127.0.0.1 at 2017-10-16 13:29:41 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 73ms (Views: 67.5ms | ActiveRecord: 0.8ms)


  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users/2" for 127.0.0.1 at 2017-10-16 13:30:56 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (28.7ms)
Completed 200 OK in 148ms (Views: 106.6ms | ActiveRecord: 9.3ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 13:31:11 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 92ms (Views: 85.8ms | ActiveRecord: 1.0ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 13:33:10 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 83ms (Views: 77.5ms | ActiveRecord: 0.6ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 13:33:31 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (5.5ms)
Completed 200 OK in 88ms (Views: 83.0ms | ActiveRecord: 0.3ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 13:34:14 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SVwJ2dp6TDKfcKgW5+ancYN+2RmDuZwFW+RUVFMGOlyjA1H2K5J/538m36oI77lMmYGemISyiGaAeNZm4sU+qg==", "photo"=>{"user_id"=>"2", "photo_url"=>#<ActionDispatch::Http::UploadedFile:0x007fabcf3449a0 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-7149-frumgh.jpg>, @original_filename="hp.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[photo_url]\"; filename=\"hp.jpg\"\r\nContent-Type: image/jpeg\r\n">, "caption"=>"Kid style #tbt"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption", "photo_url") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["created_at", "2017-10-16 05:34:15.203796"], ["updated_at", "2017-10-16 05:34:15.203796"], ["caption", "Kid style #tbt"], ["photo_url", "41f7b327-926b-483f-840a-8c85ed6a5af1-hp.jpg"]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/10
Completed 302 Found in 5140ms (ActiveRecord: 4.1ms)


Started GET "/photos/10" for 127.0.0.1 at 2017-10-16 13:34:20 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 101ms (Views: 95.0ms | ActiveRecord: 0.7ms)


Started GET "/photos/10" for 127.0.0.1 at 2017-10-16 13:35:20 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 86.1ms | ActiveRecord: 0.6ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 13:35:27 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (22.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (35.2ms)
Completed 200 OK in 152ms (Views: 115.6ms | ActiveRecord: 23.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 13:35:54 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 66.1ms | ActiveRecord: 0.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 13:35:58 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (6.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 72ms (Views: 67.9ms | ActiveRecord: 1.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 13:36:35 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 95ms (Views: 90.0ms | ActiveRecord: 0.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 13:36:48 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 80ms (Views: 76.6ms | ActiveRecord: 1.1ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 13:37:05 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 104ms (Views: 101.1ms | ActiveRecord: 0.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 13:37:28 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (5.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 113.2ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 13:37:33 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 82ms (Views: 77.3ms | ActiveRecord: 0.4ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-16 13:37:35 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"No6suh1H/4w2W0yab2H2WzzaOMmZ+bRpVlvzSybu5lO/xusG5xsGo1Ozm7VhJCeFH7jdPggCTHR7ZbWAZ/x8IQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 13:37:35 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 151ms (Views: 146.0ms | ActiveRecord: 0.0ms)


  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (239.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "instasnap_development"[0m
  [1m[35m (205.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "instasnap_test"[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20171014074038)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171014074038"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePhotos (20171015150251)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "photos" ("id" bigserial primary key, "users_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_photos_on_users_id" ON "photos"  ("users_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015150251"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLikes (20171015150519)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "users_id" bigint, "photos_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_users_id" ON "likes"  ("users_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_likes_on_photos_id" ON "likes"  ("photos_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015150519"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateComments (20171015150615)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "users_id" bigint, "photos_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_users_id" ON "comments"  ("users_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_photos_id" ON "comments"  ("photos_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015150615"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCaptionToPhotos (20171015150921)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "photos" ADD "caption" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015150921"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddImageToPhotos (20171015151033)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "photos" ADD "photo" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015151033"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCommentToComments (20171015151318)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "comments" ADD "comment" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015151318"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLikeToLikes (20171015151337)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "likes" ADD "likes" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171015151337"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeUsersIdInPhotos (20171016020822)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "photos" RENAME COLUMN "users_id" TO "user_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER INDEX "index_photos_on_users_id" RENAME TO "index_photos_on_user_id"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171016020822"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenamePhotoToPhotourl (20171016040420)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "photos" RENAME COLUMN "photo" TO "photo_url"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171016040420"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-10-16 05:38:20.943550"], ["updated_at", "2017-10-16 05:38:20.943550"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-10-16 13:38:35 +0800
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 535ms (Views: 522.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 13:38:41 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (28.2ms)
Completed 200 OK in 134ms (Views: 128.5ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-10-16 13:38:58 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"eFb8VAZN8fYEBTMZzZJzEQOoEKCErdv70bhlo2aSbrLPqdWEmSC732AjbGD8Tr0SVim57i+E5K5TKiMdiWkGUg==", "user"=>{"email"=>"qiannyqian@email.com", "username"=>"qiannyqian", "password"=>"[FILTERED]"}, "commit"=>"Sign me up!"}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "qiannyqian@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "qiannyqian@email.com"], ["username", "qiannyqian"], ["password_digest", "$2a$10$gZDCZ9KHaNXyJdrK0Jrxiev7EyS.TGKzF0Vg5gzVCG7CohdtT6qsy"], ["created_at", "2017-10-16 05:38:58.781887"], ["updated_at", "2017-10-16 05:38:58.781887"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 195ms (ActiveRecord: 23.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 13:38:58 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 104ms (Views: 98.6ms | ActiveRecord: 0.8ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 13:39:02 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 76ms (Views: 73.2ms | ActiveRecord: 0.3ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 13:39:19 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1kMgQzCx2rXSJJsF1kaDhPqBoFDQ1xV40zZWNnQtJtc8HHhswVnpYDJy7Lk5T5254H7n0dfcARsIqtQExe4iIQ==", "photo"=>{"user_id"=>"1", "photo_url"=>#<ActionDispatch::Http::UploadedFile:0x007fbf76d632c8 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-7604-cp8azs.jpg>, @original_filename="webdev2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[photo_url]\"; filename=\"webdev2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "caption"=>"When your team fly af."}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption", "photo_url") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2017-10-16 05:39:20.015822"], ["updated_at", "2017-10-16 05:39:20.015822"], ["caption", "When your team fly af."], ["photo_url", "6326e22e-46d6-4e53-938f-b7b7455fdbe6-webdev2.jpg"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/1
Completed 302 Found in 12008ms (ActiveRecord: 9.0ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-16 13:39:31 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 71ms (Views: 64.7ms | ActiveRecord: 0.9ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 13:39:38 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 91ms (Views: 86.1ms | ActiveRecord: 0.4ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 13:40:11 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Nm18BjZJecliaprLOcre6UXlscqQjrIZ9vhyPS436v3cMiQpx6FKHII87XfWw8DUXxr2S5eFpnotZPAPn/TuCw==", "photo"=>{"user_id"=>"1", "photo_url"=>#<ActionDispatch::Http::UploadedFile:0x007fbf7aa52d00 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-7604-1j8dsun.png>, @original_filename="logo.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"photo[photo_url]\"; filename=\"logo.png\"\r\nContent-Type: image/png\r\n">, "caption"=>"Our team logo designed by Kent! Feels great to have won Favourite App of the night! :D"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption", "photo_url") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2017-10-16 05:40:11.324281"], ["updated_at", "2017-10-16 05:40:11.324281"], ["caption", "Our team logo designed by Kent! Feels great to have won Favourite App of the night! :D"], ["photo_url", "983eee7a-5cdd-4bcf-9d4d-8b03bc29248d-logo.png"]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/2
Completed 302 Found in 3277ms (ActiveRecord: 4.0ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-16 13:40:14 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 71ms (Views: 66.8ms | ActiveRecord: 0.8ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 13:40:19 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 77ms (Views: 71.9ms | ActiveRecord: 0.3ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 13:40:20 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (11.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (15.4ms)
Completed 200 OK in 117ms (Views: 97.0ms | ActiveRecord: 12.0ms)


  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/photos" for 127.0.0.1 at 2017-10-16 13:42:39 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (26.9ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `user' for nil:NilClass):
    4: <% Photo.all.each do |photo| %>
    5:   <%= image_tag photo.photo_url %>
    6:   <%= photo.caption %>
    7:   <p>Posted by: <%= @photo.user.username %></p>
    8: <% end %>
  
app/views/photos/index.html.erb:7:in `block in _app_views_photos_index_html_erb__3085456902380104883_70230139981860'
app/views/photos/index.html.erb:4:in `_app_views_photos_index_html_erb__3085456902380104883_70230139981860'
Started PUT "/__web_console/repl_sessions/fff604c78db3f9506dc3714e96c81e1b" for 127.0.0.1 at 2017-10-16 13:42:53 +0800
Started PUT "/__web_console/repl_sessions/fff604c78db3f9506dc3714e96c81e1b" for 127.0.0.1 at 2017-10-16 13:42:53 +0800
Started PUT "/__web_console/repl_sessions/fff604c78db3f9506dc3714e96c81e1b" for 127.0.0.1 at 2017-10-16 13:42:57 +0800
Started PUT "/__web_console/repl_sessions/fff604c78db3f9506dc3714e96c81e1b" for 127.0.0.1 at 2017-10-16 13:42:59 +0800
Started PUT "/__web_console/repl_sessions/fff604c78db3f9506dc3714e96c81e1b" for 127.0.0.1 at 2017-10-16 13:43:17 +0800
Started PUT "/__web_console/repl_sessions/fff604c78db3f9506dc3714e96c81e1b" for 127.0.0.1 at 2017-10-16 13:43:25 +0800
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/photos" for 127.0.0.1 at 2017-10-16 13:44:04 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (34.6ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `username' for nil:NilClass):
    4: <% Photo.all.each do |photo| %>
    5:   <%= image_tag photo.photo_url %>
    6:   <%= photo.caption %>
    7:   <p>Posted by: <%= @user.username %></p>
    8: <% end %>
  
app/views/photos/index.html.erb:7:in `block in _app_views_photos_index_html_erb__3085456902380104883_70230200159480'
app/views/photos/index.html.erb:4:in `_app_views_photos_index_html_erb__3085456902380104883_70230200159480'
Started PUT "/__web_console/repl_sessions/82914f578f21b36352694e206e459679" for 127.0.0.1 at 2017-10-16 13:44:13 +0800
Started PUT "/__web_console/repl_sessions/82914f578f21b36352694e206e459679" for 127.0.0.1 at 2017-10-16 13:44:22 +0800
Started PUT "/__web_console/repl_sessions/82914f578f21b36352694e206e459679" for 127.0.0.1 at 2017-10-16 13:44:29 +0800
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/82914f578f21b36352694e206e459679" for 127.0.0.1 at 2017-10-16 13:44:34 +0800
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/82914f578f21b36352694e206e459679" for 127.0.0.1 at 2017-10-16 13:44:36 +0800
Started PUT "/__web_console/repl_sessions/82914f578f21b36352694e206e459679" for 127.0.0.1 at 2017-10-16 13:44:36 +0800
Started PUT "/__web_console/repl_sessions/82914f578f21b36352694e206e459679" for 127.0.0.1 at 2017-10-16 13:44:37 +0800
Started PUT "/__web_console/repl_sessions/82914f578f21b36352694e206e459679" for 127.0.0.1 at 2017-10-16 13:44:44 +0800
Started PUT "/__web_console/repl_sessions/82914f578f21b36352694e206e459679" for 127.0.0.1 at 2017-10-16 13:44:49 +0800
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/82914f578f21b36352694e206e459679" for 127.0.0.1 at 2017-10-16 13:44:51 +0800
Started PUT "/__web_console/repl_sessions/82914f578f21b36352694e206e459679" for 127.0.0.1 at 2017-10-16 13:44:52 +0800
Started PUT "/__web_console/repl_sessions/82914f578f21b36352694e206e459679" for 127.0.0.1 at 2017-10-16 13:44:53 +0800
Started GET "/photos" for 127.0.0.1 at 2017-10-16 13:45:14 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (33.3ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 4.1ms)


  
ActionView::Template::Error (undefined method `username' for nil:NilClass):
    4: <% Photo.all.each do |photo| %>
    5:   <%= image_tag photo.photo_url %>
    6:   <%= photo.caption %>
    7:   <p>Posted by: <%= @user.username %></p>
    8: <% end %>
  
app/views/photos/index.html.erb:7:in `block in _app_views_photos_index_html_erb__3085456902380104883_70230121787360'
app/views/photos/index.html.erb:4:in `_app_views_photos_index_html_erb__3085456902380104883_70230121787360'
Started GET "/photos" for 127.0.0.1 at 2017-10-16 13:45:42 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (6.5ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `username' for nil:NilClass):
    4: <% Photo.all.each do |photo| %>
    5:   <%= image_tag photo.photo_url %>
    6:   <%= photo.caption %>
    7:   <p>Posted by: <%= @photo.username %></p>
    8: <% end %>
  
app/views/photos/index.html.erb:7:in `block in _app_views_photos_index_html_erb__3085456902380104883_70230155453400'
app/views/photos/index.html.erb:4:in `_app_views_photos_index_html_erb__3085456902380104883_70230155453400'
Started GET "/photos" for 127.0.0.1 at 2017-10-16 13:45:50 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (5.8ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `user' for nil:NilClass):
    4: <% Photo.all.each do |photo| %>
    5:   <%= image_tag photo.photo_url %>
    6:   <%= photo.caption %>
    7:   <p>Posted by: <%= @photo.user %></p>
    8: <% end %>
  
app/views/photos/index.html.erb:7:in `block in _app_views_photos_index_html_erb__3085456902380104883_70230206678960'
app/views/photos/index.html.erb:4:in `_app_views_photos_index_html_erb__3085456902380104883_70230206678960'
Started GET "/photos" for 127.0.0.1 at 2017-10-16 13:46:07 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (20.6ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 87ms (Views: 83.8ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 13:46:29 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 64.1ms | ActiveRecord: 0.2ms)


  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2017-10-16 14:10:05 +0800
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 619ms (Views: 597.3ms | ActiveRecord: 9.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:10:51 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 114.4ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:11:00 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2772ms (Views: 2767.9ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:11:35 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2860ms (Views: 2856.3ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:14:16 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 69ms (Views: 66.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:14:41 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3595ms (Views: 3590.0ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:15:28 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2686ms (Views: 2682.3ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:15:49 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3493ms (Views: 3488.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:16:17 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3228ms (Views: 3223.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:17:05 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 4288ms (Views: 4283.1ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:18:14 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2512ms (Views: 2508.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:19:04 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 86.1ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:19:27 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 85ms (Views: 82.4ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-16 14:19:43 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"JJR9jyVj2xMTvQNMdqdCDnbYlOn3dc/QokIOXazgPiut3Doz3z8iPHZV1GN44pPQVbpxHmaON82PfEiW7fKkWQ=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:19:43 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 60ms (Views: 57.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:20:15 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 63ms (Views: 60.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:20:32 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3905ms (Views: 3902.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:20:59 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3582ms (Views: 3577.3ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 14:21:51 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (13.7ms)
Completed 200 OK in 83ms (Views: 78.7ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 14:23:18 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 2668ms (Views: 2664.8ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 14:23:34 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 77ms (Views: 74.0ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 14:23:47 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 2741ms (Views: 2738.4ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-16 14:23:56 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 111ms (Views: 100.8ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-16 14:25:03 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 2544ms (Views: 2541.0ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 14:25:18 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 83ms (Views: 78.5ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-16 14:25:26 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 125ms (Views: 118.3ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-16 14:25:47 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JEn09k4rn5TZEX0F4WSZeWlMVjUALuaRwcjto1chRx2MYoLk28fn3YSAu9RsZG0enfnvTpw6QPFIjFNX9QsAIA==", "user"=>{"email"=>"qiannyqian@email.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "qiannyqian@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 101ms (ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:25:47 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 67.2ms | ActiveRecord: 0.3ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 14:25:54 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 76ms (Views: 69.5ms | ActiveRecord: 0.2ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 14:26:50 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 2782ms (Views: 2778.8ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:26:59 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (17.3ms)
Completed 200 OK in 148ms (Views: 78.1ms | ActiveRecord: 3.7ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:30:11 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.5ms)
Completed 200 OK in 85ms (Views: 79.0ms | ActiveRecord: 0.7ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-16 14:30:14 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (4.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 105ms (Views: 96.5ms | ActiveRecord: 0.7ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:30:17 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 131ms (Views: 123.3ms | ActiveRecord: 0.9ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:30:22 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (7.0ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos"}, missing required keys: [:id]):
    2: 
    3: <% Photo.all.each do |photo| %>
    4:   <%= image_tag photo.photo_url %>
    5:   <%= link_to "#{photo.caption}", photo_path %>
    6:   <p>Posted by: <%= photo.user.username %></p>
    7: <% end %>
  
app/views/photos/index.html.erb:5:in `block in _app_views_photos_index_html_erb__2820593922325141973_70226959038120'
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb__2820593922325141973_70226959038120'
Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:32:55 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (5.3ms)
Completed 200 OK in 90ms (Views: 83.1ms | ActiveRecord: 0.8ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:34:48 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (5.1ms)
Completed 200 OK in 3022ms (Views: 3016.4ms | ActiveRecord: 0.7ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:35:05 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 81ms (Views: 75.1ms | ActiveRecord: 0.8ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:35:25 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (4.0ms)
Completed 200 OK in 3380ms (Views: 3373.5ms | ActiveRecord: 0.7ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:35:59 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 2777ms (Views: 2771.0ms | ActiveRecord: 0.8ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:36:05 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (4.3ms)
Completed 200 OK in 75ms (Views: 69.6ms | ActiveRecord: 0.7ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:36:13 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 2857ms (Views: 2850.8ms | ActiveRecord: 0.7ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:36:50 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 76ms (Views: 69.9ms | ActiveRecord: 0.7ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:37:20 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 2847ms (Views: 2840.2ms | ActiveRecord: 0.8ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:37:40 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 2929ms (Views: 2922.0ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:37:59 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 96ms (Views: 85.2ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-16 14:38:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (2.9ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (7.3ms)
Completed 200 OK in 132ms (Views: 117.5ms | ActiveRecord: 3.6ms)


Started GET "/users/1?class=caption" for 127.0.0.1 at 2017-10-16 14:38:14 +0800
Processing by UsersController#show as HTML
  Parameters: {"class"=>"caption", "id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (4.7ms)
Completed 200 OK in 116ms (Views: 108.1ms | ActiveRecord: 1.9ms)


Started GET "/users/1?class=caption" for 127.0.0.1 at 2017-10-16 14:38:17 +0800
Processing by UsersController#show as HTML
  Parameters: {"class"=>"caption", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (5.2ms)
Completed 200 OK in 105ms (Views: 98.8ms | ActiveRecord: 0.7ms)


Started GET "/users/1?class=caption" for 127.0.0.1 at 2017-10-16 14:38:17 +0800
Processing by UsersController#show as HTML
  Parameters: {"class"=>"caption", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 131ms (Views: 119.7ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:40:18 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 81ms (Views: 78.0ms | ActiveRecord: 0.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:40:21 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  Rendered photos/index.html.erb within layouts/application (5.2ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos"}, missing required keys: [:id]):
    2: 
    3: <% Photo.all.each do |photo| %>
    4:   <%= image_tag photo.photo_url %>
    5:   <%= link_to "#{photo.caption}", photo_path %>
    6:   <p>Posted by: <%= photo.user.username %></p>
    7: <% end %>
  
app/views/photos/index.html.erb:5:in `block in _app_views_photos_index_html_erb__2820593922325141973_70227017428800'
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb__2820593922325141973_70227017428800'
Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:40:38 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (7.5ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 77ms (Views: 73.3ms | ActiveRecord: 0.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:41:28 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (361.0ms)
Completed 500 Internal Server Error in 372ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined local variable or method `photo_params' for #<#<Class:0x007fbdfdfa1780>:0x007fbdfe2fc858>
Did you mean?  photo_path):
    3: <% Photo.all.each do |photo| %>
    4:   <%= image_tag photo.photo_url %>
    5:   <%= photo.caption %>
    6:   <p>Posted by: <%= photo.user.username %> <%= link_to "#{photo.user.username}", photo_path(photo_params)%></p>
    7: <% end %>
  
app/views/photos/index.html.erb:6:in `block in _app_views_photos_index_html_erb__2820593922325141973_70226995085960'
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb__2820593922325141973_70226995085960'
Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:41:39 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (7.4ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"photos"}, missing required keys: [:id]):
    3: <% Photo.all.each do |photo| %>
    4:   <%= image_tag photo.photo_url %>
    5:   <%= photo.caption %>
    6:   <p>Posted by: <%= photo.user.username %> <%= link_to "#{photo.user.username}", photo_path%></p>
    7: <% end %>
  
app/views/photos/index.html.erb:6:in `block in _app_views_photos_index_html_erb__2820593922325141973_70227034253280'
app/views/photos/index.html.erb:3:in `_app_views_photos_index_html_erb__2820593922325141973_70227034253280'
Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:42:10 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (5.6ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 94ms (Views: 90.5ms | ActiveRecord: 0.6ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:43:32 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (6.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2731ms (Views: 2725.5ms | ActiveRecord: 0.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:43:50 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (5.5ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 79ms (Views: 75.6ms | ActiveRecord: 0.6ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:44:06 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (6.3ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2970ms (Views: 2964.8ms | ActiveRecord: 0.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:44:32 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (6.1ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2822ms (Views: 2818.2ms | ActiveRecord: 0.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:45:18 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (5.7ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2646ms (Views: 2642.3ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:45:30 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 80ms (Views: 77.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:46:36 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2795ms (Views: 2792.3ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:46:56 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2756ms (Views: 2753.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:47:41 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2752ms (Views: 2748.5ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:48:03 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2348ms (Views: 2345.3ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:48:14 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2741ms (Views: 2737.4ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:48:30 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2836ms (Views: 2831.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:50:04 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2591ms (Views: 2588.0ms | ActiveRecord: 0.4ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-16 14:50:19 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"l9VUlR/VGIh2AxNsvHcaMmVo5ec7fn1gqt1yubNuEF0enRMp5YnhpxPrxEOyMsvsRgoAEKqFhX2H4zRy8nyKLw=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:50:19 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 63ms (Views: 60.3ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-16 14:50:22 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 98ms (Views: 94.6ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-16 14:50:33 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3VMfvA7U6uPOTNLwxsSJrzQ11GxnmLuNaYoCf/vO3a51eGmumziSqpPdFCFLxH3IwIBtF/uMHe3gzryLWeSakw==", "user"=>{"email"=>"hpotter@hogwarts.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hpotter@hogwarts.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/sessions/new
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-16 14:50:33 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 76ms (Views: 73.5ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 14:50:38 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 69ms (Views: 66.7ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-10-16 14:50:50 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hgHDN4iS80YJZ8H1qxbwn/Jo5IXQJuLBYv9nRztSvEcx/urnF/+5b21Bnoyayj6cp+lNy3sP3ZTgbSH51KnUpw==", "user"=>{"email"=>"hpotter@hogwarts.com", "username"=>"harrypotter", "password"=>"[FILTERED]"}, "commit"=>"Sign me up!"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hpotter@hogwarts.com"], ["LIMIT", 1]]
  [1m[35mSQL (6.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "hpotter@hogwarts.com"], ["username", "harrypotter"], ["password_digest", "$2a$10$htWFXRinQD457EwVzeBTEOb2BPWwYLX8CIpDcjvliNvARN0xzLeeO"], ["created_at", "2017-10-16 06:50:50.346803"], ["updated_at", "2017-10-16 06:50:50.346803"]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 128ms (ActiveRecord: 14.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:50:50 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 153ms (Views: 148.6ms | ActiveRecord: 0.3ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 14:50:55 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 70ms (Views: 65.7ms | ActiveRecord: 0.3ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 14:51:09 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pojCuw5UVBifR/6hKDnosc4UJtRQ9jqhDiAkOejpMGBM15qU/7xnzX8RiR3HMPaM1OthVVf9LsLVvKYLWSo0lg==", "photo"=>{"user_id"=>"2", "photo_url"=>#<ActionDispatch::Http::UploadedFile:0x007fbdfdf78ce0 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-7916-1fdfjpv.jpg>, @original_filename="hp.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[photo_url]\"; filename=\"hp.jpg\"\r\nContent-Type: image/jpeg\r\n">, "caption"=>"First picture: #tbt to first year!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.2ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption", "photo_url") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["created_at", "2017-10-16 06:51:09.736173"], ["updated_at", "2017-10-16 06:51:09.736173"], ["caption", "First picture: #tbt to first year!"], ["photo_url", "f4b3da05-48ad-41d7-9bca-731f3cb58eb7-hp.jpg"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/3
Completed 302 Found in 4894ms (ActiveRecord: 7.6ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-16 14:51:14 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 94ms (Views: 88.6ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:51:23 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 82ms (Views: 77.2ms | ActiveRecord: 0.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:51:25 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (12.5ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 85.7ms | ActiveRecord: 0.9ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-16 14:53:10 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 2732ms (Views: 2727.5ms | ActiveRecord: 0.7ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-16 14:53:33 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (3.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 95ms (Views: 89.2ms | ActiveRecord: 0.8ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-16 14:53:59 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 2751ms (Views: 2746.1ms | ActiveRecord: 0.8ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-16 14:54:20 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 2894ms (Views: 2888.0ms | ActiveRecord: 0.8ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-16 14:55:27 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 2745ms (Views: 2740.9ms | ActiveRecord: 0.6ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-16 14:55:56 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 2857ms (Views: 2852.2ms | ActiveRecord: 0.8ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-16 14:57:30 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 2739ms (Views: 2734.5ms | ActiveRecord: 0.6ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 14:57:54 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (4.4ms)
Completed 200 OK in 101ms (Views: 92.7ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 14:57:59 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 80ms (Views: 75.8ms | ActiveRecord: 0.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 14:58:01 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (7.4ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 80ms (Views: 74.9ms | ActiveRecord: 1.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 15:47:29 +0800
  [1m[35m (6.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (99.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 768ms (Views: 745.1ms | ActiveRecord: 10.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 15:47:34 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 89.3ms | ActiveRecord: 10.8ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 15:47:36 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (24.7ms)
Completed 200 OK in 119ms (Views: 111.9ms | ActiveRecord: 1.9ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-16 15:47:49 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+/JdmHE6rmQQsDk2IMOryQGhYBi3170lVBOwR7Y8e1MRrQW3gNKdsfDmTorPyrX0G14nmbDcqUaPjzJ1B/9/pQ==", "photo"=>{"user_id"=>"2", "photo_url"=>#<ActionDispatch::Http::UploadedFile:0x007f8a97cbf420 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171016-9891-1vg41mb.png>, @original_filename="streamr-logo.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"photo[photo_url]\"; filename=\"streamr-logo.png\"\r\nContent-Type: image/png\r\n">, "caption"=>"Found this logo, looks pretty cool!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.0ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption", "photo_url") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["created_at", "2017-10-16 07:47:50.359142"], ["updated_at", "2017-10-16 07:47:50.359142"], ["caption", "Found this logo, looks pretty cool!"], ["photo_url", "6848cf4c-e242-4b31-91b1-3dc898abb97d-streamr-logo.png"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/4
Completed 302 Found in 4794ms (ActiveRecord: 9.2ms)


Started GET "/photos/4" for 127.0.0.1 at 2017-10-16 15:47:54 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 76ms (Views: 70.6ms | ActiveRecord: 0.9ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 15:47:59 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 81ms (Views: 74.3ms | ActiveRecord: 0.5ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-16 15:48:02 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (34.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (39.0ms)
Completed 200 OK in 126ms (Views: 81.8ms | ActiveRecord: 34.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 15:48:08 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 124ms (Views: 118.7ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-16 15:48:10 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VTPa5L/QTpXX91IThEILtGATWRqsc2/9KHJp8fXGqV3ce51YRYy3urIfhTyKB9pqQ3G87T2Il+AFTC86tNQzLw=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 15:48:10 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 102ms (Views: 99.1ms | ActiveRecord: 0.0ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-16 15:48:10 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VTPa5L/QTpXX91IThEILtGATWRqsc2/9KHJp8fXGqV3ce51YRYy3urIfhTyKB9pqQ3G87T2Il+AFTC86tNQzLw=="}
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 15:48:10 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 88ms (Views: 84.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangePasswordRequiredForUsers (20171016081235)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.4ms)[0m  [1m[35mALTER TABLE "users" ALTER "password_digest" DROP NOT NULL[0m
  [1m[35mSQL (7.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171016081235"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangePasswordRequiredForUsers (20171016081235)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ALTER "password_digest" SET NOT NULL[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20171016081235"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangePasswordRequiredForUsers (20171016081235)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ALTER "password_digest" DROP NOT NULL[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171016081235"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAuthentications (20171016081640)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "authentications" ("id" bigserial primary key, "uid" character varying, "token" character varying, "provider" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_08833fecbe"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_authentications_on_user_id" ON "authentications"  ("user_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171016081640"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-10-16 16:20:40 +0800
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 535ms (Views: 521.0ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 16:20:44 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (32.0ms)
Completed 200 OK in 185ms (Views: 178.3ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-16 16:20:49 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 125ms (Views: 120.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 16:20:55 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 16:20:56 +0800
Started GET "/sessions/new" for 127.0.0.1 at 2017-10-16 16:21:49 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 104ms (Views: 99.4ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 16:21:52 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 16:21:52 +0800
Started GET "/" for 127.0.0.1 at 2017-10-16 16:23:09 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 65ms (Views: 61.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 16:23:36 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 91ms (Views: 88.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 16:23:41 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 16:23:41 +0800
Started GET "/" for 127.0.0.1 at 2017-10-16 16:24:40 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 85ms (Views: 82.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 16:24:43 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 16:24:43 +0800
Started GET "/auth/facebook/callback?code=AQD_pjFzsI_cryFADx2CPt5XafICb870mZxtRVOI5FCaEZ7dXiQfmfcuI3P9oyBsukRBbV61cP1qpM7nd9xlru9O7CRX9hBdzMF7MRANlTTESQ-6G18aIp0BjgdbeLa3OjHE7w_yXdoCJ_XOWq9l_56giG0y5uJnNWpZe2WPXEK0dW5BSmXygALgt93t3UbU5_kSU3KDGOfBq4U4MPsV3J7v6DnaowZGKFCXMniBKoJ44q9YPrfySWJlDFvLYoZolNzkx4JcxcHpr819CbPNJOERCXsY8Ln14ZQYqG5Cjku3WLysmx3pdcI7pqAmUIDH4nY1750WA2ihYPFBklCa6FwW&state=63a90d952d02d9a00e00009c4438062b01826ad1fcd4e145" for 127.0.0.1 at 2017-10-16 16:24:47 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQD_pjFzsI_cryFADx2CPt5XafICb870mZxtRVOI5FCaEZ7dXiQfmfcuI3P9oyBsukRBbV61cP1qpM7nd9xlru9O7CRX9hBdzMF7MRANlTTESQ-6G18aIp0BjgdbeLa3OjHE7w_yXdoCJ_XOWq9l_56giG0y5uJnNWpZe2WPXEK0dW5BSmXygALgt93t3UbU5_kSU3KDGOfBq4U4MPsV3J7v6DnaowZGKFCXMniBKoJ44q9YPrfySWJlDFvLYoZolNzkx4JcxcHpr819CbPNJOERCXsY8Ln14ZQYqG5Cjku3WLysmx3pdcI7pqAmUIDH4nY1750WA2ihYPFBklCa6FwW", "state"=>"63a90d952d02d9a00e00009c4438062b01826ad1fcd4e145", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.6ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "liang.huiqian@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 79ms (ActiveRecord: 11.8ms)


  
ActiveRecord::RecordInvalid (Validation failed: Password can't be blank, Username can't be blank):
  
app/models/user.rb:13:in `create_with_auth_and_hash'
app/controllers/sessions_controller.rb:40:in `create_from_omniauth'
Started GET "/auth/facebook/callback?code=AQD_pjFzsI_cryFADx2CPt5XafICb870mZxtRVOI5FCaEZ7dXiQfmfcuI3P9oyBsukRBbV61cP1qpM7nd9xlru9O7CRX9hBdzMF7MRANlTTESQ-6G18aIp0BjgdbeLa3OjHE7w_yXdoCJ_XOWq9l_56giG0y5uJnNWpZe2WPXEK0dW5BSmXygALgt93t3UbU5_kSU3KDGOfBq4U4MPsV3J7v6DnaowZGKFCXMniBKoJ44q9YPrfySWJlDFvLYoZolNzkx4JcxcHpr819CbPNJOERCXsY8Ln14ZQYqG5Cjku3WLysmx3pdcI7pqAmUIDH4nY1750WA2ihYPFBklCa6FwW&state=63a90d952d02d9a00e00009c4438062b01826ad1fcd4e145" for 127.0.0.1 at 2017-10-16 16:25:45 +0800
  
OAuth2::Error ({"message"=>"This authorization code has been used.", "type"=>"OAuthException", "code"=>100, "fbtrace_id"=>"GqaWxFMh7ZT"}: 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"GqaWxFMh7ZT"}}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:110:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:67:in `block in callback_phase'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:131:in `with_authorization_code!'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:66:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-16 16:25:56 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 83ms (Views: 80.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 16:25:59 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 16:26:00 +0800
Started GET "/auth/facebook/callback?code=AQCu0ULxMOP38CyaI779ap_odoPcjRbQEznx6x5DfRpc14mVxIFESPWxXQKV8dkBddjMJFuZ5ZARp3IRpXY_cxJqu-NfGBSZIRpTnlGd4UmfMf2KRQji3n4uCLWEprM2ML3VQQkPccMsi4s7CrXnblzSxdQh7mLjSaS6CihKe-VvaYimPUsZwh9aU1Pzg1l7qEtzivmXbltKIUcdpBy1kSD6dWo47kxKfWbgFfz09E_jXV0Qh4Gt6wSVK1dx-sPId708TBjSKgGBk-T2YsqXhAuS9IdXWFiCdbWTnVS_XpFqLSIzEews_3ltnsrXQcI4cBts4Vp8x-xxM603h5F8EZCb&state=554f01be3fbd8eb98fc03a7bce16bc274ffe85bfc8349852" for 127.0.0.1 at 2017-10-16 16:26:00 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQCu0ULxMOP38CyaI779ap_odoPcjRbQEznx6x5DfRpc14mVxIFESPWxXQKV8dkBddjMJFuZ5ZARp3IRpXY_cxJqu-NfGBSZIRpTnlGd4UmfMf2KRQji3n4uCLWEprM2ML3VQQkPccMsi4s7CrXnblzSxdQh7mLjSaS6CihKe-VvaYimPUsZwh9aU1Pzg1l7qEtzivmXbltKIUcdpBy1kSD6dWo47kxKfWbgFfz09E_jXV0Qh4Gt6wSVK1dx-sPId708TBjSKgGBk-T2YsqXhAuS9IdXWFiCdbWTnVS_XpFqLSIzEews_3ltnsrXQcI4cBts4Vp8x-xxM603h5F8EZCb", "state"=>"554f01be3fbd8eb98fc03a7bce16bc274ffe85bfc8349852", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "liang.huiqian@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 49ms (ActiveRecord: 7.8ms)


  
ActiveRecord::RecordInvalid (Validation failed: Password can't be blank):
  
app/models/user.rb:13:in `create_with_auth_and_hash'
app/controllers/sessions_controller.rb:40:in `create_from_omniauth'
Started GET "/auth/facebook/callback?code=AQCu0ULxMOP38CyaI779ap_odoPcjRbQEznx6x5DfRpc14mVxIFESPWxXQKV8dkBddjMJFuZ5ZARp3IRpXY_cxJqu-NfGBSZIRpTnlGd4UmfMf2KRQji3n4uCLWEprM2ML3VQQkPccMsi4s7CrXnblzSxdQh7mLjSaS6CihKe-VvaYimPUsZwh9aU1Pzg1l7qEtzivmXbltKIUcdpBy1kSD6dWo47kxKfWbgFfz09E_jXV0Qh4Gt6wSVK1dx-sPId708TBjSKgGBk-T2YsqXhAuS9IdXWFiCdbWTnVS_XpFqLSIzEews_3ltnsrXQcI4cBts4Vp8x-xxM603h5F8EZCb&state=554f01be3fbd8eb98fc03a7bce16bc274ffe85bfc8349852" for 127.0.0.1 at 2017-10-16 16:26:29 +0800
  
OAuth2::Error ({"message"=>"This authorization code has been used.", "type"=>"OAuthException", "code"=>100, "fbtrace_id"=>"C8id+0v3pWZ"}: 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"C8id+0v3pWZ"}}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:110:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:67:in `block in callback_phase'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:131:in `with_authorization_code!'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:66:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-16 16:26:36 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 76ms (Views: 73.4ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 16:26:56 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 16:26:57 +0800
Started GET "/auth/facebook/callback?code=AQA5xRaJUblWltdvYjiGme_1dVdoOC4hi_eSjhKwOFA6HQnD_H8PYWBBYT4oP9l5Z03jWnwONmFWObkHcqN5DRTU9P1fri873JxrBdb0kziuhVP_Ic0SUZjUtLw_LBn4sqQRpO1wGo0jhF80S6TJ_mSlf5OjXZZTIxpXAFlGPjomFCKrj_9AF5J3V8vD_ZX4GLTE_51KnxK4FoKrOghq7O_cJbK4on24T-rMLRXQPOntI479xn8qYVaPZeE5YlkDMbE_RbowcluEh-UeOvi1r6-vCo7idoxXjroFTx4WJMPmSxDlLgF4OEteBDS12lngnJXN5k5fmJzaOF0hbirNEnfk&state=4a0c3d8f7f8a353a4f0685389a0cf5587965f24d2555d2d2" for 127.0.0.1 at 2017-10-16 16:26:58 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQA5xRaJUblWltdvYjiGme_1dVdoOC4hi_eSjhKwOFA6HQnD_H8PYWBBYT4oP9l5Z03jWnwONmFWObkHcqN5DRTU9P1fri873JxrBdb0kziuhVP_Ic0SUZjUtLw_LBn4sqQRpO1wGo0jhF80S6TJ_mSlf5OjXZZTIxpXAFlGPjomFCKrj_9AF5J3V8vD_ZX4GLTE_51KnxK4FoKrOghq7O_cJbK4on24T-rMLRXQPOntI479xn8qYVaPZeE5YlkDMbE_RbowcluEh-UeOvi1r6-vCo7idoxXjroFTx4WJMPmSxDlLgF4OEteBDS12lngnJXN5k5fmJzaOF0hbirNEnfk", "state"=>"4a0c3d8f7f8a353a4f0685389a0cf5587965f24d2555d2d2", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "liang.huiqian@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "liang.huiqian@gmail.com"], ["username", "Hui Qian"], ["password_digest", "$2a$10$WX4ZRoBKYfA3X24ye5IOHuNmrsHqZoKL3OIdR8vBxuSESQOl1QbGq"], ["created_at", "2017-10-16 08:26:59.024721"], ["updated_at", "2017-10-16 08:26:59.024721"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.0ms)[0m  [1m[32mINSERT INTO "authentications" ("uid", "token", "provider", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["uid", "1713704285306962"], ["token", "EAAB0TjkfbZAoBAM5UmPYKmlfUOUQuTdZANZBX5VuYOk4h1GbCUUSxMpbvULHMTxdGMCM5Gq7MnBfNPzS7YZCMBu5xIpZCARd136JdweF09ZAQqFK1LpMP71bs5akfCZBkZAimU8NEDxPcV7DCdMiPupzTJc2EZAFX8FtyEom0uZCVaagZDZD"], ["provider", "facebook"], ["user_id", 3], ["created_at", "2017-10-16 08:26:59.042113"], ["updated_at", "2017-10-16 08:26:59.042113"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 269ms (ActiveRecord: 16.8ms)


  
NoMethodError (undefined method `sign_in' for #<SessionsController:0x007f87e88e9a78>):
  
app/controllers/sessions_controller.rb:46:in `create_from_omniauth'
Started GET "/" for 127.0.0.1 at 2017-10-16 16:37:33 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 178ms (Views: 170.0ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 16:37:42 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 95ms (Views: 89.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 16:37:45 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 106ms (Views: 94.1ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 16:37:50 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (1.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (80.0ms)
Completed 200 OK in 163ms (Views: 152.0ms | ActiveRecord: 5.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 16:37:58 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 118ms (Views: 113.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 17:13:17 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 124ms (Views: 120.1ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 17:13:29 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 115ms (Views: 108.2ms | ActiveRecord: 1.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:13:39 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:13:39 +0800
Started GET "/auth/facebook/callback?code=AQAMDWlcUeN58kc6guNzMi_OM8toh34vlJY6LaoXe_SXynWFHDxeXMdNe2kv1LvKzOK7IgODfFeFXycwyLiqkbLzWPS6mRzf-TRPXbpLqfrkAwub5a6cQ3kwKA8_uI4u-Pcs2Bmmxwp4-3Om1QzV16X07ABHNMqPQZmOQE_953eUsNLBFJqwKOqhcVRiAqJZR121CgtUFYJkYVZc9g8RyeHmpsL4w17Q8lkcdEfZPI-TAguDKS1uqAzuqpNRs9hJkqzS_haXhxHnwlRrQEw60jqeWWhcduayLDAGdeXEyXG2uBoc8Ur2Nr84UIKf-Qn_WOPHqNqw61OgnBh0xhsarhsx&state=416a06af1061d823636efd4dea013d53f9673a1487e7853d" for 127.0.0.1 at 2017-10-16 17:13:39 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQAMDWlcUeN58kc6guNzMi_OM8toh34vlJY6LaoXe_SXynWFHDxeXMdNe2kv1LvKzOK7IgODfFeFXycwyLiqkbLzWPS6mRzf-TRPXbpLqfrkAwub5a6cQ3kwKA8_uI4u-Pcs2Bmmxwp4-3Om1QzV16X07ABHNMqPQZmOQE_953eUsNLBFJqwKOqhcVRiAqJZR121CgtUFYJkYVZc9g8RyeHmpsL4w17Q8lkcdEfZPI-TAguDKS1uqAzuqpNRs9hJkqzS_haXhxHnwlRrQEw60jqeWWhcduayLDAGdeXEyXG2uBoc8Ur2Nr84UIKf-Qn_WOPHqNqw61OgnBh0xhsarhsx", "state"=>"416a06af1061d823636efd4dea013d53f9673a1487e7853d", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.6ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBANtCoperoMSw4CLZCGploSHB16yom6NeU367KLACZCGv6CAeKm4rQZAscGE3UgAybpYo7TereAvIx1ykQsUjkxdSMORdsjelPXyygSe0ZCwNDSrhZBMMpbxXUZA8yLOLtxtFiiuZClc791V4T4EjAmh3aSqlYOalQZDZD"], ["updated_at", "2017-10-16 09:13:40.637798"], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 174ms (ActiveRecord: 6.1ms)


  
NoMethodError (undefined method `sign_in' for #<SessionsController:0x007f87e5a870e0>):
  
app/controllers/sessions_controller.rb:46:in `create_from_omniauth'
Started GET "/" for 127.0.0.1 at 2017-10-16 17:18:37 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 79ms (Views: 76.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:18:40 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:18:40 +0800
Started GET "/auth/facebook/callback?code=AQDY1EbqKIH1yev4FB8MsfnZRauBFNaFR1LRZItOTBgnFHI0lwbJ5w3OqpFb_QS8ZgveTckH_WR-DrKwDs7s-3enuCKnSgue0W_BU5OCI0qY8k4zpmcXIMzKaNHViAZdbrrL5gbWv-6T9Rr93B0mNHUEkOlLDlHSOw63etVCdWMfO9Hamr0Drpi5c6zeeR3IeOc57inwQKxDLXk7jGEfS8YkjLgAKoVkSDysVkAeGHDOFfuYxt9PKJKchULJXeXJI_YyFqys4jFTUvz0YyVkCNpKiolI-TEXtz8Zj_1uvThoZYpyzHoM7sgvy5WH1Q0JKR0BAp2Nzx52DCE5tTyxY-Nu&state=9190286466c67f099fd021320ed5e239b6f5987e007acac9" for 127.0.0.1 at 2017-10-16 17:18:41 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQDY1EbqKIH1yev4FB8MsfnZRauBFNaFR1LRZItOTBgnFHI0lwbJ5w3OqpFb_QS8ZgveTckH_WR-DrKwDs7s-3enuCKnSgue0W_BU5OCI0qY8k4zpmcXIMzKaNHViAZdbrrL5gbWv-6T9Rr93B0mNHUEkOlLDlHSOw63etVCdWMfO9Hamr0Drpi5c6zeeR3IeOc57inwQKxDLXk7jGEfS8YkjLgAKoVkSDysVkAeGHDOFfuYxt9PKJKchULJXeXJI_YyFqys4jFTUvz0YyVkCNpKiolI-TEXtz8Zj_1uvThoZYpyzHoM7sgvy5WH1Q0JKR0BAp2Nzx52DCE5tTyxY-Nu", "state"=>"9190286466c67f099fd021320ed5e239b6f5987e007acac9", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAOAHYNCsNAkbs5oKgGk3rVO8NFPRmPKinfeaZAswGNRWDUAiTSNHd3jzph6NukWb3WI8zVgGnSfWOIvj7uYuZCW5mRlHz0XPv1OloFcqjb9mvkI9KjhCu134EIQO4NRCAYexCGHt4ONw45jFsTQPNkZALwIEwZDZD"], ["updated_at", "2017-10-16 09:18:41.991136"], ["id", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 177ms (ActiveRecord: 10.9ms)


  
NoMethodError (undefined method `sign_in' for #<SessionsController:0x007f87e1e46f90>):
  
app/controllers/sessions_controller.rb:46:in `create_from_omniauth'
Started GET "/auth/facebook/callback?code=AQDY1EbqKIH1yev4FB8MsfnZRauBFNaFR1LRZItOTBgnFHI0lwbJ5w3OqpFb_QS8ZgveTckH_WR-DrKwDs7s-3enuCKnSgue0W_BU5OCI0qY8k4zpmcXIMzKaNHViAZdbrrL5gbWv-6T9Rr93B0mNHUEkOlLDlHSOw63etVCdWMfO9Hamr0Drpi5c6zeeR3IeOc57inwQKxDLXk7jGEfS8YkjLgAKoVkSDysVkAeGHDOFfuYxt9PKJKchULJXeXJI_YyFqys4jFTUvz0YyVkCNpKiolI-TEXtz8Zj_1uvThoZYpyzHoM7sgvy5WH1Q0JKR0BAp2Nzx52DCE5tTyxY-Nu&state=9190286466c67f099fd021320ed5e239b6f5987e007acac9" for 127.0.0.1 at 2017-10-16 17:18:59 +0800
  
OAuth2::Error ({"message"=>"This authorization code has been used.", "type"=>"OAuthException", "code"=>100, "fbtrace_id"=>"DlMri+ynZIF"}: 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"DlMri+ynZIF"}}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:110:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:67:in `block in callback_phase'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:131:in `with_authorization_code!'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:66:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-16 17:19:04 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 68ms (Views: 65.1ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:19:07 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:19:07 +0800
Started GET "/auth/facebook/callback?code=AQB00NwBojnjG51b8eFO6OqnYCadTr_nOtTcIInq21Dwg-XGjzmYpcmOuJahZ2reoh8CbG8ylI4KK1Tyzo1hAc4qTjFtrvQI-W1IFa7W1ioX5kk3cbbAPmCWGS732NBEUQRyapJhJEBFY2pmdjPTQ48pXBXG4TDJJ4FKC6DNblOEHD545-F2uG07ZMQtNGk2xU6mSgxJQ-MFhQDI0J_3MTKafLz904gPlNEC4-rm3KvPObCJ8n5saVaXqFSQHrLLz7XBbyYtBVbfx_fG0phfGVAe-Q_rCHNA5W7VQ2Msk5B5M_8BuFbUj-UFN3-edtV2FRVrHJXYxJK8kvFCM8zRw8y0&state=dbe99d3923bc6c2a8ace9e1fb066d0a5e16d09be471e483b" for 127.0.0.1 at 2017-10-16 17:19:07 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQB00NwBojnjG51b8eFO6OqnYCadTr_nOtTcIInq21Dwg-XGjzmYpcmOuJahZ2reoh8CbG8ylI4KK1Tyzo1hAc4qTjFtrvQI-W1IFa7W1ioX5kk3cbbAPmCWGS732NBEUQRyapJhJEBFY2pmdjPTQ48pXBXG4TDJJ4FKC6DNblOEHD545-F2uG07ZMQtNGk2xU6mSgxJQ-MFhQDI0J_3MTKafLz904gPlNEC4-rm3KvPObCJ8n5saVaXqFSQHrLLz7XBbyYtBVbfx_fG0phfGVAe-Q_rCHNA5W7VQ2Msk5B5M_8BuFbUj-UFN3-edtV2FRVrHJXYxJK8kvFCM8zRw8y0", "state"=>"dbe99d3923bc6c2a8ace9e1fb066d0a5e16d09be471e483b", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAMWpaTxPGu6AGZAGnyUQWv41HmLQ9ZAP5sFEiU3O4qx6z8D8ghNUmZCDZCywHyT6zvAkWZAzxlfZCAuQJMF3lUWkZAaGZCP9XipKEbpZBG3ipANaShyORPcxvdZCCcpJj5x0nss4ZBE2WXGU79qb9oA5xq1QwY1tNvgVAZDZD"], ["updated_at", "2017-10-16 09:19:08.577729"], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 139ms (ActiveRecord: 9.3ms)


  
NoMethodError (undefined method `sign_in' for #<SessionsController:0x007f87e9a1fe78>):
  
app/controllers/sessions_controller.rb:46:in `create_from_omniauth'
Started GET "/" for 127.0.0.1 at 2017-10-16 17:20:27 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 81ms (Views: 77.2ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:20:30 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:20:30 +0800
Started GET "/auth/facebook/callback?code=AQDtTHvCqWYpvHHNXw27IjQ-UAczBnjF4PfeHSL__QgNm5q2lIgLR1qMrdJvBFRoC1AZWhW-mLVbckrtAIkTnk3u0tqMgWS5zZNKe8tX_0fYzzRpH2-AYiKY8n0qok1nvEVVyAwfp9AhScGaZKX3D37TetctrDSbIIufihu_bTqHLTy86BRn8vnsZb2zUJndYAQWndQoRI6aTHGFFCuW9Pt2DB-1iBeBi787Tt9D8LFyEqgmtvT5nUKsJBupwuqx8kr13UezY1InweQ_NYtaIA2tbpeJEFQNAoyqsnhvy_MPqq6244ynJtCzfGjTksFT3VKczzrdbcXIItb308t2Omth&state=feb16f4bd485925c83f314de5fe1de7926b5696c3d0a0a63" for 127.0.0.1 at 2017-10-16 17:20:30 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQDtTHvCqWYpvHHNXw27IjQ-UAczBnjF4PfeHSL__QgNm5q2lIgLR1qMrdJvBFRoC1AZWhW-mLVbckrtAIkTnk3u0tqMgWS5zZNKe8tX_0fYzzRpH2-AYiKY8n0qok1nvEVVyAwfp9AhScGaZKX3D37TetctrDSbIIufihu_bTqHLTy86BRn8vnsZb2zUJndYAQWndQoRI6aTHGFFCuW9Pt2DB-1iBeBi787Tt9D8LFyEqgmtvT5nUKsJBupwuqx8kr13UezY1InweQ_NYtaIA2tbpeJEFQNAoyqsnhvy_MPqq6244ynJtCzfGjTksFT3VKczzrdbcXIItb308t2Omth", "state"=>"feb16f4bd485925c83f314de5fe1de7926b5696c3d0a0a63", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAONZAqbJpwwjuhO5e4Lk6RhPKBJpmu0o5EHUdwMwAK8ib0jY5fLgSqNKQZBi9rKggbHEuyX7v0yrD3WjqZCS4acBSOEtjtuZBH1QWZBbotVNTZB9sJMbNsEFknDhVL4yWgB5bXBrjAfqLtZCMVovRDhHR37v7vsZCQZDZD"], ["updated_at", "2017-10-16 09:20:31.794833"], ["id", 1]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 50ms (ActiveRecord: 12.2ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/helpers/users_helper.rb:2:in `sign_in'
app/controllers/sessions_controller.rb:48:in `create_from_omniauth'
Started GET "/" for 127.0.0.1 at 2017-10-16 17:20:46 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 75ms (Views: 71.9ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:20:49 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:20:49 +0800
Started GET "/auth/facebook/callback?code=AQBAwqoalCUWkWrvubbfFuqRHo1IhLMZzHZxkPi-w6TcPbdxYSyjVhtuvMaUZpLTDnEpE59I5300YK-ZQQnVKX7cPgdEt7cX_2FydhfHfGThUIlwVN7uiTHjXXih8ksu1AfQiTAChnIvZ_k7mENJSllT9uxER_GjpXSRrnfd7AsMUjWSRlovJkYcnQIYy5GS8aU8bOlkslZg_ETekx92Cgjqe4Ygkuzn0r_xqJWxP804rk-PRJZVz_QZWSoD9ZZX-fVy9I_Jt3tV6KiG6MWowmbhVBglaiZlHFWZZOoPaKcWKLt7EpH8VZB5FrKgbZsr4dhSjVmWTwFB_mxX0NVHeElp&state=c9905bdbbecaa0f9b6bd45f5507f73cec6011d9a6363ecab" for 127.0.0.1 at 2017-10-16 17:20:49 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBAwqoalCUWkWrvubbfFuqRHo1IhLMZzHZxkPi-w6TcPbdxYSyjVhtuvMaUZpLTDnEpE59I5300YK-ZQQnVKX7cPgdEt7cX_2FydhfHfGThUIlwVN7uiTHjXXih8ksu1AfQiTAChnIvZ_k7mENJSllT9uxER_GjpXSRrnfd7AsMUjWSRlovJkYcnQIYy5GS8aU8bOlkslZg_ETekx92Cgjqe4Ygkuzn0r_xqJWxP804rk-PRJZVz_QZWSoD9ZZX-fVy9I_Jt3tV6KiG6MWowmbhVBglaiZlHFWZZOoPaKcWKLt7EpH8VZB5FrKgbZsr4dhSjVmWTwFB_mxX0NVHeElp", "state"=>"c9905bdbbecaa0f9b6bd45f5507f73cec6011d9a6363ecab", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAIiNP6UkXNFFPrCdRGpZAGygILYLKZACD0KK76NBKTJcZBnGhSALTlmwrYObEENfnZACiZAisrZCuIcPS31X5wyQ5MW6yknwWd4dOid8xvu4MPRZBZC3535ZB8gspZBFeadZAb25lZBCsNlhZBqn3QpPPb5jjeZBVBikDO0AZDZD"], ["updated_at", "2017-10-16 09:20:50.458612"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Completed 400 Bad Request in 49ms (ActiveRecord: 8.1ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/sessions_controller.rb:55:in `user_params'
app/helpers/users_helper.rb:3:in `sign_in'
app/controllers/sessions_controller.rb:48:in `create_from_omniauth'
Started PUT "/__web_console/repl_sessions/47fd969afcff66063de8774257621510" for 127.0.0.1 at 2017-10-16 17:21:41 +0800
Started PUT "/__web_console/repl_sessions/47fd969afcff66063de8774257621510" for 127.0.0.1 at 2017-10-16 17:21:43 +0800
Started PUT "/__web_console/repl_sessions/47fd969afcff66063de8774257621510" for 127.0.0.1 at 2017-10-16 17:22:24 +0800
Started PUT "/__web_console/repl_sessions/47fd969afcff66063de8774257621510" for 127.0.0.1 at 2017-10-16 17:22:55 +0800
Started PUT "/__web_console/repl_sessions/47fd969afcff66063de8774257621510" for 127.0.0.1 at 2017-10-16 17:22:58 +0800
Started PUT "/__web_console/repl_sessions/47fd969afcff66063de8774257621510" for 127.0.0.1 at 2017-10-16 17:23:03 +0800
Started GET "/" for 127.0.0.1 at 2017-10-16 17:31:31 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 99ms (Views: 96.6ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:31:34 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:31:35 +0800
Started GET "/auth/facebook/callback?code=AQAWccGA-QjIxKuNGX4h2q2u797MIYU58rnoJWBVqVZSirehJ5IQpxkxtbje5rbUXTpGH-kX2XQjVp2SNKJI32ax5AtoLvxi7I6ngU3EMxMT0ceEaM67wlEgsPeQaiatsK9_iUoRnHWDQ2WArByZoc2k7DBUGk7Ugvswp5fSy_AQRm-t3IvzdxuS77Mt__JJUF7n16tIoHMHILU2UKvz3ZTTD-hcWjHr78cE6jVX-ugFq7OaWBvpvyYDKMCguXt5diSHZcOOCFIqfoM7cOI6oi8s8JimOfb3XEw1YSuAqYHGfJvii9mSpmS5EZaa2r2XHtZgIj34fWbNXplA8z9TGcXN&state=5da1ae66f95403693f6aeb497626f91d1398e9791b9bb3e1" for 127.0.0.1 at 2017-10-16 17:31:35 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQAWccGA-QjIxKuNGX4h2q2u797MIYU58rnoJWBVqVZSirehJ5IQpxkxtbje5rbUXTpGH-kX2XQjVp2SNKJI32ax5AtoLvxi7I6ngU3EMxMT0ceEaM67wlEgsPeQaiatsK9_iUoRnHWDQ2WArByZoc2k7DBUGk7Ugvswp5fSy_AQRm-t3IvzdxuS77Mt__JJUF7n16tIoHMHILU2UKvz3ZTTD-hcWjHr78cE6jVX-ugFq7OaWBvpvyYDKMCguXt5diSHZcOOCFIqfoM7cOI6oi8s8JimOfb3XEw1YSuAqYHGfJvii9mSpmS5EZaa2r2XHtZgIj34fWbNXplA8z9TGcXN", "state"=>"5da1ae66f95403693f6aeb497626f91d1398e9791b9bb3e1", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAFpTAsr7mxuaszZAiGox9Xg4u4loDj2wu9lry2PucZAd6L4PZBKGZAa4Or5ZCyTZC1nVRRpNSrTFiWiOXMXRdu1VROIqbksQrZBB6AUGHAaxXGpZAe4FCz8DLIH6il5R3HeidI32vxKyK9UjQaJbswkUcKpdA3xp0wZDZD"], ["updated_at", "2017-10-16 09:31:36.248468"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 62ms (ActiveRecord: 8.3ms)


  
NameError (uninitialized constant UsersHelper::Authorization):
  
app/helpers/users_helper.rb:19:in `sign_in'
app/controllers/sessions_controller.rb:48:in `create_from_omniauth'
Started PUT "/__web_console/repl_sessions/8ba7a3d030bb24252f8e33bc9dcb692f" for 127.0.0.1 at 2017-10-16 17:31:44 +0800
Started PUT "/__web_console/repl_sessions/8ba7a3d030bb24252f8e33bc9dcb692f" for 127.0.0.1 at 2017-10-16 17:31:46 +0800
Started GET "/" for 127.0.0.1 at 2017-10-16 17:32:07 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 112ms (Views: 107.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:32:09 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:32:10 +0800
Started GET "/auth/facebook/callback?code=AQA_IhFjGJckzWASccZRupgQhzt22G_wvS9_AVG8uhv_2hXw4OAkJvdA5jmE5ncQlmltBua9USw5uB1N2VYOcRcvjPH3EYqLFE9Fo18p6H-9lYGAO7rLHN2y7QWzjSOhD8YkqwT3jPcK_ybX8In1zstSatTAWwwQBOXn6ebWgML1Kv0sZPe6u8uTVbbK9SoEDR08ds1poXxmhCFB-gm4wvvqAYmkcWhwIv90Ld79-KHPaKw0mkdGvKADiL0wrVv93z-Uz6CoFD_IrotQtjEfBYKHZAsDdE0x2LZ0BcdVAOrQ6i7AvdxOk5AQ0HRnIdZEstEb_hnp5qV6564Cnjde1lBA&state=afcaff2ac5aeccb78acbaffa53e0b0b31f8e77c47c578538" for 127.0.0.1 at 2017-10-16 17:32:10 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQA_IhFjGJckzWASccZRupgQhzt22G_wvS9_AVG8uhv_2hXw4OAkJvdA5jmE5ncQlmltBua9USw5uB1N2VYOcRcvjPH3EYqLFE9Fo18p6H-9lYGAO7rLHN2y7QWzjSOhD8YkqwT3jPcK_ybX8In1zstSatTAWwwQBOXn6ebWgML1Kv0sZPe6u8uTVbbK9SoEDR08ds1poXxmhCFB-gm4wvvqAYmkcWhwIv90Ld79-KHPaKw0mkdGvKADiL0wrVv93z-Uz6CoFD_IrotQtjEfBYKHZAsDdE0x2LZ0BcdVAOrQ6i7AvdxOk5AQ0HRnIdZEstEb_hnp5qV6564Cnjde1lBA", "state"=>"afcaff2ac5aeccb78acbaffa53e0b0b31f8e77c47c578538", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAAqqgCjALTlQNSu5jDrDGhcaeBR28C7QGZAa48cvjOXeG4qPOwatMBfyKmYzoCOPLOZBsMo2FqY26neYeODIGfVkNtOGWi9YupUl9Ig1OF7gwhbS2qOdc8H3Qw90MaZC3zIbOexCaGnf62wBUvUKcmwzZB1azgZDZD"], ["updated_at", "2017-10-16 09:32:11.343623"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 62ms (ActiveRecord: 8.8ms)


  
NoMethodError (undefined method `name' for #<User:0x007f87e16fce88>):
  
app/helpers/users_helper.rb:21:in `sign_in'
app/controllers/sessions_controller.rb:48:in `create_from_omniauth'
Started GET "/auth/facebook/callback?code=AQA_IhFjGJckzWASccZRupgQhzt22G_wvS9_AVG8uhv_2hXw4OAkJvdA5jmE5ncQlmltBua9USw5uB1N2VYOcRcvjPH3EYqLFE9Fo18p6H-9lYGAO7rLHN2y7QWzjSOhD8YkqwT3jPcK_ybX8In1zstSatTAWwwQBOXn6ebWgML1Kv0sZPe6u8uTVbbK9SoEDR08ds1poXxmhCFB-gm4wvvqAYmkcWhwIv90Ld79-KHPaKw0mkdGvKADiL0wrVv93z-Uz6CoFD_IrotQtjEfBYKHZAsDdE0x2LZ0BcdVAOrQ6i7AvdxOk5AQ0HRnIdZEstEb_hnp5qV6564Cnjde1lBA&state=afcaff2ac5aeccb78acbaffa53e0b0b31f8e77c47c578538" for 127.0.0.1 at 2017-10-16 17:32:31 +0800
  
OAuth2::Error ({"message"=>"This authorization code has been used.", "type"=>"OAuthException", "code"=>100, "fbtrace_id"=>"CLBzWBDE0be"}: 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"CLBzWBDE0be"}}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:110:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:67:in `block in callback_phase'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:131:in `with_authorization_code!'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:66:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-16 17:32:36 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 94ms (Views: 89.1ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:32:38 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:32:38 +0800
Started GET "/auth/facebook/callback?code=AQCu2Tx7RHeT160aRa-A-8dnGl4VfQ93sq060t0rj78MLfVGJc_VyT08vv1nNvMjFbwOBI6TY3Q3ABeFkwswXc7y-eyUTmwai2JtekBAafxgWLEeGfIi-gzKbek6tCaf_c238GTEvNGtz4ucMU3zlH5M3iU7KIlD2g0Sq88iw9PBWextHWdBNVCsZVkI4gp_uwS7Cx3alEsOOZI61-hmwZNWConnkmKByCZ-whVF6SBCzJKunvwAQlXxRULdb5LlljECdDh6fUF_EHBmITho5EU7Mkzj56m-jqoR2PKa_8xURpU5QJI2aoaMgGEu8dWuL1F-MAGoCIzksOKwekq17Y12&state=8811ed3d0b14f4b1063a63693b4f7d495481d78093c2f941" for 127.0.0.1 at 2017-10-16 17:32:38 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQCu2Tx7RHeT160aRa-A-8dnGl4VfQ93sq060t0rj78MLfVGJc_VyT08vv1nNvMjFbwOBI6TY3Q3ABeFkwswXc7y-eyUTmwai2JtekBAafxgWLEeGfIi-gzKbek6tCaf_c238GTEvNGtz4ucMU3zlH5M3iU7KIlD2g0Sq88iw9PBWextHWdBNVCsZVkI4gp_uwS7Cx3alEsOOZI61-hmwZNWConnkmKByCZ-whVF6SBCzJKunvwAQlXxRULdb5LlljECdDh6fUF_EHBmITho5EU7Mkzj56m-jqoR2PKa_8xURpU5QJI2aoaMgGEu8dWuL1F-MAGoCIzksOKwekq17Y12", "state"=>"8811ed3d0b14f4b1063a63693b4f7d495481d78093c2f941", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBABvaA9u49XPsfykAtgs2fXeg8SuiwYsoC1ZCuDFDRvX7i5J5eGkPnQXZB1H1h9ejKMeucrOlYs3lKt2kkFbgwieOzZC5IBoCZBRMqFZCjPl8o7djMqVZCepaecLCHHXYd91ZB5VhIAxDUGMZBpAPUj11yytCjzQRpwZDZD"], ["updated_at", "2017-10-16 09:32:39.792278"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 64ms (ActiveRecord: 12.2ms)


  
ActionView::MissingTemplate (Missing template sessions/create_from_omniauth, application/create_from_omniauth with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/huiqianliang/projects/instasnap/app/views"
):
  
app/helpers/users_helper.rb:21:in `sign_in'
app/controllers/sessions_controller.rb:48:in `create_from_omniauth'
Started GET "/" for 127.0.0.1 at 2017-10-16 17:33:06 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 96ms (Views: 93.2ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:33:08 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:33:08 +0800
Started GET "/auth/facebook/callback?code=AQCMyHxhGbuzPhpxllDQ6J3mQmQYndkUyYULcp37NGyo4ze8Fu5vyzoumNk9uJkZYnaznu71ab-Yo9VJWZLjNxcx-OkKAt8BTzHcjtERo3HvDO1KKAZ-3V1wfrEW85I_ofMHcFGKZAs188hUVy_M40s0kHh1jdizlli3BhrdAPajppHyDzonMcJEHzROIsM5Xkf5MV8TdwAGSvvKdh_o5BX88oJTK_amNalts2bWvdDrSJReIoHL0S1OI32TlpsL37qrIVBvpgnoR7DUWrxLuw6ggztLjWUXdLSDFuV9srL60WoLGYcC1E7qrSmrOx_s8FPCYT53fNYlQJVxMByDTR6u&state=0b54f887f7df71fc5faa16011100206fd61c98fc71e86057" for 127.0.0.1 at 2017-10-16 17:33:09 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQCMyHxhGbuzPhpxllDQ6J3mQmQYndkUyYULcp37NGyo4ze8Fu5vyzoumNk9uJkZYnaznu71ab-Yo9VJWZLjNxcx-OkKAt8BTzHcjtERo3HvDO1KKAZ-3V1wfrEW85I_ofMHcFGKZAs188hUVy_M40s0kHh1jdizlli3BhrdAPajppHyDzonMcJEHzROIsM5Xkf5MV8TdwAGSvvKdh_o5BX88oJTK_amNalts2bWvdDrSJReIoHL0S1OI32TlpsL37qrIVBvpgnoR7DUWrxLuw6ggztLjWUXdLSDFuV9srL60WoLGYcC1E7qrSmrOx_s8FPCYT53fNYlQJVxMByDTR6u", "state"=>"0b54f887f7df71fc5faa16011100206fd61c98fc71e86057", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBANfqzennHiV7BJz2QDzGfnMHLI8t7IA9Tv0hWAAkqut69pkLhTNvvYFhvz1phzHVIzL99hpRN03E15ofLeHyhLKkxCR9NyxdggF4sNbKFYZCKHZB4hmmDtN3OGbkCOaJ6N95SHqDa0o3j7otYMhwuWafopZBgZDZD"], ["updated_at", "2017-10-16 09:33:10.037463"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 59ms (ActiveRecord: 10.8ms)


  
ActionView::MissingTemplate (Missing template sessions/create_from_omniauth, application/create_from_omniauth with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/huiqianliang/projects/instasnap/app/views"
):
  
app/helpers/users_helper.rb:21:in `sign_in'
app/controllers/sessions_controller.rb:48:in `create_from_omniauth'
Started GET "/" for 127.0.0.1 at 2017-10-16 17:34:33 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 98ms (Views: 92.6ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:34:36 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:34:36 +0800
Started GET "/auth/facebook/callback?code=AQCDTScL1P3UyfUfzfQR6X27veevbxikaNHbelF7T7FIRgGD-4Z9h77_QsLojEG3wOSk_Xk415IxlDZe_bam0Jsh0w-T4y0pe_N-RmLON-N2bKisDNDB-VHwLLWW2q92x-t6_7MhOTTGJaastNSLtEcrISN4w3HuT5bqb9CkcRO1ENgwqGQ4XidXMLBNIfmwAC5RL3sbscIslR8822336nOvMwPZucebZM7mWKGWpFGEvioGwG3s4HdNhileOqPC8_YJak-q6WkOPif5m9F10BwJ8_4tLmcBt0wym4-6j1js8OuVShy3oJv4SVT00knyRe-USvA359HIXpp6UmmC900R&state=0e4b3fb97cd0b730bd8e94a07afb1521193c7f4e866fc7c8" for 127.0.0.1 at 2017-10-16 17:34:37 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQCDTScL1P3UyfUfzfQR6X27veevbxikaNHbelF7T7FIRgGD-4Z9h77_QsLojEG3wOSk_Xk415IxlDZe_bam0Jsh0w-T4y0pe_N-RmLON-N2bKisDNDB-VHwLLWW2q92x-t6_7MhOTTGJaastNSLtEcrISN4w3HuT5bqb9CkcRO1ENgwqGQ4XidXMLBNIfmwAC5RL3sbscIslR8822336nOvMwPZucebZM7mWKGWpFGEvioGwG3s4HdNhileOqPC8_YJak-q6WkOPif5m9F10BwJ8_4tLmcBt0wym4-6j1js8OuVShy3oJv4SVT00knyRe-USvA359HIXpp6UmmC900R", "state"=>"0e4b3fb97cd0b730bd8e94a07afb1521193c7f4e866fc7c8", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAPlJlZAv4FlD7IZC7Tc13DZCj2ZAuYoCtS8s0OWrXqQFZAK8qH2FqfXnCgnYs5zHRis6V5ZCJtCFOqyyOXTmpAPXYrNCKN58DdtIRZCYkGKfeuqMvUDV6GrDi6eJdUqPFcXPrNfuWqoxDcqZArCNY55cbQZAzZAeWeZCgZDZD"], ["updated_at", "2017-10-16 09:34:37.883786"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 64ms (ActiveRecord: 10.6ms)


  
ActionController::UrlGenerationError (No route matches {:action=>"show", :controller=>"users", :provider=>"facebook"}, missing required keys: [:id]):
  
app/helpers/users_helper.rb:21:in `sign_in'
app/controllers/sessions_controller.rb:48:in `create_from_omniauth'
Started GET "/" for 127.0.0.1 at 2017-10-16 17:34:54 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 68ms (Views: 65.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:34:57 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:34:57 +0800
Started GET "/auth/facebook/callback?code=AQAjg7gMBUWsU95HhKMoZ1FpOloGL_2VyUUpvnSeyIFxkjt-_0x8taVYBJ_sLLQPKho5N8lAdmNf2WgFoH1zc6uOnCT31e9PqeiF4IKefY6DuG1xi-pddq2W_GoNgyn1zZDBuU89SQbzF8sdWZ7HRx9IVGyOt1_KWUeIOmNGJZJDW4KMidPk2tGTIICSOXCbVzXx7SMh3Ecf8xzFWhIFTNy3FFku5A0XQL5G50GccPtHjStgarzVhNGEHqNFLymUBX7-hf-RJdA9EAhW9cpGTBD2n653KAXtGLojuXZDsE24f66Vawc_zQOImkOHPHZvRyeX_uym6zDgpIjsAkvYeGPH&state=cb2f05eecfd17fa4b37f65b40fa558fb2f833396e0be3cb6" for 127.0.0.1 at 2017-10-16 17:34:58 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQAjg7gMBUWsU95HhKMoZ1FpOloGL_2VyUUpvnSeyIFxkjt-_0x8taVYBJ_sLLQPKho5N8lAdmNf2WgFoH1zc6uOnCT31e9PqeiF4IKefY6DuG1xi-pddq2W_GoNgyn1zZDBuU89SQbzF8sdWZ7HRx9IVGyOt1_KWUeIOmNGJZJDW4KMidPk2tGTIICSOXCbVzXx7SMh3Ecf8xzFWhIFTNy3FFku5A0XQL5G50GccPtHjStgarzVhNGEHqNFLymUBX7-hf-RJdA9EAhW9cpGTBD2n653KAXtGLojuXZDsE24f66Vawc_zQOImkOHPHZvRyeX_uym6zDgpIjsAkvYeGPH", "state"=>"cb2f05eecfd17fa4b37f65b40fa558fb2f833396e0be3cb6", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAAQv52ygYuOdikUY7GbtybOHPZCWOxm3oZAUZCAZBa0eHgrhfm8ZCBNMBS2iUbzCVJGx3YvIHZAKaSfuy3iU9XOnsSgfXlv2vBFKFggzplplphM8VEQjkv6TKReFSXw1qAZAlwklfyqfRZAF7i1nrEoqvBq6GsdkBgZDZD"], ["updated_at", "2017-10-16 09:34:58.924185"], ["id", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Redirected to 
Completed 500 Internal Server Error in 56ms (ActiveRecord: 8.4ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/sessions_controller.rb:49:in `create_from_omniauth'
Started GET "/" for 127.0.0.1 at 2017-10-16 17:35:37 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 92ms (Views: 87.2ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:35:40 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:35:40 +0800
Started GET "/auth/facebook/callback?code=AQCWrjKKS7LqDCr645rT6YIMqCfT348zpBu4HW9CVnS7gKbJkxfNR5oXJlcenrJ7Lm29WMCeJKevvQgvfvhl0qpvnTRp-JK2dcugqbt6uYwAhfgO55JPpp6ATbW7_dLJW9_3eVUrCZqYle2eDHG94FYuAbUsU6Bby6QHoIRjZY8smCOykXLY_ARTidG-VEqSbe_btfNVtyjZMC1j5RkGGqzaFzEKNwSfrPhDwNe-3k4InPNfUvn6W_MP_3_GW_37qdUGokRx8nEJPZ3rwWOQ4DN2EyfUwmpdwJTGCzCsPi4N7gVXizzOd8PhECTGFDsCYsYSbWQCF_jAcLl85tZ_V2TJ&state=1ffdbaadd181b0fd50f53ee8a2f2c42b71a4ca805e6b267e" for 127.0.0.1 at 2017-10-16 17:35:40 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQCWrjKKS7LqDCr645rT6YIMqCfT348zpBu4HW9CVnS7gKbJkxfNR5oXJlcenrJ7Lm29WMCeJKevvQgvfvhl0qpvnTRp-JK2dcugqbt6uYwAhfgO55JPpp6ATbW7_dLJW9_3eVUrCZqYle2eDHG94FYuAbUsU6Bby6QHoIRjZY8smCOykXLY_ARTidG-VEqSbe_btfNVtyjZMC1j5RkGGqzaFzEKNwSfrPhDwNe-3k4InPNfUvn6W_MP_3_GW_37qdUGokRx8nEJPZ3rwWOQ4DN2EyfUwmpdwJTGCzCsPi4N7gVXizzOd8PhECTGFDsCYsYSbWQCF_jAcLl85tZ_V2TJ", "state"=>"1ffdbaadd181b0fd50f53ee8a2f2c42b71a4ca805e6b267e", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAEAlDZBx2xcnqwuUzzn8nmVqggJAZAGMK91ynmbsTqh8wELXLc19M3ecS7PglDCGfeQSca52tK3MaYgKHHQZBhY0HdQtDZB3xxvcpGBcy206XGzSukFs1DaowfHiWBceHonWoWseVybLU3VAawoYqSPMuszjsgZDZD"], ["updated_at", "2017-10-16 09:35:41.684509"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Redirected to 
Completed 500 Internal Server Error in 53ms (ActiveRecord: 9.5ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/sessions_controller.rb:49:in `create_from_omniauth'
Started GET "/" for 127.0.0.1 at 2017-10-16 17:36:01 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 90ms (Views: 87.1ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:36:04 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:36:04 +0800
Started GET "/auth/facebook/callback?code=AQBinEUrCQhVEyVnLFVfPGMnOr_0idYnYWIWUbTkRioSUYed1LBVFLvLjFF9d1cG6OUGWb5fyHy0DjgMd0LqayQaW-N7s6-eIooUYvELqKWpV6VAVVG0nsLf5M_4qRn4C7dBN7AG3uI9FgLIsMC8mSW3xxmAlXPG--GXXAXtBailKg2c7an8pPOo_tOmrEVxtyYj63EjzfQUEWew1pA4VilCqqnxRYrnSkXVl5C-nwGB9HGFPz88y9CRr2fW0H1-P80Li3JHSxNnTt-WpjR1SYe0mK_QkQTFjXshjGiEdwEO1c6nVu-QO3n0KWm2KAkn2-OBgczq0Crw8XibI7Z9GQmc&state=9d60e9c31ab4df540c0a17f01910a8239254271d1993508a" for 127.0.0.1 at 2017-10-16 17:36:05 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBinEUrCQhVEyVnLFVfPGMnOr_0idYnYWIWUbTkRioSUYed1LBVFLvLjFF9d1cG6OUGWb5fyHy0DjgMd0LqayQaW-N7s6-eIooUYvELqKWpV6VAVVG0nsLf5M_4qRn4C7dBN7AG3uI9FgLIsMC8mSW3xxmAlXPG--GXXAXtBailKg2c7an8pPOo_tOmrEVxtyYj63EjzfQUEWew1pA4VilCqqnxRYrnSkXVl5C-nwGB9HGFPz88y9CRr2fW0H1-P80Li3JHSxNnTt-WpjR1SYe0mK_QkQTFjXshjGiEdwEO1c6nVu-QO3n0KWm2KAkn2-OBgczq0Crw8XibI7Z9GQmc", "state"=>"9d60e9c31ab4df540c0a17f01910a8239254271d1993508a", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAGQaGvQsJVKQ1A4NvfhRXWEvZAQjO0SBmdfaKEOZCReMT7WrmaGoySsRZBk2XZCG94TYMIEU5z7abIw9YdbTFZBEoAYD7CdWZB1YzQU37SPQgRBZBEaKOd965cvEEAF33QA8Se4fzZB7NPFv3wTzDDc6nt1u6zRbZAwZDZD"], ["updated_at", "2017-10-16 09:36:05.971178"], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 51ms (ActiveRecord: 9.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 17:36:05 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 67ms (Views: 64.8ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 17:36:11 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (34.0ms)
Completed 200 OK in 110ms (Views: 104.6ms | ActiveRecord: 3.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 17:36:14 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 88ms (Views: 83.1ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:36:45 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:36:45 +0800
Started GET "/auth/facebook/callback?code=AQC6a1Ho5hxj1dSoH6sBXUUvYNbJAyAtbvmPTjE2E2F1pzVgku4r9ak0FOsv6PihpOMdMSwUwfP-hXValGly8vYYvobMPpktAJi95XxkKtAlC7zgnE9_mcoWOPAdyGY7HDEMDyQppM0kSolhyowdxiEQ_rl16msNFMqzjznZWDHpr4DpGGrTUHFB-C0R-mtmRc5Ac2-2ZxS_G_-wI-7Us8NwGOCudmmRZhzpMW5VZCsCoK4GyAnHorqAZdTYs2H56ZsRbEfHyeJpUGe72wwcMr2CFaS8OS8dUuJJCTy55j17CXBHfgZQ5wWai4KC5F39DRQ1GuHWtSuuRQLRKNoy9_wm&state=8e83c45e2532eaa8a6a8532dcabde721f76c3df7337da47f" for 127.0.0.1 at 2017-10-16 17:36:45 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQC6a1Ho5hxj1dSoH6sBXUUvYNbJAyAtbvmPTjE2E2F1pzVgku4r9ak0FOsv6PihpOMdMSwUwfP-hXValGly8vYYvobMPpktAJi95XxkKtAlC7zgnE9_mcoWOPAdyGY7HDEMDyQppM0kSolhyowdxiEQ_rl16msNFMqzjznZWDHpr4DpGGrTUHFB-C0R-mtmRc5Ac2-2ZxS_G_-wI-7Us8NwGOCudmmRZhzpMW5VZCsCoK4GyAnHorqAZdTYs2H56ZsRbEfHyeJpUGe72wwcMr2CFaS8OS8dUuJJCTy55j17CXBHfgZQ5wWai4KC5F39DRQ1GuHWtSuuRQLRKNoy9_wm", "state"=>"8e83c45e2532eaa8a6a8532dcabde721f76c3df7337da47f", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAGcoWYOLYkrD1pDsWa2P8eVkEagzShoOCZAZCkkGWH1b5L84h7CQz32UUWOcJJ8XfLbVgzgZCYTL8IvwZCaSctR47EZBz1H9eL4S0ZClVlqaUhdTlMmzqlzbp5xZAHLZCmNMC4Wgel666LJwD8Hmkf9X02TZCTF7CuAZDZD"], ["updated_at", "2017-10-16 09:36:46.789634"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 17:36:46 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 80ms (Views: 74.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 17:37:50 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 97ms (Views: 93.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:37:52 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:37:53 +0800
Started GET "/auth/facebook/callback?code=AQBZd6D5f0Mp8I_OU2dGBDgTeoIa-incIbdwLGThiygElsqrE-Ug77AQoyc35XB1G5efQswqaK1ILn-aQTQAYoAp0fI9dB2N4v2EQKUwuuJCsjViNbE4Ne780pymECiVdoci84QU1JUq8PU9pkOV7WBlw1AbR7x2-5CGWpA8oTVrJJn6JNbvmG9Cgz3MOPSrj-gP8rHoKdArdUWsrXLyteckBS9cSk9MQDRmcTnphXUm0MT3q-qHJJD0boEMxAgQCJzcb796DBdmJoZclF8nmN8uBer4SHDVsP4t5SFAZRSckCBPSfxoZ2OSv7O-ekvR6BqRR-1fn1GdoikFUv-htnPr&state=ea33654e652acfed7ade983d5166f32a781943ac013afb98" for 127.0.0.1 at 2017-10-16 17:37:53 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBZd6D5f0Mp8I_OU2dGBDgTeoIa-incIbdwLGThiygElsqrE-Ug77AQoyc35XB1G5efQswqaK1ILn-aQTQAYoAp0fI9dB2N4v2EQKUwuuJCsjViNbE4Ne780pymECiVdoci84QU1JUq8PU9pkOV7WBlw1AbR7x2-5CGWpA8oTVrJJn6JNbvmG9Cgz3MOPSrj-gP8rHoKdArdUWsrXLyteckBS9cSk9MQDRmcTnphXUm0MT3q-qHJJD0boEMxAgQCJzcb796DBdmJoZclF8nmN8uBer4SHDVsP4t5SFAZRSckCBPSfxoZ2OSv7O-ekvR6BqRR-1fn1GdoikFUv-htnPr", "state"=>"ea33654e652acfed7ade983d5166f32a781943ac013afb98", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAHZB1HcYoJDH99J7GiZCHTVNYZA4E90A0wiYJEOksEtmNUX2Mrb4tS3UeNZC4ArNMEs8KsdOWmSAOIhz7YpM2pwO6UdHekVS9ZBjZBuMN8fWtaKAJt6VbQ8KUP8f85l9X3XL1rcrAemE5y6UzdZAcWGfZA85xHqYZAwZDZD"], ["updated_at", "2017-10-16 09:37:54.486458"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 53ms (ActiveRecord: 7.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 17:37:54 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 79ms (Views: 76.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 17:38:25 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 93ms (Views: 90.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:38:28 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:38:29 +0800
Started GET "/auth/facebook/callback?code=AQB5a-9VyL1Ugj0GW-3_QG59PIzVPU-41Eb0HNTy_BJuJyqSwniJDPQovU399ejgtCrjGooC1UdG-6w8C1n_U0_iOIVjluLZh3O1p-ucTLdekdN_eKWh0KL5qSCCFvt7NBgMdrd2i9HmOFAfhcpw_pj6rfBezZoPBsgSJRX7OAc7orIEIMRGVlzLzGYyRlv-WpNHJ32vUilL5AL2TNQ96xlBEiBtjEfGeOpUr-GLqu2tW_5dJrwSoYJYJZ3nG6LuYfp07pUWLZj51b1x_n3u_zF9-RWGjqoh3dvkM7ISDTtLYampEj24HoN21rEn_u1xSeQWfnY6EF5prT15aTMguF0e&state=891c879b1289f4360e52da6fe114c35d1a1c7bf949adcb21" for 127.0.0.1 at 2017-10-16 17:38:29 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQB5a-9VyL1Ugj0GW-3_QG59PIzVPU-41Eb0HNTy_BJuJyqSwniJDPQovU399ejgtCrjGooC1UdG-6w8C1n_U0_iOIVjluLZh3O1p-ucTLdekdN_eKWh0KL5qSCCFvt7NBgMdrd2i9HmOFAfhcpw_pj6rfBezZoPBsgSJRX7OAc7orIEIMRGVlzLzGYyRlv-WpNHJ32vUilL5AL2TNQ96xlBEiBtjEfGeOpUr-GLqu2tW_5dJrwSoYJYJZ3nG6LuYfp07pUWLZj51b1x_n3u_zF9-RWGjqoh3dvkM7ISDTtLYampEj24HoN21rEn_u1xSeQWfnY6EF5prT15aTMguF0e", "state"=>"891c879b1289f4360e52da6fe114c35d1a1c7bf949adcb21", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAJT9NfOQhSadZAdFkj6MZAKgOdRlxL94w5xXd1mvuga5FVNwvI7ZArTECpPrcZBl5rYbAQH3H61RzTu6ZBpsVi4M6mglJtVIo8toxKL0yfypaHn7ZBLm45PpwWEA6MYRaBHz19YmkltZCiTX7wRTLZC9XVZCTjBj0EAZDZD"], ["updated_at", "2017-10-16 09:38:30.306175"], ["id", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Completed 406 Not Acceptable in 145ms (ActiveRecord: 9.8ms)


  
ActionController::UnknownFormat (SessionsController#create_from_omniauth is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.1.4) lib/action_controller/metal/implicit_render.rb:53:in `default_render'
actionpack (5.1.4) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.1.4) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.1.4) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.4) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.4) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.4) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.4) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.4) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
omniauth (1.7.1) lib/omniauth/strategy.rb:415:in `call_app!'
omniauth (1.7.1) lib/omniauth/strategy.rb:369:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:67:in `block in callback_phase'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:131:in `with_authorization_code!'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:66:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-16 17:42:24 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 103ms (Views: 100.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:42:28 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:42:28 +0800
Started GET "/auth/facebook/callback?code=AQChRy4qFifRj0-5K2WgQA1Ii471ycf-mGSiaG7x48RptnWWemTuqXQHgviHcCeoYe81NF5WED8QD2Tp45kXPTOBS-FxVjsY_73iVViU8Z-Gif36eMiDqyvICM4Hf_W8-AireBgp6EylHxpYCMb8Ama1mexC8gsi6USNDMj6V_A1MLkxbXVmmznQ7fiixlTha778wpUSxftItodkzEZP53nacKMi9wcmkTTm3Vi_-2lnK_3QWVs6QWjd2K_XvP7kP_Feqy1Lh6_ftcef5AdFECcxArN73cgLjp-HYD7x0oTfftNuK-mrWa-ayIa2pjUs9nKm6BDW2Zs4w-c_n2-76s_B&state=861d820e5560a233a3d36a798680d18c542fbc0bc42dc4f7" for 127.0.0.1 at 2017-10-16 17:42:28 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQChRy4qFifRj0-5K2WgQA1Ii471ycf-mGSiaG7x48RptnWWemTuqXQHgviHcCeoYe81NF5WED8QD2Tp45kXPTOBS-FxVjsY_73iVViU8Z-Gif36eMiDqyvICM4Hf_W8-AireBgp6EylHxpYCMb8Ama1mexC8gsi6USNDMj6V_A1MLkxbXVmmznQ7fiixlTha778wpUSxftItodkzEZP53nacKMi9wcmkTTm3Vi_-2lnK_3QWVs6QWjd2K_XvP7kP_Feqy1Lh6_ftcef5AdFECcxArN73cgLjp-HYD7x0oTfftNuK-mrWa-ayIa2pjUs9nKm6BDW2Zs4w-c_n2-76s_B", "state"=>"861d820e5560a233a3d36a798680d18c542fbc0bc42dc4f7", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAESEvHByU0WSqoZBwCZCEwldcVcf9tNesZBQ9H29FYVhlOj7PWYPCQ33FOYd406jlcty9ybmQnvTgvRvJLDEt4fR1oGpMGUbJg3AzmtDSyKu85avQoEPU3RIp54zhQYHZCNnbYrZCDBH69QysxZBowPDddS7tQXQZDZD"], ["updated_at", "2017-10-16 09:42:29.804753"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Completed 400 Bad Request in 52ms (ActiveRecord: 7.7ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/sessions_controller.rb:55:in `user_params'
app/helpers/users_helper.rb:3:in `sign_in'
app/controllers/sessions_controller.rb:48:in `create_from_omniauth'
Started PUT "/__web_console/repl_sessions/d0d7e0d0f2231aa87c5cfdd325d6d7d6" for 127.0.0.1 at 2017-10-16 17:45:43 +0800
Started PUT "/__web_console/repl_sessions/d0d7e0d0f2231aa87c5cfdd325d6d7d6" for 127.0.0.1 at 2017-10-16 17:45:43 +0800
Started GET "/" for 127.0.0.1 at 2017-10-16 17:46:09 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 72ms (Views: 69.4ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:46:33 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:46:34 +0800
Started GET "/auth/facebook/callback?code=AQA09xP7Aau8lu5b85vog_Z6dDkuYdgxMY7LCtSaqX_FO2lxlrrM_JNq2cWgRbT4oDbRwp0GnTKli7Em3YBiCZgeGBsDxLx1yS7MmwFXdilukNimrXfTTH9vjln8HGqCRFZg3CdR590Uj_PCJCGzNTPNccsUgAYqL88LOIgAWJMDogKLe4cCJ8Rt1RZRWtOwkJ-ZdsRZbVNHKPrHzFdLs7LAhJG0ZNIqq0Xjtego4mnbUCIF6bPCeM6WE0JRzdCooOapoSqYbqKQtHX1_fd7UqmTRSR-GUWbMWaXxcrWhzH-ZARdc6Np-r-pu4UWhJ9nlKng73pQcyUz6uDFdBoYMucQ&state=9eac38dfa147336245c843b2c75456d57dcd65868c65f015" for 127.0.0.1 at 2017-10-16 17:46:34 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQA09xP7Aau8lu5b85vog_Z6dDkuYdgxMY7LCtSaqX_FO2lxlrrM_JNq2cWgRbT4oDbRwp0GnTKli7Em3YBiCZgeGBsDxLx1yS7MmwFXdilukNimrXfTTH9vjln8HGqCRFZg3CdR590Uj_PCJCGzNTPNccsUgAYqL88LOIgAWJMDogKLe4cCJ8Rt1RZRWtOwkJ-ZdsRZbVNHKPrHzFdLs7LAhJG0ZNIqq0Xjtego4mnbUCIF6bPCeM6WE0JRzdCooOapoSqYbqKQtHX1_fd7UqmTRSR-GUWbMWaXxcrWhzH-ZARdc6Np-r-pu4UWhJ9nlKng73pQcyUz6uDFdBoYMucQ", "state"=>"9eac38dfa147336245c843b2c75456d57dcd65868c65f015", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.4ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAIghmIMvzOi7VI4N33gv0ubZBNIPnokNJQDCIOFgMeHdXZBzouhbGOgzhXLQqDIYyQe6Asrrat2MdKZCDbHBQQ6kqcTyJcbUwMyZBu5gNuzzrR8BksUP3NmBKLFoWpg8rkuHPbAV4N7VZBieuZC48qHYyNrvNbAAZDZD"], ["updated_at", "2017-10-16 09:46:37.091443"], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Completed 400 Bad Request in 11ms (ActiveRecord: 3.2ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/sessions_controller.rb:55:in `user_params'
app/helpers/users_helper.rb:3:in `sign_in'
app/controllers/sessions_controller.rb:48:in `create_from_omniauth'
Started GET "/" for 127.0.0.1 at 2017-10-16 17:48:06 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 93ms (Views: 90.1ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:48:09 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 17:48:09 +0800
Started GET "/auth/facebook/callback?code=AQCvKOvnFwxnm35cKbw023mcKZrqKvhcxpDLDBnIuRX71mQ8u1HCGBm70u6mAoIk8TvuFJ4qXxBqdv7j0ObeWlZOq5ukfYt4Z2BNeXeNpcOFKo2aFzRHksRdvRqYD9pYwLrfYkLDF03aZkUXDvyWOfqKr_JyM7GYyS5WoTpV7DI3oacUU3XynkbOSHuBeyKYIvAaajmlJZw8UXMGCtEQQBo9lgyc85JWwZcmgRLCDTcCukIJgoN5H8APDHNnxkEAxLZpS7qo6kW9nUimSYl4t23IIdFpvAnrUu5oCXK6Eh3dMTVfWZ9IbK04Sud6eIcpFRUTVAfgWb0yq9DZ5JbgbCqp&state=66eb1cc020d6a150681da23bc682b6889144bab63121574f" for 127.0.0.1 at 2017-10-16 17:48:09 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQCvKOvnFwxnm35cKbw023mcKZrqKvhcxpDLDBnIuRX71mQ8u1HCGBm70u6mAoIk8TvuFJ4qXxBqdv7j0ObeWlZOq5ukfYt4Z2BNeXeNpcOFKo2aFzRHksRdvRqYD9pYwLrfYkLDF03aZkUXDvyWOfqKr_JyM7GYyS5WoTpV7DI3oacUU3XynkbOSHuBeyKYIvAaajmlJZw8UXMGCtEQQBo9lgyc85JWwZcmgRLCDTcCukIJgoN5H8APDHNnxkEAxLZpS7qo6kW9nUimSYl4t23IIdFpvAnrUu5oCXK6Eh3dMTVfWZ9IbK04Sud6eIcpFRUTVAfgWb0yq9DZ5JbgbCqp", "state"=>"66eb1cc020d6a150681da23bc682b6889144bab63121574f", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBADy52BeSHarUXKtIZAfJzqZBukni1UEsZBZBZBmOcS5o5moOOqRmRqq7qnH4UWGKhLP3TcYgJhekS7XzviFPhHG4lagazHMZCXDYfYh3lQtoLKPqPwF8u2Dv9VACIMnkqhtAFfp5ENM9aJZBm1WCI9kiSGJbnnURQZDZD"], ["updated_at", "2017-10-16 09:48:10.794075"], ["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Completed 400 Bad Request in 51ms (ActiveRecord: 10.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/sessions_controller.rb:55:in `user_params'
app/helpers/users_helper.rb:3:in `sign_in'
app/controllers/sessions_controller.rb:48:in `create_from_omniauth'
Started PUT "/__web_console/repl_sessions/a78d9fd7a31628f7652955b7f32f0f0a" for 127.0.0.1 at 2017-10-16 17:49:56 +0800
Started PUT "/__web_console/repl_sessions/a78d9fd7a31628f7652955b7f32f0f0a" for 127.0.0.1 at 2017-10-16 17:49:56 +0800
Started PUT "/__web_console/repl_sessions/a78d9fd7a31628f7652955b7f32f0f0a" for 127.0.0.1 at 2017-10-16 17:50:00 +0800
Started GET "/" for 127.0.0.1 at 2017-10-16 18:10:15 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 72ms (Views: 69.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 18:10:18 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 18:10:18 +0800
Started GET "/auth/facebook/callback?code=AQAW6EM_6b9iYKvTm0IYpzBMT16T7woXa6f891i35duRy7Cv3t7Hc3hl5_7OhOjpMfVO1vJcS0lRi6BjY2gOTJuGvmcK7zQjQAEVI8vi9jHGiDxeNdWNGNZ2k4R1BcKvd6UyPkSGwWALdKlDdZRJYiBLtS0yd-UasaVfT8NYZD-vCWQcGNWZ7QmyRMj1qkFPmcUXj1XtYvnw5kaCWH2Oui-CFf6FNWKVMTtj6r8IQ0OV0Q6BNInoVuHzGBENcMZU8nqqga285jmqYt6Rm0z4HL68gFGEm97nDzN6_1uKlqexLiB9hdmm99V-ZH6rRIfEaStg9ga0Rm8mq2WllwpnlC2w&state=c469e87109f26ee9e79e844303869824082f8e33f655c84a" for 127.0.0.1 at 2017-10-16 18:10:19 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQAW6EM_6b9iYKvTm0IYpzBMT16T7woXa6f891i35duRy7Cv3t7Hc3hl5_7OhOjpMfVO1vJcS0lRi6BjY2gOTJuGvmcK7zQjQAEVI8vi9jHGiDxeNdWNGNZ2k4R1BcKvd6UyPkSGwWALdKlDdZRJYiBLtS0yd-UasaVfT8NYZD-vCWQcGNWZ7QmyRMj1qkFPmcUXj1XtYvnw5kaCWH2Oui-CFf6FNWKVMTtj6r8IQ0OV0Q6BNInoVuHzGBENcMZU8nqqga285jmqYt6Rm0z4HL68gFGEm97nDzN6_1uKlqexLiB9hdmm99V-ZH6rRIfEaStg9ga0Rm8mq2WllwpnlC2w", "state"=>"c469e87109f26ee9e79e844303869824082f8e33f655c84a", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAPnHYZAOhZC3oEBJKaMj7B9obaTZCg8D5jnVdLWahArxoA9Adbv6qZCTIgWweja15RHeaT5APvVEWLnKNYjuF3ZCBOp0balC6MvrJ8dIX5o4dFybuZBuqhKiuodnjQlmllhvsLZCcMFWgfLrw17vUDDHmZB3Kk8CBAZDZD"], ["updated_at", "2017-10-16 10:10:20.063692"], ["id", 1]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Completed 406 Not Acceptable in 150ms (ActiveRecord: 9.9ms)


  
ActionController::UnknownFormat (SessionsController#create_from_omniauth is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.1.4) lib/action_controller/metal/implicit_render.rb:53:in `default_render'
actionpack (5.1.4) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.1.4) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.1.4) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.4) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.4) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.4) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.4) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.4) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
omniauth (1.7.1) lib/omniauth/strategy.rb:415:in `call_app!'
omniauth (1.7.1) lib/omniauth/strategy.rb:369:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:67:in `block in callback_phase'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:131:in `with_authorization_code!'
omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:66:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-16 18:11:48 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 86ms (Views: 79.6ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 18:11:50 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 18:11:51 +0800
Started GET "/auth/facebook/callback?code=AQDId4mlbvAcJbw0zaWfFBH8e8HSkt8fNEnmoi6l9XVUPfk6tHf4CoakvvOVJoiQ7twu35kRpUx38fL0Ut4O0lb1KpEuCTsDuTfxx1Pmai-vllMhhQNtdrdovTLRJmBzu-OIZIqeC9iZqab9cv364SsRS9QV0i9jJeOATuBVSZVnh4FpHHtXLnJozm2ThYd0P8n2M0EDgmfYQXQIXBJODGxTFAQPTme1yO2pu9Hccj0l_eUPHdC8kJNpPe7NA8NmAweiakbf3VdohIItt50U0CGBKdeNa61rwf76C3FzF4aX0OCiamlceESC0zCvdcdT4wBysLoBgJgz7FKmiI6qYxyE&state=f2e7568fdff062678a398037cfdb6cc5a42432d6663630a7" for 127.0.0.1 at 2017-10-16 18:11:51 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQDId4mlbvAcJbw0zaWfFBH8e8HSkt8fNEnmoi6l9XVUPfk6tHf4CoakvvOVJoiQ7twu35kRpUx38fL0Ut4O0lb1KpEuCTsDuTfxx1Pmai-vllMhhQNtdrdovTLRJmBzu-OIZIqeC9iZqab9cv364SsRS9QV0i9jJeOATuBVSZVnh4FpHHtXLnJozm2ThYd0P8n2M0EDgmfYQXQIXBJODGxTFAQPTme1yO2pu9Hccj0l_eUPHdC8kJNpPe7NA8NmAweiakbf3VdohIItt50U0CGBKdeNa61rwf76C3FzF4aX0OCiamlceESC0zCvdcdT4wBysLoBgJgz7FKmiI6qYxyE", "state"=>"f2e7568fdff062678a398037cfdb6cc5a42432d6663630a7", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBABubL8PZBWbnq5RrJK5bmijO19e5ZBYZAsw5g33xCZBZAWzUlVZBQPxt7ZBWjnZCZBTO0niyNbVLIb5Gz9bcUOiZBHqtGybdBVDC7JSZCq2xrYZBuaMtfC1DCy2go4PuQppbpG98XhbcpyX7YG2enUokf6l9FNDvUBDZB6AZDZD"], ["updated_at", "2017-10-16 10:11:52.671964"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 50ms (ActiveRecord: 7.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 18:11:52 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 80ms (Views: 75.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 18:12:15 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 18:12:15 +0800
Started GET "/auth/facebook/callback?code=AQBM3A9nLmTpjVB9mVcIyTmRKbF2-8ll2VJEFP8D-iU7_RnppwExv3v3WdgnMY9XfLXYGDoQhN0VaDN0pmU7hZfmRZk91CcaOqTljwbnacAco2R9-gVm_S6sDPbiPwUw3cpf-Y3MGc49020yHZHRGmgvQetitMpp3XggrAro5a66wHKzP-529OBDblL0Eht_fXxx6UntkaOOAtii15RHxIGqq_7WO7nebmwIZpzJmlX4ECfQGMk-D7ChDrsvS8eVNMaY9b-0rpAZPhMq1qSQIAExgZUWg5ZHtW0srLeInAfNFQfRMLCNqm9vte9u4uIt8cM8MQudll3nUN8l3LjzSbXW&state=8bd09b5e803ac388b17501d7f45f0e4f03224e562f6b2bd6" for 127.0.0.1 at 2017-10-16 18:12:15 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBM3A9nLmTpjVB9mVcIyTmRKbF2-8ll2VJEFP8D-iU7_RnppwExv3v3WdgnMY9XfLXYGDoQhN0VaDN0pmU7hZfmRZk91CcaOqTljwbnacAco2R9-gVm_S6sDPbiPwUw3cpf-Y3MGc49020yHZHRGmgvQetitMpp3XggrAro5a66wHKzP-529OBDblL0Eht_fXxx6UntkaOOAtii15RHxIGqq_7WO7nebmwIZpzJmlX4ECfQGMk-D7ChDrsvS8eVNMaY9b-0rpAZPhMq1qSQIAExgZUWg5ZHtW0srLeInAfNFQfRMLCNqm9vte9u4uIt8cM8MQudll3nUN8l3LjzSbXW", "state"=>"8bd09b5e803ac388b17501d7f45f0e4f03224e562f6b2bd6", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAN4bFk3mq2BVshNCxieA1NtCEigPmjgLtloci3ZB5YkZCzPI20e4ZCZCENBhcXZBI42BNWiWu4vj4zo9BtNfFlmFz6Sf7W4eUHSx3Ygbdshg0W5kiTD8ourZBORSb0HATUnNVGuPAlGwxlpsv63JZBDjlWXUT0uKAZDZD"], ["updated_at", "2017-10-16 10:12:16.710850"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 42ms (ActiveRecord: 8.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 18:12:16 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (31.7ms)
Completed 200 OK in 97ms (Views: 90.5ms | ActiveRecord: 4.0ms)


  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2017-10-16 18:15:16 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 76ms (Views: 73.1ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-10-16 18:17:45 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 94ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in=' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if current_user.logged_in = true %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:             <li><%= link_to "Logout", "/sessions", class: '', method: :delete %></li>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__1457555919221478089_70110792411720'
Started GET "/" for 127.0.0.1 at 2017-10-16 18:17:58 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 80ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in?' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if current_user.logged_in? %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:             <li><%= link_to "Logout", "/sessions", class: '', method: :delete %></li>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__1457555919221478089_70110861875640'
Started GET "/" for 127.0.0.1 at 2017-10-16 18:18:10 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 78ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in?' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if current_user.logged_in? %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:             <li><%= link_to "Logout", "/sessions", class: '', method: :delete %></li>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__1457555919221478089_70110790070440'
Started GET "/" for 127.0.0.1 at 2017-10-16 18:19:41 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.0ms)
Completed 500 Internal Server Error in 145ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in?' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if current_user.logged_in? %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:             <li><%= link_to "Logout", "/sessions", class: '', method: :delete %></li>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__1457555919221478089_70110792695600'
Started GET "/" for 127.0.0.1 at 2017-10-16 18:20:08 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 94ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if current_user.logged_in %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:             <li><%= link_to "Logout", "/sessions", class: '', method: :delete %></li>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__1457555919221478089_70110874404800'
Started GET "/" for 127.0.0.1 at 2017-10-16 18:21:03 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 92ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if current_user.logged_in %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:             <li><%= link_to "Logout", "/sessions", class: '', method: :delete %></li>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__1457555919221478089_70110874206500'
Started PUT "/__web_console/repl_sessions/d5c86a383d07a8ee6d6d07e0420b03e2" for 127.0.0.1 at 2017-10-16 18:21:09 +0800
Started PUT "/__web_console/repl_sessions/d5c86a383d07a8ee6d6d07e0420b03e2" for 127.0.0.1 at 2017-10-16 18:21:11 +0800
Started GET "/" for 127.0.0.1 at 2017-10-16 20:51:46 +0800
  [1m[35m (7.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/application_controller.rb:16: syntax error, unexpected '='
    current_user.present? = true
                           ^):
  
app/controllers/application_controller.rb:16: syntax error, unexpected '='
app/controllers/welcome_controller.rb:1:in `<top (required)>'
Started GET "/" for 127.0.0.1 at 2017-10-16 20:51:57 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 542ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if current_user.logged_in %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:             <li><%= link_to "Logout", "/sessions", class: '', method: :delete %></li>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__769536216592989473_70327719612500'
Started GET "/" for 127.0.0.1 at 2017-10-16 20:52:48 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.8ms)
Completed 500 Internal Server Error in 142ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if current_user.logged_in %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:             <li><%= link_to "Logout", "/sessions", class: '', method: :delete %></li>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__769536216592989473_70327763708180'
Started PUT "/__web_console/repl_sessions/652f4e645fa54fef6fbe6b9d47e90ebf" for 127.0.0.1 at 2017-10-16 20:52:53 +0800
Started PUT "/__web_console/repl_sessions/652f4e645fa54fef6fbe6b9d47e90ebf" for 127.0.0.1 at 2017-10-16 20:52:56 +0800
Started PUT "/__web_console/repl_sessions/652f4e645fa54fef6fbe6b9d47e90ebf" for 127.0.0.1 at 2017-10-16 20:53:03 +0800
Started GET "/" for 127.0.0.1 at 2017-10-16 20:53:54 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.1ms)
Completed 500 Internal Server Error in 73ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in?' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if current_user.logged_in? %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:             <li><%= link_to "Logout", "/sessions", class: '', method: :delete %></li>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__769536216592989473_70327751451700'
Started GET "/" for 127.0.0.1 at 2017-10-16 20:54:08 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
Completed 500 Internal Server Error in 81ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in?' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if current_user.logged_in? %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:             <li><%= link_to "Logout", "/sessions", class: '', method: :delete %></li>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__769536216592989473_70327788688080'
Started GET "/" for 127.0.0.1 at 2017-10-16 20:55:08 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 97ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if current_user.logged_in %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:             <li><%= link_to "Logout", "/sessions", class: '', method: :delete %></li>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__769536216592989473_70327744098660'
Started GET "/" for 127.0.0.1 at 2017-10-16 20:55:47 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 105ms (Views: 101.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 20:55:53 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 20:55:53 +0800
Started GET "/auth/facebook/callback?code=AQCigiYpbFwtFCiv3v3bUsRtWC9EqVu3Fp7IjEPC35JeQ73bJLUqF_wrqqngWTTDtN010VVDBHZ3vbXfuzCIQwV_LNP5DTSf5O8HbbIGmYW3jNgsCylkKkgxJJIwOBDPSZbBlRPpS2E3QaqqPAdbXL7ueC8JcZiNYRLt_D7eMFhdft3RwiQPWD-W4FgvvQ1_MwR_NKIpp0JQumbJBlacq4CRUDYJB36oQ2NGoSZ3v1QSJxBmp9k-A0tM6lU2Hy3D2CdJUDgQB1DLkuSZ8sPbIImJhNGEdmR2YmCkWYuTigrXrq08L3B1k_4KZpSqefxJI6lNzyGsBOD_YJpWlJpyawwT&state=b2c9281e7fb34f9224d62721e05e26347cc3e2ca3dea361c" for 127.0.0.1 at 2017-10-16 20:55:54 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQCigiYpbFwtFCiv3v3bUsRtWC9EqVu3Fp7IjEPC35JeQ73bJLUqF_wrqqngWTTDtN010VVDBHZ3vbXfuzCIQwV_LNP5DTSf5O8HbbIGmYW3jNgsCylkKkgxJJIwOBDPSZbBlRPpS2E3QaqqPAdbXL7ueC8JcZiNYRLt_D7eMFhdft3RwiQPWD-W4FgvvQ1_MwR_NKIpp0JQumbJBlacq4CRUDYJB36oQ2NGoSZ3v1QSJxBmp9k-A0tM6lU2Hy3D2CdJUDgQB1DLkuSZ8sPbIImJhNGEdmR2YmCkWYuTigrXrq08L3B1k_4KZpSqefxJI6lNzyGsBOD_YJpWlJpyawwT", "state"=>"b2c9281e7fb34f9224d62721e05e26347cc3e2ca3dea361c", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.9ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAPdXZC2rU8ksDZC2b3ZCbu4ROEXCeBSm7VfuULrOpoZCn8ZBFXPy7orrzRaDi4KxeiZCNaZB0n3HWmZAapUZBUPnvkLamfbFTyheHhbBZCdOaLAGGHc7ybP0nFx7HpWcEtZCDycPfIUc4bnsfXsVxaZA8COYZBPvZCyeIsrgZDZD"], ["updated_at", "2017-10-16 12:55:55.077581"], ["id", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 112ms (ActiveRecord: 18.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 20:55:55 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (49.3ms)
Completed 200 OK in 135ms (Views: 123.9ms | ActiveRecord: 8.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-16 20:56:01 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (15.8ms)
Completed 200 OK in 103ms (Views: 98.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 20:56:03 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 93ms (Views: 88.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 20:56:05 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 20:56:05 +0800
Started GET "/auth/facebook/callback?code=AQAwRSC5Z-jBCmgKTwJCXbt77li5lhGsf3BTV8YQAIGZBrdRGLe44Xclh3nDQe62kGb0XJ0SF5J_rwalBukI50hF1HONEplHEc7LpQ3qAdah4dtooyg_TVdeLZaCn_oaBtv2IkJ1b3k3TBcjcqMoUoJNkWnQxZ9H4PDyMSJ2zM2k9rmAH3MRCP6p2NLADWcq8yvTWn6-O-1BZeLpUL99PJuMEDi-EThh75KW0qlJr_VBhWg8ZfdLH2ZMR0pVcIqPPvua3a3nuNfZWb4JhC5FvOo5O8eqESP6GEUCTZuicPPm28fgnnOsAopu-KKgEwChG7eUot-pZmtdYdFnLt1IvM4_&state=a1735bbbdbc4d3b26c5baccb59bb3fe66dcd2fdba0b73a50" for 127.0.0.1 at 2017-10-16 20:56:05 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQAwRSC5Z-jBCmgKTwJCXbt77li5lhGsf3BTV8YQAIGZBrdRGLe44Xclh3nDQe62kGb0XJ0SF5J_rwalBukI50hF1HONEplHEc7LpQ3qAdah4dtooyg_TVdeLZaCn_oaBtv2IkJ1b3k3TBcjcqMoUoJNkWnQxZ9H4PDyMSJ2zM2k9rmAH3MRCP6p2NLADWcq8yvTWn6-O-1BZeLpUL99PJuMEDi-EThh75KW0qlJr_VBhWg8ZfdLH2ZMR0pVcIqPPvua3a3nuNfZWb4JhC5FvOo5O8eqESP6GEUCTZuicPPm28fgnnOsAopu-KKgEwChG7eUot-pZmtdYdFnLt1IvM4_", "state"=>"a1735bbbdbc4d3b26c5baccb59bb3fe66dcd2fdba0b73a50", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.5ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAGuZAPH5yNl2X0J37saONDWiysu52QNrDBBY5tZC7QjB8hHkliGBfIOZCRyZBCCdrcdRRHRPvg400kI3o8ZCbPAq9gfYosC9PZCqTJiB6ofzYTQul8z01g3JbCroQ0N40ZCzACHVfSVK8ZCfaTCqEBqiwrFc8vtE6AZDZD"], ["updated_at", "2017-10-16 12:56:06.552629"], ["id", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 11ms (ActiveRecord: 3.4ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 20:56:06 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (11.5ms)
Completed 200 OK in 83ms (Views: 77.5ms | ActiveRecord: 1.1ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 20:56:29 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 90ms (Views: 85.3ms | ActiveRecord: 1.5ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-16 20:56:32 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"iTTop+ioQx3OA/fzXXTjEMtf81SKtnHrrI7Gd9x4ra0AfK8bEvS6MqvrINxTMTLO6D0WoxtNifaBsIC8nWo33w=="}
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 20:56:32 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 60ms (Views: 58.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 20:56:58 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 89ms (Views: 86.1ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 20:57:26 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 20:57:27 +0800
Started GET "/auth/facebook/callback?code=AQCLALhvUOMJoBKog1kVYs_9XBdQVVpsjYhrrcSATQqG0i__B2D5gIMsAcfXSqTrX4YTFZbsmPDa4AGH_nlMbpUe6O9DEcEVFra6ZRKaM11s8Ud4g4JMjoLpU8-lsxNouPIyIb7gEcjqwPMTPaRnH4j0quAVHn5j4Bh1zJo_GRetsOt96hEzbGjYT8WCJ_O11RNc43O_AFAVpjqMnBZWkBPpgvxSoNynK86MgaLkz3MppkXOlSS38kTBpkm21stK-8z3M3Nli7hRv5I_9rvONfvtUjZXpgvvkfcSE0FEnV-RDi_5Vd15kELfwCGml3vCk6X3_QM-uTlOWe5Fj4VugUQY&state=c408cfc3e320351acfab4dc0d96fd4a42be2aae0b92e67ba" for 127.0.0.1 at 2017-10-16 20:57:27 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQCLALhvUOMJoBKog1kVYs_9XBdQVVpsjYhrrcSATQqG0i__B2D5gIMsAcfXSqTrX4YTFZbsmPDa4AGH_nlMbpUe6O9DEcEVFra6ZRKaM11s8Ud4g4JMjoLpU8-lsxNouPIyIb7gEcjqwPMTPaRnH4j0quAVHn5j4Bh1zJo_GRetsOt96hEzbGjYT8WCJ_O11RNc43O_AFAVpjqMnBZWkBPpgvxSoNynK86MgaLkz3MppkXOlSS38kTBpkm21stK-8z3M3Nli7hRv5I_9rvONfvtUjZXpgvvkfcSE0FEnV-RDi_5Vd15kELfwCGml3vCk6X3_QM-uTlOWe5Fj4VugUQY", "state"=>"c408cfc3e320351acfab4dc0d96fd4a42be2aae0b92e67ba", "provider"=>"facebook"}
  [1m[36mAuthentication Load (1.2ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAAKSmGl1wsa8oX81pk55zXtUzYekhNP0ZBYIqLE1O7mpSy40ZAUvEeiPiUdDx1eFHXB8VpbQXYmYiyKZCZAmt08iOuZBNsXjFHmbF7iyZAa1dk08j9UeYOA6JTemAW6cpKGb5OrtxeaX1xMzwYSqV9uAExVNF0ZAgZDZD"], ["updated_at", "2017-10-16 12:57:28.289452"], ["id", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 34ms (ActiveRecord: 3.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 20:57:28 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (12.0ms)
Completed 200 OK in 83ms (Views: 79.5ms | ActiveRecord: 1.5ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-16 20:57:44 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"xDJDh81AIG42TkpmPQNmz4tLhBIeAoVx6H4LKNvRRmNNegQ7NxzZQVOmnUkzRrcRqClh5Y/5fWzFQE3jmsPcEQ=="}
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 20:57:44 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 58ms (Views: 55.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 20:57:55 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 20:57:55 +0800
Started GET "/auth/facebook/callback?code=AQA34eGqiF4YPMPXLLM8NAiL-aDzY5t7ZNyp_5VSdLIzkHgbfQW6spwKFRqJ3PI3jlw15dvlPNWkgTbz5y6RPEWkaeKvT20etZIxNRx_B2Vo0oeFP8QGCzX1BOlkNb1qH-7k3m2azJIN5eNTsZpWDm7U9gYURZK6B9pj0nIAPLkAzp8jveXwTByCh785-hO26KGssshdIIthwmo7nU4A3yg-uXBzC589YXgrcUpekc_9HkUgGIzrkEQPoE0g4eNqWjXAoA7qf3SSE6A0vX0WNC_7rJDiDdNM-pQI_0pZTlthZ7VaHp1QPa8De1e6m6cZM8pkQ5lImCgZQAc7od2b5R_P&state=c73b5bea3a7e0c6474c824e578441f6719f5545ceba560dc" for 127.0.0.1 at 2017-10-16 20:57:56 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQA34eGqiF4YPMPXLLM8NAiL-aDzY5t7ZNyp_5VSdLIzkHgbfQW6spwKFRqJ3PI3jlw15dvlPNWkgTbz5y6RPEWkaeKvT20etZIxNRx_B2Vo0oeFP8QGCzX1BOlkNb1qH-7k3m2azJIN5eNTsZpWDm7U9gYURZK6B9pj0nIAPLkAzp8jveXwTByCh785-hO26KGssshdIIthwmo7nU4A3yg-uXBzC589YXgrcUpekc_9HkUgGIzrkEQPoE0g4eNqWjXAoA7qf3SSE6A0vX0WNC_7rJDiDdNM-pQI_0pZTlthZ7VaHp1QPa8De1e6m6cZM8pkQ5lImCgZQAc7od2b5R_P", "state"=>"c73b5bea3a7e0c6474c824e578441f6719f5545ceba560dc", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.5ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAGcfminGPVYiOcOqnzKkZC3bbeE1sDXAwe2sdPPFpjKZC6vEtS8lw1qCRsysImncfAccRis4dRwZCuxMTO9hArIhZA5nEOO9u1VFko4DddNu50ZBXHCuK8aVjaRz3iuUxzsSa4K5wvOABA0uZB7iIgFOzbKFaAFAZDZD"], ["updated_at", "2017-10-16 12:57:57.018149"], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 10ms (ActiveRecord: 3.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 20:57:57 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 71ms (Views: 67.2ms | ActiveRecord: 0.8ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-16 20:58:04 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"n17EzWI9mmi86/hSgt7f/tgNn1gOSqhQeWF+2cGYcbYWFoNxmGFjR9kDL32Mmw4g+296r5+xUE1UXzgSgIrrxA=="}
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-16 20:58:04 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 66ms (Views: 64.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 20:58:10 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 20:58:10 +0800
Started GET "/auth/facebook/callback?code=AQBn8YJaRiXCVAbNBoJv_58VfwHfcoYnITKzKMIF2d0gg5XKUOvU4g8kXstwlvm7nKx1K5yBKcx_ZXGOdVrzgBN5K0h0pA7h3moguTc3HRkE1FunYxYdvqyxxNVOOUimPQ1BknT4JxhNZuvVDBEU7neOITPKy6EH2WTqMZXXHDFXF9bWvY2MY9zpxkuiVRXMfQ9uFdf_a3cblpZt_VUVaGEAHUlV6EdrGaKNTLhZ-cWl9Kn1bdFlTFEBttg8xK_qmKWkYQrqECKQNZJDEwpX9eXouIe40-EwCYCA2-Jzst7hFT8O_zXEC-RcAdaHlxQ0u0VYku2Bu0reiRQfuHCOkChF&state=f1681b222cbad33a8c89cd92ff37be9987f8b6bc99527785" for 127.0.0.1 at 2017-10-16 20:58:11 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBn8YJaRiXCVAbNBoJv_58VfwHfcoYnITKzKMIF2d0gg5XKUOvU4g8kXstwlvm7nKx1K5yBKcx_ZXGOdVrzgBN5K0h0pA7h3moguTc3HRkE1FunYxYdvqyxxNVOOUimPQ1BknT4JxhNZuvVDBEU7neOITPKy6EH2WTqMZXXHDFXF9bWvY2MY9zpxkuiVRXMfQ9uFdf_a3cblpZt_VUVaGEAHUlV6EdrGaKNTLhZ-cWl9Kn1bdFlTFEBttg8xK_qmKWkYQrqECKQNZJDEwpX9eXouIe40-EwCYCA2-Jzst7hFT8O_zXEC-RcAdaHlxQ0u0VYku2Bu0reiRQfuHCOkChF", "state"=>"f1681b222cbad33a8c89cd92ff37be9987f8b6bc99527785", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.5ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAFZAcqB6DlYP8UIZCmAKvz7yzEYn8RO4kWOANdo7D7Clq5WaI3bB3HkyCTDjPyp1SWzvq6YsdAO1i8Qm5i58BpSxAd5neiALZC1Lzum3jNRHGAaaRZCoSkrQ2BNJTKAhZBcSNv6hZCOqdZAr5RzIZAm0vxwpdJiwlwZDZD"], ["updated_at", "2017-10-16 12:58:11.830443"], ["id", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 10ms (ActiveRecord: 2.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 20:58:11 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 74ms (Views: 70.7ms | ActiveRecord: 1.2ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-16 20:58:17 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  Rendered photos/new.html.erb within layouts/application (4.1ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
     5:         <h1 class="text-center">Post new photo</h1>
     6: 
     7:         <div class="form-group">
     8:           <%= f.hidden_field :user_id, value: current_user.id %>
     9:         </div>
    10: 
    11:         <div class="form-group">
  
app/views/photos/new.html.erb:8:in `block in _app_views_photos_new_html_erb___3420091510308754543_70327749759220'
app/views/photos/new.html.erb:4:in `_app_views_photos_new_html_erb___3420091510308754543_70327749759220'
Started PUT "/__web_console/repl_sessions/fb01006bee67039a5e99215d2c1292f8" for 127.0.0.1 at 2017-10-16 20:58:48 +0800
Started PUT "/__web_console/repl_sessions/fb01006bee67039a5e99215d2c1292f8" for 127.0.0.1 at 2017-10-16 20:58:48 +0800
Started PUT "/__web_console/repl_sessions/fb01006bee67039a5e99215d2c1292f8" for 127.0.0.1 at 2017-10-16 20:58:52 +0800
Started PUT "/__web_console/repl_sessions/fb01006bee67039a5e99215d2c1292f8" for 127.0.0.1 at 2017-10-16 20:58:56 +0800
Started GET "/" for 127.0.0.1 at 2017-10-16 20:59:03 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 72ms (Views: 69.4ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (5.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthentication Load (0.7ms)[0m  [1m[34mSELECT "authentications".* FROM "authentications" WHERE "authentications"."user_id" = $1[0m  [["user_id", 3]]
  [1m[35mSQL (1.1ms)[0m  [1m[31mDELETE FROM "authentications" WHERE "authentications"."id" = $1[0m  [["id", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2017-10-16 23:23:21 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 115ms (Views: 111.9ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 23:23:33 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-16 23:23:33 +0800
Started GET "/auth/facebook/callback?code=AQCc6P4LSpoEBkI7nzBp-AZgIioJ-Tuij-G2piybVuKVSCvi20TLiLHvPaKIQ5cfX2u87fcVBFsXXdpV1TzpvK5gzlHGTmu4CMoWXt7_cf4vMvel7VbWY0ySSegesgoTeQaucfgZz9Ien3npojfwWh4Gtw_O4r0-SHHM-f2tIP8q0pisilCko1KzofNOd-Xh8HuDfdfeTNb3odMzeiQAgk3Ae9PBH6uf70JmLeK3a8U-QiENW2lVQ0A5LUF4-zL1T8DxM38MsCi6MUXRzJYdbyruDYKfVtpU2T1Nji1386CwORU32xSe9UKWnH0PfdFkWVXJ0Z-_5Z9a4Zuh7WbNOXai&state=c5006099c4077ffa7432d602c4c6c51259c4f19db52a4b97" for 127.0.0.1 at 2017-10-16 23:23:33 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQCc6P4LSpoEBkI7nzBp-AZgIioJ-Tuij-G2piybVuKVSCvi20TLiLHvPaKIQ5cfX2u87fcVBFsXXdpV1TzpvK5gzlHGTmu4CMoWXt7_cf4vMvel7VbWY0ySSegesgoTeQaucfgZz9Ien3npojfwWh4Gtw_O4r0-SHHM-f2tIP8q0pisilCko1KzofNOd-Xh8HuDfdfeTNb3odMzeiQAgk3Ae9PBH6uf70JmLeK3a8U-QiENW2lVQ0A5LUF4-zL1T8DxM38MsCi6MUXRzJYdbyruDYKfVtpU2T1Nji1386CwORU32xSe9UKWnH0PfdFkWVXJ0Z-_5Z9a4Zuh7WbNOXai", "state"=>"c5006099c4077ffa7432d602c4c6c51259c4f19db52a4b97", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.6ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAKxyom5tX08CcGKbecn2BBDKcTrUf98blkIT5ybnrBHcBYpM2LcAbbmT20mUF7T3wQObdkbQ551oNKtDLGRFpNb4Rh92O0l7A1ktTGPnOp2bP46mJFKLb9HsTZCfpZBhQvQrXPwfGhIo0MxBLBLz4dmKtjpwZDZD"], ["updated_at", "2017-10-16 15:23:34.477642"], ["id", 1]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 12ms (ActiveRecord: 4.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-16 23:23:34 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 83ms (Views: 79.7ms | ActiveRecord: 0.8ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 09:31:56 +0800
Processing by PhotosController#index as HTML
Completed 500 Internal Server Error in 168ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `require_login' for #<PhotosController:0x007fece6dbb0e8>
Did you mean?  require_or_load):
  
activesupport (5.1.4) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.4) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.4) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.4) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.4) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.4) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.4) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.4) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.4) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.4) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos" for 127.0.0.1 at 2017-10-17 09:32:07 +0800
Processing by PhotosController#index as HTML
Completed 500 Internal Server Error in 107ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `require_login' for #<PhotosController:0x007fecebe535c8>
Did you mean?  require_or_load):
  
activesupport (5.1.4) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.4) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.4) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.4) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.4) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.4) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.4) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.4) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.4) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.4) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos" for 127.0.0.1 at 2017-10-17 09:34:25 +0800
Processing by PhotosController#index as HTML
Completed 500 Internal Server Error in 168ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `require_login' for #<PhotosController:0x007fecea823258>
Did you mean?  require_or_load):
  
activesupport (5.1.4) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.4) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.4) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.4) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.4) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.4) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.4) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.4) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.4) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.4) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos" for 127.0.0.1 at 2017-10-17 09:34:33 +0800
Processing by PhotosController#index as HTML
Completed 500 Internal Server Error in 98ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `require_login' for #<PhotosController:0x007fece4d28df8>
Did you mean?  require_or_load):
  
activesupport (5.1.4) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.4) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.4) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.4) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.4) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.4) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.4) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.4) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.4) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.4) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos" for 127.0.0.1 at 2017-10-17 09:36:03 +0800
Processing by PhotosController#index as HTML
Completed 500 Internal Server Error in 107ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `logged_in?' for #<PhotosController:0x007fecebca7418>
Did you mean?  logged_in):
  
app/controllers/photos_controller.rb:39:in `require_login'
Started GET "/photos" for 127.0.0.1 at 2017-10-17 09:36:23 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 09:36:23 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 127ms (Views: 124.3ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 09:36:29 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 09:36:29 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 79ms (Views: 76.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 09:36:40 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 09:36:40 +0800
Started GET "/auth/facebook/callback?code=AQBOrOWu7Mh54F69gh1skvL4e07Ytp4Gdn-P8euwqkqtgaLYmce0TA5DfYp16fTas3PKMR5sTljVFngIGKFN-rnhU_CEHQ1TDzjKMcp_fXk03hycvdqAVVLXP-STRTaqE1cxmejazxLPiFeZDlGfq3LkrykB4Bij-sBdONHn8LzDKAeghNiz3_tBtEJXumRhhUCVwtWZ7wHGE9dmgTg3qtZ3GRVReFl734BPqAcmJ55IM4_RmWXj4QvTa_iiIiakSF5jmtaruegMIlw8i1kryc3M_x4v88FTcvAjSMbPkN94bt0EssrAGf9SRG_4nTHzg1TLsJS7O7wFieuj7pqkiBfi&state=1bafd6167eefe41b5b012f93de6641712bbea5bda3c31840" for 127.0.0.1 at 2017-10-17 09:36:41 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBOrOWu7Mh54F69gh1skvL4e07Ytp4Gdn-P8euwqkqtgaLYmce0TA5DfYp16fTas3PKMR5sTljVFngIGKFN-rnhU_CEHQ1TDzjKMcp_fXk03hycvdqAVVLXP-STRTaqE1cxmejazxLPiFeZDlGfq3LkrykB4Bij-sBdONHn8LzDKAeghNiz3_tBtEJXumRhhUCVwtWZ7wHGE9dmgTg3qtZ3GRVReFl734BPqAcmJ55IM4_RmWXj4QvTa_iiIiakSF5jmtaruegMIlw8i1kryc3M_x4v88FTcvAjSMbPkN94bt0EssrAGf9SRG_4nTHzg1TLsJS7O7wFieuj7pqkiBfi", "state"=>"1bafd6167eefe41b5b012f93de6641712bbea5bda3c31840", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.4ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAAQP4k4galHtuBSZCougbMeNeyGroW0riEH14o4fcarsG0gbKmXPCqXZBtwQYOICqZBUfOiPNp6vBEeVm4XPzs5DfCc5PXMoZCPYj2WSuOvmBj8yFQZAMv6ZAUgrEE1jX1zrPyx90RpWIpU4naqqBSplJyqhuzlwZDZD"], ["updated_at", "2017-10-17 01:36:41.852034"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 55ms (ActiveRecord: 11.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 09:36:41 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 09:36:41 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 81ms (Views: 78.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 09:40:02 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 09:40:02 +0800
Started GET "/auth/facebook/callback?code=AQC6xOc40hBxHSHWVLkcJu_5ddzBuxxTpppG4KYhj081BxYbHFTGKmV8RR6lUXCs5bL6u6Gwc14uMKhoZ_XreJZoYTgfahZ8uiVIyoq1bIuD5kOXSEKGh9-WW5oZ1lfn6ahQ_YUHePms3vEgRFkHgQDmD7r5x1jVdqzWh3ksyUZwRxErRhIJigUPykwR8awcRinCoQIEr9pm7Jr9bCfjHdNNSerzPwPXAJSrNgJ_7TSF0fzWDB6pE2k5qlCGZRDMrrH3ppJJZXa-8O3EmlNHLm_V1kIOdEWoAczkyFd5zaQebj8-wC4Reo5rtMmboNd7IyVlWrEYtBoNb_O7Pnq9aK-S&state=169f1abeaa58d01b38fcc5efd1a4716f72b980d215a61fa7" for 127.0.0.1 at 2017-10-17 09:40:03 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQC6xOc40hBxHSHWVLkcJu_5ddzBuxxTpppG4KYhj081BxYbHFTGKmV8RR6lUXCs5bL6u6Gwc14uMKhoZ_XreJZoYTgfahZ8uiVIyoq1bIuD5kOXSEKGh9-WW5oZ1lfn6ahQ_YUHePms3vEgRFkHgQDmD7r5x1jVdqzWh3ksyUZwRxErRhIJigUPykwR8awcRinCoQIEr9pm7Jr9bCfjHdNNSerzPwPXAJSrNgJ_7TSF0fzWDB6pE2k5qlCGZRDMrrH3ppJJZXa-8O3EmlNHLm_V1kIOdEWoAczkyFd5zaQebj8-wC4Reo5rtMmboNd7IyVlWrEYtBoNb_O7Pnq9aK-S", "state"=>"169f1abeaa58d01b38fcc5efd1a4716f72b980d215a61fa7", "provider"=>"facebook"}
  [1m[36mAuthentication Load (1.0ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBALaa1CF5j7GEX10wnA8oQvtJSwKxpv6j1osQUw86RdKp97cj4lH6i4BnOeK2u24czhbBrNMovpEAKm5dGkXrInp1naKZCfZAEGCvcnZADDm7PZCQEs0TaLpnCe6SLUlLESk5aSx1eHZCNaQ3ICoxZCJUnzK2rh2AZDZD"], ["updated_at", "2017-10-17 01:40:04.326344"], ["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 12ms (ActiveRecord: 4.4ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 09:40:04 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 09:40:04 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 133ms (Views: 130.3ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-17 09:43:26 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 140ms (Views: 136.3ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-10-17 09:43:46 +0800
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QugwtjWj8ltzJndG6By4pDFicDLD8nz7+OnLLEVj6cP1Fxlmqs64chcAKD/ZwHanZOPZfGjbQ656e42SqpiBIw==", "user"=>{"email"=>"granger@hogwarts.com", "username"=>"Hermione", "password"=>"[FILTERED]"}, "commit"=>"Sign me up!"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "granger@hogwarts.com"], ["LIMIT", 1]]
  [1m[35mSQL (6.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "granger@hogwarts.com"], ["username", "Hermione"], ["password_digest", "$2a$10$3fJfzf9DWsZnyuseNeaTLeZm0iVFotfaTWq3EL6gAPMiTWFyBGJ9C"], ["created_at", "2017-10-17 01:43:46.538797"], ["updated_at", "2017-10-17 01:43:46.538797"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 264ms (ActiveRecord: 14.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 09:43:46 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 102ms (Views: 97.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 09:44:25 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 500 Internal Server Error in 96ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if @current_user.logged_in %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:           <% else %>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__769536216592989473_70327789816580'
Started PUT "/__web_console/repl_sessions/29b12075efee3a494b8dd594a5ce157d" for 127.0.0.1 at 2017-10-17 09:44:46 +0800
Started PUT "/__web_console/repl_sessions/29b12075efee3a494b8dd594a5ce157d" for 127.0.0.1 at 2017-10-17 09:44:49 +0800
Started PUT "/__web_console/repl_sessions/29b12075efee3a494b8dd594a5ce157d" for 127.0.0.1 at 2017-10-17 09:44:54 +0800
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/29b12075efee3a494b8dd594a5ce157d" for 127.0.0.1 at 2017-10-17 09:44:59 +0800
Started PUT "/__web_console/repl_sessions/29b12075efee3a494b8dd594a5ce157d" for 127.0.0.1 at 2017-10-17 09:45:00 +0800
Started PUT "/__web_console/repl_sessions/29b12075efee3a494b8dd594a5ce157d" for 127.0.0.1 at 2017-10-17 09:45:09 +0800
Started PUT "/__web_console/repl_sessions/29b12075efee3a494b8dd594a5ce157d" for 127.0.0.1 at 2017-10-17 09:45:10 +0800
Started PUT "/__web_console/repl_sessions/29b12075efee3a494b8dd594a5ce157d" for 127.0.0.1 at 2017-10-17 09:45:12 +0800
Started GET "/" for 127.0.0.1 at 2017-10-17 09:46:12 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 90ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `logged_in' for nil:NilClass):
    15:           <%= link_to "Instasnap", root_path, class: '' %>
    16:         </div>
    17:         <ul class="nav navbar-nav navbar-right">
    18:           <% if @current_user.logged_in %>
    19:             <li><%= link_to "#{current_user.username}", user_path(current_user) %></li>
    20:             <li><%= link_to "New Photo", new_photo_path %></li>
    21:           <% else %>
  
app/views/layouts/application.html.erb:18:in `_app_views_layouts_application_html_erb__769536216592989473_70327772572160'
Started GET "/" for 127.0.0.1 at 2017-10-17 09:53:36 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 146ms (Views: 135.5ms | ActiveRecord: 7.6ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-17 09:53:44 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"pGSyWK94Dyb8L6OUqpWi3EVktkyE98ZsTgi9oPZTpF4tLPXkVST2CZnHdLuk0HMCZgZTuxUMPnFjNvtrt0E+LA=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 09:53:44 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 69ms (Views: 65.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 09:53:47 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 09:53:48 +0800
Started GET "/auth/facebook/callback?code=AQBrk5J_0UdY7uXtmwCoHBzuLB4Mgh8S6X3Dk2PIw8yk3levIn8bpbyN2IWl91qqPg7zxVO5sq5EsmsoFcmYihiMKH0KcfVNZixJFkrk9f3JRG5cVQtTUfBjs7aD4PR2SZagK5C1n7dot7_NguNs10I29We9lYlpHrOdAXw3W2bVQeXtsAUgzCXBiWZLPB3dkPS3WflRBCYFxFDxrF8Nk6_9Ov53QqZ1IQf6TNQOaDh-MvfTDY7xhlzVQnGiHWlCTD3clu5KAf6-Ut5s5PtbxgqBCVtFRjQhJctMG_8da90eHG-aa3ilVLxd11IuSKjZITPMODZPiydFUl46-2wcBPuM&state=9f1ca3cf9690bc255e0047be080441f6f2f3e960740fa55b" for 127.0.0.1 at 2017-10-17 09:53:48 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBrk5J_0UdY7uXtmwCoHBzuLB4Mgh8S6X3Dk2PIw8yk3levIn8bpbyN2IWl91qqPg7zxVO5sq5EsmsoFcmYihiMKH0KcfVNZixJFkrk9f3JRG5cVQtTUfBjs7aD4PR2SZagK5C1n7dot7_NguNs10I29We9lYlpHrOdAXw3W2bVQeXtsAUgzCXBiWZLPB3dkPS3WflRBCYFxFDxrF8Nk6_9Ov53QqZ1IQf6TNQOaDh-MvfTDY7xhlzVQnGiHWlCTD3clu5KAf6-Ut5s5PtbxgqBCVtFRjQhJctMG_8da90eHG-aa3ilVLxd11IuSKjZITPMODZPiydFUl46-2wcBPuM", "state"=>"9f1ca3cf9690bc255e0047be080441f6f2f3e960740fa55b", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAPxgqj2xUAPc59OZCS4BuKHMXbZB7bcE4rHSgljpzBKZC1OU5KYLOdh1YY4OCh5Pfajz4YksZAs60ylOlQeuhfYZA7Rok1bu1uH5ZCs6QcB71DccDxRz0xfIn5s0NS43FkQ0F9TsOpAS3nflOZBZBnnC41fpDzPYcQZDZD"], ["updated_at", "2017-10-17 01:53:49.391224"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 33ms (ActiveRecord: 8.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 09:53:49 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 09:53:49 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 57ms (Views: 54.2ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:00:51 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:00:52 +0800
Started GET "/auth/facebook/callback?code=AQBMOkqFY9gi5PjsMmdP19QONP4tgydPgdoVAu13IUZdfFwoyvq-yKJJbKTniEnM4GAX-tZY0_wC6uIva155wQVBFwJyyrzLtoeWenKOdy3kJGGrbhUiGGa3069xbXJEh3Sgzn08ga7UvFVCCxaHHdIIeEoD932fSj5SrPOCmzjLqLY4W0RhAkQSxAhOX1qnh4e40s9Qw_xw-Tczu-nZJnov-aU7mWy2nw1xPEFgYRoojPAjC56jhACBERE9fMG7ZCahICOu5O08dP6OpmCDxrm-YFIaTIYQE2Nj_G-eG-AYn2HJSJwTgvqOuIf6ZauUnUyn9EJvie9i7rDdUBWqchtO&state=4e4ff9b806aa766ff044187098f406bbc79c582e54ee209e" for 127.0.0.1 at 2017-10-17 10:00:52 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBMOkqFY9gi5PjsMmdP19QONP4tgydPgdoVAu13IUZdfFwoyvq-yKJJbKTniEnM4GAX-tZY0_wC6uIva155wQVBFwJyyrzLtoeWenKOdy3kJGGrbhUiGGa3069xbXJEh3Sgzn08ga7UvFVCCxaHHdIIeEoD932fSj5SrPOCmzjLqLY4W0RhAkQSxAhOX1qnh4e40s9Qw_xw-Tczu-nZJnov-aU7mWy2nw1xPEFgYRoojPAjC56jhACBERE9fMG7ZCahICOu5O08dP6OpmCDxrm-YFIaTIYQE2Nj_G-eG-AYn2HJSJwTgvqOuIf6ZauUnUyn9EJvie9i7rDdUBWqchtO", "state"=>"4e4ff9b806aa766ff044187098f406bbc79c582e54ee209e", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.5ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAOPDKDonyiIE3uTUSISifroZCvtZAOg03EpBtqzMySZCZCkYnkCmINOfBetNF6N06hSAEnk4kFVBvPhBv9aRkeJNfryqOCj33lSNi6XauCcV0ZBawDHlXnxonfjIIeYS5CFolbKRgvacZBAE7RigVJLfVp0dWfqgZDZD"], ["updated_at", "2017-10-17 02:00:53.370739"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 10:00:53 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:00:53 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 85ms (Views: 82.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:04:16 +0800
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 596ms (Views: 574.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:04:21 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:04:21 +0800
Started GET "/auth/facebook/callback?code=AQBAk5vyPU4thqMnxI41CfuF208WCu1-ePOVWttMFT2Jbup7PaT8WRPnY4lJIn7yf4CWw4_pGz2K4Uk1RgOQV7FQr0hDZHnhPxq8vq24eiO1jLgcPOhlA81Dqn1ZD_DxHQtb3yI2WzTjNhBeZNr6HaMqmY7DbDWr6Jg1aswmuSl3JGBc7HxNgJntfbHdM31RgKEYARrLXcVVl29QTdUHC5jP1baxXUDc3KJQ5DGvGzxluz_WmQpZv-qffaUYdvhngsFTSghWvHwB_OKBUGzYbIYvdnZxLoRs7rHZIuTpp9vR3JPXaUAIxhoo5yzr1WQCEhKO51K_3DKtoSVIW5qom4wx&state=1079bdcff4ef489c5317e82dbb031abd7388540344a30b3f" for 127.0.0.1 at 2017-10-17 10:04:22 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBAk5vyPU4thqMnxI41CfuF208WCu1-ePOVWttMFT2Jbup7PaT8WRPnY4lJIn7yf4CWw4_pGz2K4Uk1RgOQV7FQr0hDZHnhPxq8vq24eiO1jLgcPOhlA81Dqn1ZD_DxHQtb3yI2WzTjNhBeZNr6HaMqmY7DbDWr6Jg1aswmuSl3JGBc7HxNgJntfbHdM31RgKEYARrLXcVVl29QTdUHC5jP1baxXUDc3KJQ5DGvGzxluz_WmQpZv-qffaUYdvhngsFTSghWvHwB_OKBUGzYbIYvdnZxLoRs7rHZIuTpp9vR3JPXaUAIxhoo5yzr1WQCEhKO51K_3DKtoSVIW5qom4wx", "state"=>"1079bdcff4ef489c5317e82dbb031abd7388540344a30b3f", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.7ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBACNXn9cToOjeKAzAJFjYzft7VrLNonllKqd2cP2ISYDhKZCt2q47fzknF2VOcRdYp1Tr2ZBG5mb5jZAl1EInJfa2bkNmalRqF9jc1yQMEZAskFItS9hBI4ZBnLZAwZCXCUMcUZBVzCV7liIW4oNWeP4Ma1jD9WDWrgZDZD"], ["updated_at", "2017-10-17 02:04:23.147551"], ["id", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 146ms (ActiveRecord: 22.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 10:04:23 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:04:23 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 113ms (Views: 109.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:07:28 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 73ms (Views: 71.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:07:31 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:07:32 +0800
Started GET "/auth/facebook/callback?code=AQCxeeGXm52IIit-OBCpEDoyDg-AYdtbRauX3eBbBibgo9xpqS1PYbnCZk2UvnjCGwkbuzqkZcplUeMT5dzK1zAWvjCpeH8y6X8BIwhJveKaIabVrSrtC8r6OZqVWODR6v_NqGowdB7pJ3SxsNJz6yf62nGlsNT3zBXZdLCV68ZNC3tqitxU7D8RS83uEL6stAPZrFbYlwDDn0k9c1C4nPnCp1YDRVJC2rgnQit4sPElwYGMSuTVxV6yzhHO-7qiVUtSSwKJNjqS3Y8qMWUgA4BjYLqPzeY5E3mFku8tMEc4wOdVLoi1K0BKTb7Er3DaS9yhmRtqEbw-0ZkpOvncPyqh&state=7028b5fe9c2a1120b4273ddecebb8531c00d9921717531b8" for 127.0.0.1 at 2017-10-17 10:07:32 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQCxeeGXm52IIit-OBCpEDoyDg-AYdtbRauX3eBbBibgo9xpqS1PYbnCZk2UvnjCGwkbuzqkZcplUeMT5dzK1zAWvjCpeH8y6X8BIwhJveKaIabVrSrtC8r6OZqVWODR6v_NqGowdB7pJ3SxsNJz6yf62nGlsNT3zBXZdLCV68ZNC3tqitxU7D8RS83uEL6stAPZrFbYlwDDn0k9c1C4nPnCp1YDRVJC2rgnQit4sPElwYGMSuTVxV6yzhHO-7qiVUtSSwKJNjqS3Y8qMWUgA4BjYLqPzeY5E3mFku8tMEc4wOdVLoi1K0BKTb7Er3DaS9yhmRtqEbw-0ZkpOvncPyqh", "state"=>"7028b5fe9c2a1120b4273ddecebb8531c00d9921717531b8", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.5ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAC7yZCYTQnBTrcjYaAAf1bWjhZAVjOZCfEIN7df7zEW75LzH6L9SymZBk87HPFHYmNjvHEuizcvb4mgQekUUCdh5et1e7LgloIx8UEQapiBQZBZAKDg52I7ZBKp9IG0RpxuHKO39UORnEroIIQ3tWuhZA8uNbTGBzQZDZD"], ["updated_at", "2017-10-17 02:07:33.009462"], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 12ms (ActiveRecord: 3.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 10:07:33 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:07:33 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 75ms (Views: 72.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:09:11 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:09:11 +0800
Started GET "/auth/facebook/callback?code=AQBP7_3GYiTLaDZhAV9YPgltoQcIDXXFVJJMBD_4PxnU_KU4xliUtVibw1Vch40zCMWRHGAERvY-8ySf5BfWYuAzFPiHWxkNr93blZImiq3gleDbtbaBMi5nyTvXUH0zdBMUn10pCJuKnm_HDNUtmaPkkKNVywHCdbp6tzABJVgb8glLKg6qVY_9iLygrw-qtm2AbHGXkJ1eb1GPAXKa6WoVSb0uvzv2l3cPZ_QNrhpucOo4BLK7kRLzKEbwE_2_OK1fbqziTya7SgyEyj9djUgvtam97zp_lxwnKrgyOx3FrwG57JHCPo4rA8YkHCGKZvzzl_FQ_-tUZNt0_37ez2eU&state=91d5b1063073609952a44d4320b2ba4b00c36262999f9ea8" for 127.0.0.1 at 2017-10-17 10:09:12 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBP7_3GYiTLaDZhAV9YPgltoQcIDXXFVJJMBD_4PxnU_KU4xliUtVibw1Vch40zCMWRHGAERvY-8ySf5BfWYuAzFPiHWxkNr93blZImiq3gleDbtbaBMi5nyTvXUH0zdBMUn10pCJuKnm_HDNUtmaPkkKNVywHCdbp6tzABJVgb8glLKg6qVY_9iLygrw-qtm2AbHGXkJ1eb1GPAXKa6WoVSb0uvzv2l3cPZ_QNrhpucOo4BLK7kRLzKEbwE_2_OK1fbqziTya7SgyEyj9djUgvtam97zp_lxwnKrgyOx3FrwG57JHCPo4rA8YkHCGKZvzzl_FQ_-tUZNt0_37ez2eU", "state"=>"91d5b1063073609952a44d4320b2ba4b00c36262999f9ea8", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBADZBO36RtyiSsm2V3XmWf0JF0Vb3MFOLKvIvQEkH2T2yiyX7Mohz26cT91yRolqXkJaRt4CPpZAPeHbi8WsJLqcSIvx3HMIbWPd3B0uk4fZAceXRTAwXZAj94VuEEE7ji3CkYXNWbJsaSOwGR4ffCgNUbQUUXAZDZD"], ["updated_at", "2017-10-17 02:09:13.092285"], ["id", 1]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 13ms (ActiveRecord: 7.5ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 10:09:13 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:09:13 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 63ms (Views: 61.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:10:26 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 77ms (Views: 74.9ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:10:28 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:10:29 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:10:49 +0800
Started GET "/auth/facebook/callback?code=AQAYK2zCnaHecK1AUVIxVklA79p3sC2Wt2puoB0NH_aV-1NdW7PD7RAX1wwdokiG1iaAe1dXgkn4Y82kKl2OIPWouR3ctUK5MTsYAKh2BkYfta_YmmsnQyKU_QVYRSqH08PIYaIvM2HMS1ORJrq9KMoJSSEsqEEhtVx9CEDWKQIWRq0N3-7p-xG6ZwKQp8oga-gPZXkvV6-eUjyPeL1BCbt2Xjgxkc1vGyZ1FWdHqqEwB3IlPKBDVa9L4PV5qPUsuTZHlIV4BIzicnAVU1EMS0bXzUBtL4FhG8Owhw8K7Ymw7FWzKiQK-ioSzF3FPrmPXEuwUlIT3xTI8I93MPwzBjXf&state=00e02b388948b55c1b05158db5ebc14468b3b258d287f25b" for 127.0.0.1 at 2017-10-17 10:10:49 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQAYK2zCnaHecK1AUVIxVklA79p3sC2Wt2puoB0NH_aV-1NdW7PD7RAX1wwdokiG1iaAe1dXgkn4Y82kKl2OIPWouR3ctUK5MTsYAKh2BkYfta_YmmsnQyKU_QVYRSqH08PIYaIvM2HMS1ORJrq9KMoJSSEsqEEhtVx9CEDWKQIWRq0N3-7p-xG6ZwKQp8oga-gPZXkvV6-eUjyPeL1BCbt2Xjgxkc1vGyZ1FWdHqqEwB3IlPKBDVa9L4PV5qPUsuTZHlIV4BIzicnAVU1EMS0bXzUBtL4FhG8Owhw8K7Ymw7FWzKiQK-ioSzF3FPrmPXEuwUlIT3xTI8I93MPwzBjXf", "state"=>"00e02b388948b55c1b05158db5ebc14468b3b258d287f25b", "provider"=>"facebook"}
  [1m[36mAuthentication Load (1.0ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBADxnxz8mrZA4G1VFsi8iXazVrweFfuPYQMUtHJ5RGERi4x7PWo9PZBEmCgDBxEDqEwJWztmV5aWSgmAhNTZCrQhTe9HtmLhx7EqZC9i1b52bLWfcxDbJu0OtF0onlghv39UKx7ZCCShhjP2gZCZAB05lizN91CSgwZDZD"], ["updated_at", "2017-10-17 02:10:50.649417"], ["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 14ms (ActiveRecord: 4.6ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 10:10:50 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:10:50 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 66ms (Views: 63.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:11:19 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:11:19 +0800
Started GET "/auth/facebook/callback?code=AQDhy0rt8QisK5AbGGnrtizVixORlWxntPKnPS6QNcmMWUPSotFIBpE8GveyZ_PpHRIkRof0mCB_iZlx8f5gmLxDMHkepCW4jVR_sdH2Ep_TqvscimmDnCJ2gp386E5ueMZLEjLF6qWndD8HlYRx0Eh8-jN1Faa1MaQdhoX-_p7vmniZ-lgLq37faxWursOsnfuBgvvf6Xxpfwzi7Dsn1wEmxfLeX90ke8qP7RmSsQBS1Vm_fir8O9Ic2kGuDDlgmgBrgxYhl0al-InFkNmvl-PKyirVkk__B1wwcNiB7U14ngjhA_FNrj74ue3FDejyfxyCMjC_MUg4nCV0uLpJ5SxG&state=7d147d9476bc19b6efcf18b6425b04efca3e2f6c41111205" for 127.0.0.1 at 2017-10-17 10:11:19 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQDhy0rt8QisK5AbGGnrtizVixORlWxntPKnPS6QNcmMWUPSotFIBpE8GveyZ_PpHRIkRof0mCB_iZlx8f5gmLxDMHkepCW4jVR_sdH2Ep_TqvscimmDnCJ2gp386E5ueMZLEjLF6qWndD8HlYRx0Eh8-jN1Faa1MaQdhoX-_p7vmniZ-lgLq37faxWursOsnfuBgvvf6Xxpfwzi7Dsn1wEmxfLeX90ke8qP7RmSsQBS1Vm_fir8O9Ic2kGuDDlgmgBrgxYhl0al-InFkNmvl-PKyirVkk__B1wwcNiB7U14ngjhA_FNrj74ue3FDejyfxyCMjC_MUg4nCV0uLpJ5SxG", "state"=>"7d147d9476bc19b6efcf18b6425b04efca3e2f6c41111205", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAHfyZBxj12WcPU0oZBqGuo9UCBZCQCWEhqy8Wd41YyZAyRLI28Hp7GODUevbZCyyBZCluJRTvWw1HIQ0CnkZCKSxIi8Ol2Lz8HqQ031D91QZCs1IEZAhNGlZAZBa9btus5ccq3fPADaUz1Jb2GLmm0WCKLXyRZC1uU3uRgZDZD"], ["updated_at", "2017-10-17 02:11:20.251088"], ["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 9ms (ActiveRecord: 2.9ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 10:11:20 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:11:20 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 131ms (Views: 128.9ms | ActiveRecord: 0.0ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-17 10:11:46 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"xFMF3BDzKInawzJUPG5ucTgVrNDXuCx30bDGYrUlgKhNG0Jg6q/Rpr8r5XsyK7+vG3dJJ0ZD1Gr8joCp9Dca2g=="}
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:11:46 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 79ms (Views: 75.6ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:11:56 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:11:56 +0800
Started GET "/auth/facebook/callback?code=AQCScyCAslTom79aLGNUqt0kP2myooeCcSgjhI32YP3dRQXNQn9hHBbciBe7MTq2xBL7BgsOIOCwBtuSlQPmCOh7BWAUtC5tov9HBm8pLcl0solq_kqyDoqt-XKm7lwGHhC5w9KxZN3pg9yLabWwNNS2Xk81mIFOIBYFw9kQq9O6m1gGvWxNB8TJl1SbRXILJFh_Rf2mrg_83KB2yX-8_FROW7DJhhU67jRa3ANdnUu3qVMbhNKJo9EpnIbxXaw-27BBvfXeBlu4Xo5DvQx9e5DGUWxh44zqKbhqprDDTCZrBHyWFa90TkvTpzPeJbL8J3050khwhWbtKDyDX0Nc2yfz&state=3229dd4d3c77a2a08119bfe7ffc93baa16bdb53990a277d7" for 127.0.0.1 at 2017-10-17 10:11:57 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQCScyCAslTom79aLGNUqt0kP2myooeCcSgjhI32YP3dRQXNQn9hHBbciBe7MTq2xBL7BgsOIOCwBtuSlQPmCOh7BWAUtC5tov9HBm8pLcl0solq_kqyDoqt-XKm7lwGHhC5w9KxZN3pg9yLabWwNNS2Xk81mIFOIBYFw9kQq9O6m1gGvWxNB8TJl1SbRXILJFh_Rf2mrg_83KB2yX-8_FROW7DJhhU67jRa3ANdnUu3qVMbhNKJo9EpnIbxXaw-27BBvfXeBlu4Xo5DvQx9e5DGUWxh44zqKbhqprDDTCZrBHyWFa90TkvTpzPeJbL8J3050khwhWbtKDyDX0Nc2yfz", "state"=>"3229dd4d3c77a2a08119bfe7ffc93baa16bdb53990a277d7", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.5ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBADk7UelXkZAb5xUML1bYeJ6uSaDSb2WZCK0Ne7zp04AACNwDnA3Bj6PZBcBkKHvuHZCm8xaFZCip0b15i3K4BV8ZCWdbSMwAaCIBwjxorbWM3ZBkbl9giQ4mP3iVcFwr6liow5SLkkw9MKpfvWVhYUOCKcuZBvok5wZDZD"], ["updated_at", "2017-10-17 02:11:57.905626"], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 11ms (ActiveRecord: 3.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 10:11:57 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:11:57 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 80ms (Views: 75.5ms | ActiveRecord: 0.0ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-17 10:12:06 +0800
Processing by PhotosController#new as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:12:06 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 71ms (Views: 68.2ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:16:01 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 10:16:02 +0800
Started GET "/auth/facebook/callback?code=AQAfZO6uC2ZS6X2u2NsT0ppTdaEnhKsZhxQiOXDNGWvBNVdp5xOfOZ-OoBfHWgkxVa4GALd3dSx7Yckz23BH5uMdq9hYG80oz2R44Gu2VgmTxaBN12Ym5hJn9tyDkq20_Zq_RNeSa2ES69mcIjSN_gmezR9jlYddV2I8UQaNmQVObrcMqdV9yfeAHhg-FzSET1x-BZEIsjQjvlET0Y_2mKGfd78_gm7XRCLeKlJWk8rnTlIOoY8B7BSGsYn98W3lXu7Q7i4EqqywHnc18HlzX3BIir7silvW83aUGhISnXus26vnRXy3kb46SyzM91GqgeDBURgxiyb2xENBI-7R9Wzh&state=9303d39068e15d931e65deba644f5a31b1abd01f75be2494" for 127.0.0.1 at 2017-10-17 10:16:02 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQAfZO6uC2ZS6X2u2NsT0ppTdaEnhKsZhxQiOXDNGWvBNVdp5xOfOZ-OoBfHWgkxVa4GALd3dSx7Yckz23BH5uMdq9hYG80oz2R44Gu2VgmTxaBN12Ym5hJn9tyDkq20_Zq_RNeSa2ES69mcIjSN_gmezR9jlYddV2I8UQaNmQVObrcMqdV9yfeAHhg-FzSET1x-BZEIsjQjvlET0Y_2mKGfd78_gm7XRCLeKlJWk8rnTlIOoY8B7BSGsYn98W3lXu7Q7i4EqqywHnc18HlzX3BIir7silvW83aUGhISnXus26vnRXy3kb46SyzM91GqgeDBURgxiyb2xENBI-7R9Wzh", "state"=>"9303d39068e15d931e65deba644f5a31b1abd01f75be2494", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAAlj8cuZAJ5fZCAeGn97YZCKdXgpLvYHt468KBuWndCCKc9ZBZBf3Ys3geMl7zMIkEpJxLQzvyZBZCC1lXrF97wzCZCZAWAzK7vKukdeKfxdlZCPoVLDRD19Ijgneybr8v4B2fBgiy0uaJfyW6GtbdaKDucCrxNM8l7gZDZD"], ["updated_at", "2017-10-17 02:16:03.488866"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 59ms (ActiveRecord: 10.4ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 10:16:03 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:16:03 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 108.5ms | ActiveRecord: 0.5ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-17 10:16:56 +0800
Processing by PhotosController#new as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:16:56 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 104.9ms | ActiveRecord: 6.3ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-17 10:16:59 +0800
Processing by PhotosController#new as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:16:59 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 77ms (Views: 74.5ms | ActiveRecord: 0.5ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-17 10:17:01 +0800
Processing by PhotosController#new as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:17:01 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 66.5ms | ActiveRecord: 0.3ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-17 10:17:01 +0800
Processing by PhotosController#new as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:17:02 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 64.9ms | ActiveRecord: 0.2ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 10:17:03 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 127ms (Views: 66.7ms | ActiveRecord: 8.5ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-17 10:17:06 +0800
Processing by PhotosController#new as HTML
Redirected to http://localhost:3000/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:17:06 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 66.0ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:18:00 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 89.5ms | ActiveRecord: 6.1ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-17 10:18:02 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (23.4ms)
Completed 200 OK in 135ms (Views: 129.4ms | ActiveRecord: 0.3ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-17 10:18:18 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8SmJsmYhkwLiYEoagHolHqGEJVJ4X26/U5HkTE+4sBIbdtGdl8mg1wI2PaZvczsju3ti039UetyIDWZ+/nu05A==", "photo"=>{"user_id"=>"3", "photo_url"=>#<ActionDispatch::Http::UploadedFile:0x007f83ce8599c8 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171017-13376-do70nx.jpg>, @original_filename="IMG_6371.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[photo_url]\"; filename=\"IMG_6371.jpg\"\r\nContent-Type: image/jpeg\r\n">, "caption"=>"Space is cool guys!"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.6ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption", "photo_url") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["created_at", "2017-10-17 02:18:19.235530"], ["updated_at", "2017-10-17 02:18:19.235530"], ["caption", "Space is cool guys!"], ["photo_url", "86fe1ab4-a916-4042-8bcf-e8a6c5edc943-IMG_6371.jpg"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/5
Completed 302 Found in 5544ms (ActiveRecord: 10.5ms)


Started GET "/photos/5" for 127.0.0.1 at 2017-10-17 10:18:24 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 96ms (Views: 88.4ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:18:32 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 101.9ms | ActiveRecord: 0.5ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 10:18:35 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (13.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 96.3ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:18:45 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 80ms (Views: 76.5ms | ActiveRecord: 0.2ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-17 10:18:50 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"z/PzBjU8pv72+PcDcUWcQhPFuvFPfHz7rsRFGbzL7sxGu7S6z2Bf0ZMQICx/AE2cMKdfBt6HhOaD+gPS/dl0vg=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 10:18:50 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 63ms (Views: 61.1ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2017-10-17 11:09:04 +0800
  [1m[35m (7.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 781ms (Views: 767.7ms | ActiveRecord: 0.0ms)


Started GET "/users?utf8=%E2%9C%93&search=qiannyqian&commit=Search" for 127.0.0.1 at 2017-10-17 11:09:14 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"qiannyqian", "commit"=>"Search"}
Completed 406 Not Acceptable in 135ms (ActiveRecord: 6.3ms)


  
ActionController::UnknownFormat (UsersController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.1.4) lib/action_controller/metal/implicit_render.rb:53:in `default_render'
actionpack (5.1.4) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.1.4) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.1.4) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.4) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.4) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.4) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.4) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.4) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.4) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.4) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users" for 127.0.0.1 at 2017-10-17 11:12:32 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  Rendered users/index.html.erb within layouts/application (30.9ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 7.8ms)


  
ActionView::Template::Error (Missing partial users/_user with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/huiqianliang/projects/instasnap/app/views"
):
    4:     <%= submit_tag "Search" %>
    5: 
    6:     <% if @users.present? %>
    7:       <%= render @users %>
    8:     <% else %>
    9:       <p>There are no users matching the term(s) <%= params[:search] %>.</p>
   10:     <% end %>
  
app/views/users/index.html.erb:7:in `block in _app_views_users_index_html_erb___3514466186194603828_70203976089260'
app/views/users/index.html.erb:2:in `_app_views_users_index_html_erb___3514466186194603828_70203976089260'
Started GET "/users" for 127.0.0.1 at 2017-10-17 11:13:34 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  Rendered collection of users/_user.html.erb [4 times] (1.8ms)
  Rendered users/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 82ms (Views: 78.2ms | ActiveRecord: 0.3ms)


Started GET "/users?utf8=%E2%9C%93&search=qiannyqian&commit=Search" for 127.0.0.1 at 2017-10-17 11:13:43 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"qiannyqian", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%qiannyqian%') ORDER BY created_at DESC[0m
  Rendered collection of users/_user.html.erb [1 times] (0.5ms)
  Rendered users/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 83ms (Views: 74.2ms | ActiveRecord: 3.7ms)


Started GET "/users?utf8=%E2%9C%93&search=Hui+Qian&commit=Search" for 127.0.0.1 at 2017-10-17 11:14:19 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"Hui Qian", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%Hui Qian%') ORDER BY created_at DESC[0m
  Rendered collection of users/_user.html.erb [1 times] (0.6ms)
  Rendered users/index.html.erb within layouts/application (7.7ms)
Completed 200 OK in 81ms (Views: 74.1ms | ActiveRecord: 0.8ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:14:26 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  Rendered collection of users/_user.html.erb [1 times] (0.6ms)
  Rendered users/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 81ms (Views: 76.1ms | ActiveRecord: 0.5ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:14:56 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  Rendered collection of users/_user.html.erb [1 times] (8.3ms)
  Rendered users/index.html.erb within layouts/application (13.4ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (undefined method `username' for #<User::ActiveRecord_Relation:0x007fb34e53f3f0>):
    1: <h3>Search results</h3>
    2: 
    3: <%= @users.username %>
    4: <%= link_to @users_path %>
  
app/views/users/_user.html.erb:3:in `_app_views_users__user_html_erb___3524665277240821704_70203978206680'
app/views/users/index.html.erb:7:in `block in _app_views_users_index_html_erb___3514466186194603828_70204044996500'
app/views/users/index.html.erb:2:in `_app_views_users_index_html_erb___3514466186194603828_70204044996500'
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:01 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:02 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:07 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:07 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:15 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:16 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:20 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:21 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:31 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:32 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:33 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:34 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:38 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:40 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:46 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:50 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:53 +0800
Started PUT "/__web_console/repl_sessions/fe3bc006b5dcf1853f05c8f2d049133f" for 127.0.0.1 at 2017-10-17 11:15:59 +0800
Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:17:22 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  Rendered collection of users/_user.html.erb [1 times] (1.7ms)
  Rendered users/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 100ms (Views: 94.4ms | ActiveRecord: 0.6ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:17:44 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  Rendered collection of users/_user.html.erb [1 times] (0.9ms)
  Rendered users/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 95ms (Views: 90.8ms | ActiveRecord: 1.1ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:18:31 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  Rendered collection of users/_user.html.erb [1 times] (10.8ms)
  Rendered users/index.html.erb within layouts/application (16.1ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `username' for #<User::ActiveRecord_Relation:0x007fb34e5fd558>):
    1: <h3>Search results</h3>
    2: 
    3: <%= @users.username %>
    4: <%= link_to users_path(@users) %>
  
app/views/users/_user.html.erb:3:in `_app_views_users__user_html_erb___3524665277240821704_70204041431260'
app/views/users/index.html.erb:7:in `block in _app_views_users_index_html_erb___3514466186194603828_70204045385820'
app/views/users/index.html.erb:2:in `_app_views_users_index_html_erb___3514466186194603828_70204045385820'
Started PUT "/__web_console/repl_sessions/ef59c118f5fdf71f43840b39cb2c0c5b" for 127.0.0.1 at 2017-10-17 11:18:35 +0800
Started PUT "/__web_console/repl_sessions/ef59c118f5fdf71f43840b39cb2c0c5b" for 127.0.0.1 at 2017-10-17 11:18:35 +0800
Started PUT "/__web_console/repl_sessions/ef59c118f5fdf71f43840b39cb2c0c5b" for 127.0.0.1 at 2017-10-17 11:18:38 +0800
Started PUT "/__web_console/repl_sessions/ef59c118f5fdf71f43840b39cb2c0c5b" for 127.0.0.1 at 2017-10-17 11:18:49 +0800
Started PUT "/__web_console/repl_sessions/ef59c118f5fdf71f43840b39cb2c0c5b" for 127.0.0.1 at 2017-10-17 11:18:55 +0800
Started PUT "/__web_console/repl_sessions/ef59c118f5fdf71f43840b39cb2c0c5b" for 127.0.0.1 at 2017-10-17 11:18:57 +0800
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/ef59c118f5fdf71f43840b39cb2c0c5b" for 127.0.0.1 at 2017-10-17 11:19:03 +0800
Started PUT "/__web_console/repl_sessions/ef59c118f5fdf71f43840b39cb2c0c5b" for 127.0.0.1 at 2017-10-17 11:19:04 +0800
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:19:51 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [1 times] (3.4ms)
  Rendered users/index.html.erb within layouts/application (9.6ms)
Completed 200 OK in 102ms (Views: 98.3ms | ActiveRecord: 1.2ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:20:15 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [1 times] (7.5ms)
  Rendered users/index.html.erb within layouts/application (12.7ms)
Completed 200 OK in 122ms (Views: 114.5ms | ActiveRecord: 3.3ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:20:33 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [1 times] (4.9ms)
  Rendered users/index.html.erb within layouts/application (10.6ms)
Completed 200 OK in 125ms (Views: 119.3ms | ActiveRecord: 2.2ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 11:20:38 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (17.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (20.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [4 times] (29.9ms)
  Rendered users/index.html.erb within layouts/application (53.7ms)
Completed 200 OK in 159ms (Views: 118.0ms | ActiveRecord: 37.7ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 11:20:40 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [4 times] (16.3ms)
  Rendered users/index.html.erb within layouts/application (41.9ms)
Completed 200 OK in 121ms (Views: 111.0ms | ActiveRecord: 6.9ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 11:20:51 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [4 times] (9.2ms)
  Rendered users/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 109ms (Views: 103.8ms | ActiveRecord: 1.2ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 11:21:09 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [4 times] (5.4ms)
  Rendered users/index.html.erb within layouts/application (10.2ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"users"}, missing required keys: [:id]):
    2: 
    3: <%= @users.find_by(id: @users).username %>
    4: 
    5: <%= link_to user_path %>
  
app/views/users/_user.html.erb:5:in `_app_views_users__user_html_erb___3524665277240821704_70204045474400'
app/views/users/index.html.erb:7:in `block in _app_views_users_index_html_erb___3514466186194603828_70204041517720'
app/views/users/index.html.erb:2:in `_app_views_users_index_html_erb___3514466186194603828_70204041517720'
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:21:17 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:21:25 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:21:34 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:21:42 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:21:47 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:21:49 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:21:59 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:22:07 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:22:18 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:22:20 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:22:25 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:22:28 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:22:35 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:22:40 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:22:41 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:22:52 +0800
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY created_at DESC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:23:02 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:23:04 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:23:11 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:23:16 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:23:32 +0800
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY created_at DESC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:23:44 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:23:46 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:23:49 +0800
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (4, 3, 2, 1) ORDER BY created_at DESC[0m
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:23:58 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:24:10 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:24:14 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:24:18 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:24:19 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:24:25 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:24:33 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:24:39 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:24:45 +0800
Started PUT "/__web_console/repl_sessions/7d837bc9c7170c13b4a815e7d4cf7007" for 127.0.0.1 at 2017-10-17 11:24:55 +0800
Started GET "/users" for 127.0.0.1 at 2017-10-17 11:25:15 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (4, 3, 2, 1) ORDER BY created_at DESC[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (4, 3, 2, 1) ORDER BY created_at DESC[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (4, 3, 2, 1) ORDER BY created_at DESC[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (4, 3, 2, 1) ORDER BY created_at DESC[0m
  Rendered collection of users/_user.html.erb [4 times] (11.0ms)
  Rendered users/index.html.erb within layouts/application (16.7ms)
Completed 200 OK in 107ms (Views: 102.7ms | ActiveRecord: 1.8ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 11:25:54 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [4 times] (15.4ms)
  Rendered users/index.html.erb within layouts/application (21.3ms)
Completed 200 OK in 114ms (Views: 108.9ms | ActiveRecord: 1.2ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 11:26:21 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [4 times] (13.7ms)
  Rendered users/index.html.erb within layouts/application (18.5ms)
Completed 200 OK in 92ms (Views: 87.3ms | ActiveRecord: 1.8ms)


Started GET "/users?utf8=%E2%9C%93&search=qiannyqian&commit=Search" for 127.0.0.1 at 2017-10-17 11:26:28 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"qiannyqian", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%qiannyqian%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%qiannyqian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%qiannyqian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%qiannyqian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%qiannyqian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%qiannyqian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%qiannyqian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [1 times] (4.4ms)
  Rendered users/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 76ms (Views: 70.3ms | ActiveRecord: 1.2ms)


Started GET "/users?utf8=%E2%9C%93&search=Hui+Qian&commit=Search" for 127.0.0.1 at 2017-10-17 11:26:33 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"Hui Qian", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%Hui Qian%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%Hui Qian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%Hui Qian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%Hui Qian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%Hui Qian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%Hui Qian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%Hui Qian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [1 times] (5.8ms)
  Rendered users/index.html.erb within layouts/application (11.1ms)
Completed 200 OK in 76ms (Views: 68.5ms | ActiveRecord: 1.4ms)


Started GET "/users?utf8=%E2%9C%93&search=Hui+Qian&commit=Search" for 127.0.0.1 at 2017-10-17 11:26:41 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"Hui Qian", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%Hui Qian%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%Hui Qian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%Hui Qian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%Hui Qian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%Hui Qian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [1 times] (3.9ms)
  Rendered users/index.html.erb within layouts/application (9.1ms)
Completed 200 OK in 78ms (Views: 71.2ms | ActiveRecord: 1.2ms)


Started GET "/users?utf8=%E2%9C%93&search=potter&commit=Search" for 127.0.0.1 at 2017-10-17 11:26:45 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"potter", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%potter%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%potter%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%potter%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%potter%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%potter%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [1 times] (5.3ms)
  Rendered users/index.html.erb within layouts/application (10.5ms)
Completed 200 OK in 78ms (Views: 70.9ms | ActiveRecord: 1.3ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:26:47 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `photos' for nil:NilClass):
  
app/controllers/users_controller.rb:17:in `show'
Started PUT "/__web_console/repl_sessions/69cb0221c80a19e4a780a2d4b5141a9e" for 127.0.0.1 at 2017-10-17 11:27:11 +0800
Started PUT "/__web_console/repl_sessions/69cb0221c80a19e4a780a2d4b5141a9e" for 127.0.0.1 at 2017-10-17 11:27:14 +0800
Started PUT "/__web_console/repl_sessions/69cb0221c80a19e4a780a2d4b5141a9e" for 127.0.0.1 at 2017-10-17 11:27:18 +0800
Started PUT "/__web_console/repl_sessions/69cb0221c80a19e4a780a2d4b5141a9e" for 127.0.0.1 at 2017-10-17 11:27:24 +0800
Started PUT "/__web_console/repl_sessions/69cb0221c80a19e4a780a2d4b5141a9e" for 127.0.0.1 at 2017-10-17 11:27:25 +0800
  [1m[36mPhoto Load (1.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/69cb0221c80a19e4a780a2d4b5141a9e" for 127.0.0.1 at 2017-10-17 11:27:27 +0800
Started PUT "/__web_console/repl_sessions/69cb0221c80a19e4a780a2d4b5141a9e" for 127.0.0.1 at 2017-10-17 11:27:28 +0800
Started PUT "/__web_console/repl_sessions/69cb0221c80a19e4a780a2d4b5141a9e" for 127.0.0.1 at 2017-10-17 11:27:37 +0800
Started PUT "/__web_console/repl_sessions/69cb0221c80a19e4a780a2d4b5141a9e" for 127.0.0.1 at 2017-10-17 11:27:42 +0800
Started PUT "/__web_console/repl_sessions/69cb0221c80a19e4a780a2d4b5141a9e" for 127.0.0.1 at 2017-10-17 11:27:53 +0800
Started GET "/users/1" for 127.0.0.1 at 2017-10-17 11:28:37 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `photos' for nil:NilClass):
  
app/controllers/users_controller.rb:17:in `show'
Started GET "/users/1" for 127.0.0.1 at 2017-10-17 11:30:22 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `find_by' for nil:NilClass):
  
app/controllers/users_controller.rb:16:in `show'
Started PUT "/__web_console/repl_sessions/44db178f274c9e8221d5435101891bc7" for 127.0.0.1 at 2017-10-17 11:30:28 +0800
Started PUT "/__web_console/repl_sessions/44db178f274c9e8221d5435101891bc7" for 127.0.0.1 at 2017-10-17 11:30:29 +0800
Started GET "/users/1" for 127.0.0.1 at 2017-10-17 11:30:43 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users") LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (25.9ms)
Completed 200 OK in 198ms (Views: 115.4ms | ActiveRecord: 19.1ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:30:49 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users") LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.5ms)
Completed 200 OK in 74ms (Views: 67.8ms | ActiveRecord: 1.1ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:30:55 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users") LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 73ms (Views: 65.3ms | ActiveRecord: 1.0ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 11:30:59 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users") LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.5ms)
Completed 200 OK in 79ms (Views: 72.6ms | ActiveRecord: 1.0ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 11:31:05 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users") LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 79ms (Views: 72.7ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 11:31:08 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 66ms (Views: 63.1ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 11:31:14 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [4 times] (8.8ms)
  Rendered users/index.html.erb within layouts/application (15.4ms)
Completed 200 OK in 94ms (Views: 88.5ms | ActiveRecord: 1.1ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 11:31:27 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users") LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (4.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (9.6ms)
Completed 200 OK in 111ms (Views: 95.8ms | ActiveRecord: 5.1ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 11:32:21 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `photos' for nil:NilClass):
  
app/controllers/users_controller.rb:19:in `show'
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:32:28 +0800
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:32:28 +0800
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:32:30 +0800
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:32:35 +0800
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:32:37 +0800
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:32:44 +0800
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:32:51 +0800
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:32:51 +0800
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:33:11 +0800
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:33:12 +0800
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:33:14 +0800
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:33:43 +0800
Started PUT "/__web_console/repl_sessions/0bc14fe277c9268ce4887a626cb56def" for 127.0.0.1 at 2017-10-17 11:33:45 +0800
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users" for 127.0.0.1 at 2017-10-17 11:34:51 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [4 times] (11.0ms)
  Rendered users/index.html.erb within layouts/application (24.7ms)
Completed 200 OK in 107ms (Views: 94.8ms | ActiveRecord: 1.1ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 11:35:10 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [4 times] (15.5ms)
  Rendered users/index.html.erb within layouts/application (21.9ms)
Completed 200 OK in 107ms (Views: 98.9ms | ActiveRecord: 5.2ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:35:16 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [1 times] (4.1ms)
  Rendered users/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 83ms (Views: 76.8ms | ActiveRecord: 1.4ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:35:19 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [1 times] (3.6ms)
  Rendered users/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 87ms (Views: 81.7ms | ActiveRecord: 1.2ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:35:20 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [1 times] (4.0ms)
  Rendered users/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 84ms (Views: 76.8ms | ActiveRecord: 1.4ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:35:38 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [1 times] (6.5ms)
  Rendered users/index.html.erb within layouts/application (11.0ms)
Completed 200 OK in 85ms (Views: 77.4ms | ActiveRecord: 1.8ms)


Started GET "/users?utf8=%E2%9C%93&search=hello&commit=Search" for 127.0.0.1 at 2017-10-17 11:35:43 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hello", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hello%') ORDER BY created_at DESC[0m
  Rendered users/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 84ms (Views: 77.2ms | ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 11:35:49 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered collection of users/_user.html.erb [4 times] (11.9ms)
  Rendered users/index.html.erb within layouts/application (18.5ms)
Completed 200 OK in 91ms (Views: 87.3ms | ActiveRecord: 1.2ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 11:36:09 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 11]]
  Rendered users/index.html.erb within layouts/application (15.7ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `match?' for #<User::ActiveRecord_Relation:0x007fb34d851760>):
    3:     <%= text_field_tag :search, params[:search], placeholder: "Search Users" %>
    4:     <%= submit_tag "Search" %>
    5: 
    6:     <% if @users.match? %>
    7:       <%= render @users %>
    8:     <% else %>
    9:       <p>There are no users matching the term(s) <%= params[:search] %>.</p>
  
app/views/users/index.html.erb:6:in `block in _app_views_users_index_html_erb___3514466186194603828_70204038218020'
app/views/users/index.html.erb:2:in `_app_views_users_index_html_erb___3514466186194603828_70204038218020'
Started GET "/users" for 127.0.0.1 at 2017-10-17 11:36:33 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  Rendered users/index.html.erb within layouts/application (190.0ms)
Completed 500 Internal Server Error in 200ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `partial' for #<#<Class:0x007fb34e02f720>:0x007fb34dddb5a0>):
    4:     <%= submit_tag "Search" %>
    5: 
    6:     <% if @users.present? %>
    7:       <%= render partial 'user' %>
    8:     <% else %>
    9:       <p>There are no users matching the term(s) <%= params[:search] %>.</p>
   10:     <% end %>
  
app/views/users/index.html.erb:7:in `block in _app_views_users_index_html_erb___3514466186194603828_70204041125840'
app/views/users/index.html.erb:2:in `_app_views_users_index_html_erb___3514466186194603828_70204041125840'
Started GET "/users" for 127.0.0.1 at 2017-10-17 11:37:10 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  Rendered users/index.html.erb within layouts/application (5.6ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (':user' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    4:     <%= submit_tag "Search" %>
    5: 
    6:     <% if @users.present? %>
    7:       <%= render :user %>
    8:     <% else %>
    9:       <p>There are no users matching the term(s) <%= params[:search] %>.</p>
   10:     <% end %>
  
app/views/users/index.html.erb:7:in `block in _app_views_users_index_html_erb___3514466186194603828_70203988237200'
app/views/users/index.html.erb:2:in `_app_views_users_index_html_erb___3514466186194603828_70203988237200'
Started GET "/users" for 127.0.0.1 at 2017-10-17 11:37:36 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (5.5ms)
  Rendered users/index.html.erb within layouts/application (13.4ms)
Completed 200 OK in 112ms (Views: 107.2ms | ActiveRecord: 1.7ms)


Started GET "/users?utf8=%E2%9C%93&search=hello&commit=Search" for 127.0.0.1 at 2017-10-17 11:37:42 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hello", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hello%') ORDER BY created_at DESC[0m
  Rendered users/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 83ms (Views: 77.1ms | ActiveRecord: 0.5ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 11:37:48 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (7.4ms)
  Rendered users/index.html.erb within layouts/application (12.3ms)
Completed 200 OK in 83ms (Views: 74.7ms | ActiveRecord: 2.8ms)


Started GET "/users?utf8=%E2%9C%93&search=qian&commit=Search" for 127.0.0.1 at 2017-10-17 11:37:52 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"qian", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%qian%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%qian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%qian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%qian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%qian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (5.6ms)
  Rendered users/index.html.erb within layouts/application (10.7ms)
Completed 200 OK in 76ms (Views: 68.8ms | ActiveRecord: 2.3ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 11:37:56 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users") LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users") LIMIT $1[0m  [["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (1.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (28.6ms)
Completed 200 OK in 188ms (Views: 143.4ms | ActiveRecord: 17.3ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 11:39:54 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (16.4ms)
Completed 200 OK in 159ms (Views: 106.6ms | ActiveRecord: 9.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 11:40:05 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 107ms (Views: 102.0ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 11:40:07 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (11.6ms)
Completed 200 OK in 92ms (Views: 87.1ms | ActiveRecord: 1.5ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 11:41:13 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (11.0ms)
Completed 500 Internal Server Error in 116ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"users"}, missing required keys: [:id]):
    22:             <li><%= link_to "Sign Up", new_user_path, class: '' %></li>
    23:             <li><%= link_to "Login", new_sessions_path, class: '' %></li>
    24:           <% end %>
    25:           <li><%= link_to "Search Users", user_path, class: '' %></li>
    26:           <li><%= link_to "Logout", "/sessions", class: '', method: :delete %></li>
    27: 
    28:         </ul>
  
app/views/layouts/application.html.erb:25:in `_app_views_layouts_application_html_erb___524777773413271793_70204023760320'
Started GET "/photos" for 127.0.0.1 at 2017-10-17 11:41:30 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 96ms (Views: 91.2ms | ActiveRecord: 1.7ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 11:41:33 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (5.0ms)
  Rendered users/index.html.erb within layouts/application (51.9ms)
Completed 200 OK in 146ms (Views: 133.2ms | ActiveRecord: 2.1ms)


Started GET "/users?utf8=%E2%9C%93&search=carrierwave&commit=Search" for 127.0.0.1 at 2017-10-17 11:42:01 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"carrierwave", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%carrierwave%') ORDER BY created_at DESC[0m
  Rendered users/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 70ms (Views: 64.8ms | ActiveRecord: 0.4ms)


Started GET "/users?utf8=%E2%9C%93&search=harry&commit=Search" for 127.0.0.1 at 2017-10-17 11:42:06 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"harry", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%harry%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%harry%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%harry%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%harry%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%harry%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (4.2ms)
  Rendered users/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 101ms (Views: 87.7ms | ActiveRecord: 1.9ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:42:07 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (3.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (9.0ms)
Completed 200 OK in 225ms (Views: 199.9ms | ActiveRecord: 4.0ms)


Started GET "/users/2?class=caption" for 127.0.0.1 at 2017-10-17 11:42:13 +0800
Processing by UsersController#show as HTML
  Parameters: {"class"=>"caption", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (4.8ms)
Completed 200 OK in 118ms (Views: 113.1ms | ActiveRecord: 1.0ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 11:43:15 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (4.4ms)
Completed 200 OK in 84ms (Views: 77.7ms | ActiveRecord: 0.7ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-17 11:43:19 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 102ms (Views: 93.2ms | ActiveRecord: 0.4ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 11:43:21 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (7.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (10.8ms)
Completed 200 OK in 126ms (Views: 111.8ms | ActiveRecord: 8.0ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 11:43:27 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (4.2ms)
Completed 200 OK in 76ms (Views: 69.6ms | ActiveRecord: 0.9ms)


  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos/1" for 127.0.0.1 at 2017-10-17 11:44:26 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 74ms (Views: 67.7ms | ActiveRecord: 0.4ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 11:44:28 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (46.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (52.2ms)
Completed 200 OK in 149ms (Views: 81.7ms | ActiveRecord: 47.4ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:44:34 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 72ms (Views: 65.8ms | ActiveRecord: 1.0ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:45:03 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (18.4ms)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined method `id' for #<Photo::ActiveRecord_AssociationRelation:0x007fb34ba05b08>
Did you mean?  ids):
     8:     <%= image_tag photo.photo_url %>
     9:     <br>
    10:     <div class="caption">
    11:       <%= link_to "#{photo.caption}", photo_path(@photos.id) ,class: 'caption' %>
    12:     </div>
    13:     <br>
    14:     <br>
  
app/views/users/show.html.erb:11:in `block in _app_views_users_show_html_erb__1863985297381007703_70204022324060'
app/views/users/show.html.erb:7:in `_app_views_users_show_html_erb__1863985297381007703_70204022324060'
Started PUT "/__web_console/repl_sessions/693c753a001b3360127d98d9b41a1c6c" for 127.0.0.1 at 2017-10-17 11:45:09 +0800
Started PUT "/__web_console/repl_sessions/693c753a001b3360127d98d9b41a1c6c" for 127.0.0.1 at 2017-10-17 11:45:12 +0800
Started PUT "/__web_console/repl_sessions/693c753a001b3360127d98d9b41a1c6c" for 127.0.0.1 at 2017-10-17 11:45:23 +0800
Started PUT "/__web_console/repl_sessions/693c753a001b3360127d98d9b41a1c6c" for 127.0.0.1 at 2017-10-17 11:45:29 +0800
Started PUT "/__web_console/repl_sessions/693c753a001b3360127d98d9b41a1c6c" for 127.0.0.1 at 2017-10-17 11:45:31 +0800
Started PUT "/__web_console/repl_sessions/693c753a001b3360127d98d9b41a1c6c" for 127.0.0.1 at 2017-10-17 11:45:40 +0800
Started PUT "/__web_console/repl_sessions/693c753a001b3360127d98d9b41a1c6c" for 127.0.0.1 at 2017-10-17 11:46:12 +0800
Started PUT "/__web_console/repl_sessions/693c753a001b3360127d98d9b41a1c6c" for 127.0.0.1 at 2017-10-17 11:46:19 +0800
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 AND "photos"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 2], ["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/693c753a001b3360127d98d9b41a1c6c" for 127.0.0.1 at 2017-10-17 11:46:50 +0800
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:47:43 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (22.2ms)
Completed 200 OK in 145ms (Views: 107.1ms | ActiveRecord: 1.6ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-17 11:47:48 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 106ms (Views: 95.5ms | ActiveRecord: 0.4ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:47:51 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (36.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mPhoto Load (2.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (47.1ms)
Completed 200 OK in 157ms (Views: 110.4ms | ActiveRecord: 39.5ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:48:10 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (6.2ms)
Completed 200 OK in 88ms (Views: 80.1ms | ActiveRecord: 1.2ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:49:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (16.2ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `find' for #<Photo:0x007fb345e6faf0>):
     8:     <%= image_tag photo.photo_url %>
     9:     <br>
    10:     <div class="caption">
    11:       <%= link_to "#{photo.caption}", photo_path(photo.find(params[:id])) ,class: 'caption' %>
    12:     </div>
    13:     <br>
    14:     <br>
  
app/views/users/show.html.erb:11:in `block in _app_views_users_show_html_erb__1863985297381007703_70203978269060'
app/views/users/show.html.erb:7:in `_app_views_users_show_html_erb__1863985297381007703_70203978269060'
Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:49:27 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (20.8ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined method `find_by' for #<Photo:0x007fb3456d5768>):
     8:     <%= image_tag photo.photo_url %>
     9:     <br>
    10:     <div class="caption">
    11:       <%= link_to "#{photo.caption}", photo_path(photo.find_by(params[:id])) ,class: 'caption' %>
    12:     </div>
    13:     <br>
    14:     <br>
  
app/views/users/show.html.erb:11:in `block in _app_views_users_show_html_erb__1863985297381007703_70204021379620'
app/views/users/show.html.erb:7:in `_app_views_users_show_html_erb__1863985297381007703_70204021379620'
Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:49:37 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 137ms (Views: 129.0ms | ActiveRecord: 1.3ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-17 11:49:50 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (4.7ms)
Completed 200 OK in 121ms (Views: 115.0ms | ActiveRecord: 0.3ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-17 11:49:52 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 82ms (Views: 76.0ms | ActiveRecord: 0.4ms)


Started GET "/photos/4" for 127.0.0.1 at 2017-10-17 11:50:00 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 86ms (Views: 79.3ms | ActiveRecord: 0.3ms)


Started GET "/photos/5" for 127.0.0.1 at 2017-10-17 11:50:03 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 71ms (Views: 66.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 11:53:05 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 109ms (Views: 106.2ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 11:53:07 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (3.9ms)
  Rendered users/index.html.erb within layouts/application (25.2ms)
Completed 200 OK in 130ms (Views: 102.3ms | ActiveRecord: 1.5ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 11:53:09 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 149ms (Views: 93.5ms | ActiveRecord: 8.7ms)


Started GET "/users?utf8=%E2%9C%93&search=qiannyqian&commit=Search" for 127.0.0.1 at 2017-10-17 11:53:12 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"qiannyqian", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%qiannyqian%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%qiannyqian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%qiannyqian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%qiannyqian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%qiannyqian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (12.1ms)
  Rendered users/index.html.erb within layouts/application (39.5ms)
Completed 200 OK in 160ms (Views: 148.3ms | ActiveRecord: 6.1ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 11:53:15 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (2.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (2.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (79.4ms)
Completed 500 Internal Server Error in 134ms (ActiveRecord: 5.4ms)


  
ActionView::Template::Error (undefined method `find' for #<Photo:0x007fb34ada17b8>):
     8:     <%= image_tag photo.photo_url %>
     9:     <br>
    10:     <div class="caption">
    11:       <%= link_to "#{photo.caption}", photo_path(@photo.find(params[:id])) ,class: 'caption' %>
    12:     </div>
    13:     <br>
    14:     <br>
  
app/views/users/show.html.erb:11:in `block in _app_views_users_show_html_erb__1863985297381007703_70204015837820'
app/views/users/show.html.erb:7:in `_app_views_users_show_html_erb__1863985297381007703_70204015837820'
Started GET "/users/1" for 127.0.0.1 at 2017-10-17 11:53:42 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 79ms (Views: 71.4ms | ActiveRecord: 1.5ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:53:56 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 93ms (Views: 83.8ms | ActiveRecord: 1.1ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 11:54:28 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (5.1ms)
Completed 200 OK in 159ms (Views: 98.5ms | ActiveRecord: 10.5ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 11:54:44 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (11.2ms)
Completed 200 OK in 89ms (Views: 83.8ms | ActiveRecord: 1.0ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 12:02:38 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 123ms (Views: 113.2ms | ActiveRecord: 1.6ms)


  [1m[36mPhoto Load (2.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mPhoto Load (0.9ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2017-10-17 12:05:13 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
Completed 500 Internal Server Error in 48ms (ActiveRecord: 0.3ms)


  
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
NoMethodError (undefined method `id' for #<Photo::ActiveRecord_AssociationRelation:0x007fb3479ba5d0>
Did you mean?  ids):
  
app/controllers/users_controller.rb:18:in `show'
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:05:19 +0800
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:05:20 +0800
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:05:21 +0800
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:05:21 +0800
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:05:40 +0800
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:05:50 +0800
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:05:50 +0800
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:05:54 +0800
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:05:55 +0800
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:06:11 +0800
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:06:11 +0800
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:06:14 +0800
Started PUT "/__web_console/repl_sessions/5e82b9710da21942c1b03a93a1baf32c" for 127.0.0.1 at 2017-10-17 12:06:18 +0800
Started GET "/users/1" for 127.0.0.1 at 2017-10-17 12:07:15 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
Completed 500 Internal Server Error in 58ms (ActiveRecord: 6.1ms)


  
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
NoMethodError (undefined method `id' for #<Photo::ActiveRecord_AssociationRelation:0x007fb34e33f1b8>
Did you mean?  ids):
  
app/controllers/users_controller.rb:20:in `show'
Started GET "/users/1" for 127.0.0.1 at 2017-10-17 12:07:40 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms)


  
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
NoMethodError (undefined method `id' for #<Photo::ActiveRecord_AssociationRelation:0x007fb345e0a790>
Did you mean?  ids):
  
app/controllers/users_controller.rb:20:in `show'
Started GET "/users/1" for 127.0.0.1 at 2017-10-17 12:07:58 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
Completed 500 Internal Server Error in 312ms (ActiveRecord: 8.1ms)


  
  [1m[36mCACHE Photo Load (0.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
NameError (undefined local variable or method `parmas' for #<UsersController:0x007fb34aed8aa0>
Did you mean?  params):
  
app/controllers/users_controller.rb:20:in `show'
Started GET "/users/1" for 127.0.0.1 at 2017-10-17 12:08:09 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (18.7ms)
Completed 500 Internal Server Error in 73ms (ActiveRecord: 2.4ms)


  
ActionView::Template::Error (undefined method `photo_id' for #<Photo:0x007fb34bc7d1b0>
Did you mean?  photo_url):
     7:   <% @photos.each do |photo| %>
     8:     <%= image_tag photo.photo_url %>
     9:     <%= photo.photo_url %>
    10:     <%= photo.photo_id %>
    11:     <%= photo.id %>
    12:     <br>
    13:     <!-- <div class="caption">
  
app/views/users/show.html.erb:10:in `block in _app_views_users_show_html_erb__1863985297381007703_70204016442840'
app/views/users/show.html.erb:7:in `_app_views_users_show_html_erb__1863985297381007703_70204016442840'
Started GET "/users/1" for 127.0.0.1 at 2017-10-17 12:08:19 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (7.2ms)
Completed 200 OK in 112ms (Views: 103.7ms | ActiveRecord: 1.8ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 12:08:57 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 98ms (Views: 89.6ms | ActiveRecord: 1.1ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 12:09:08 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (1.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (7.0ms)
Completed 200 OK in 174ms (Views: 162.4ms | ActiveRecord: 2.0ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 12:09:31 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (5.9ms)
Completed 200 OK in 151ms (Views: 141.7ms | ActiveRecord: 1.6ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 12:09:46 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (5.3ms)
Completed 200 OK in 121ms (Views: 110.8ms | ActiveRecord: 1.6ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 12:10:27 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (15.7ms)
Completed 200 OK in 166ms (Views: 118.2ms | ActiveRecord: 8.3ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 12:10:34 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 97ms (Views: 88.4ms | ActiveRecord: 0.7ms)


Started GET "/photos/4" for 127.0.0.1 at 2017-10-17 12:10:38 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mPhoto Load (0.9ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 120ms (Views: 107.2ms | ActiveRecord: 0.9ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-17 12:10:40 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 220ms (Views: 213.3ms | ActiveRecord: 0.3ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 12:10:45 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 90ms (Views: 84.7ms | ActiveRecord: 0.7ms)


Started GET "/photos/5" for 127.0.0.1 at 2017-10-17 12:10:49 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 109ms (Views: 104.1ms | ActiveRecord: 0.3ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 12:10:56 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 98ms (Views: 92.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 12:10:59 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 78ms (Views: 73.3ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 12:11:10 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (12.9ms)
Completed 200 OK in 78ms (Views: 72.3ms | ActiveRecord: 1.3ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-17 12:11:16 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (14.4ms)
Completed 200 OK in 111ms (Views: 106.6ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-17 12:11:23 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Wt2Sak21aUZpzZIQl8lg+R84LRUwq37/nWGaXE8AzU7y9uR42FkRDzRcVMEayZSe642Ubqy/2J8UJSSo7SqKcw==", "user"=>{"email"=>"granger@hogwarts.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "granger@hogwarts.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/photos
Completed 302 Found in 99ms (ActiveRecord: 0.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 12:11:23 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (13.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 83ms (Views: 79.1ms | ActiveRecord: 1.6ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-17 12:11:28 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 88ms (Views: 74.7ms | ActiveRecord: 0.2ms)


Started POST "/photos" for 127.0.0.1 at 2017-10-17 12:12:27 +0800
Processing by PhotosController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1TNggC7lcTA2SD3BB1IYfotl9RW82jIHxxNEsAf/B8o/bDiv3w1C5dYeSn3oWwZDkZqylLvRJmQcj8aCtjwDPA==", "photo"=>{"user_id"=>"4", "photo_url"=>#<ActionDispatch::Http::UploadedFile:0x007fb345eb7918 @tempfile=#<Tempfile:/var/folders/3s/4m0ccr411sb8293573wwmxy80000gn/T/RackMultipart20171017-14043-q3yeeq.jpg>, @original_filename="Hermione_Granger_poster.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"photo[photo_url]\"; filename=\"Hermione_Granger_poster.jpg\"\r\nContent-Type: image/jpeg\r\n">, "caption"=>"When I was a wee young lass... new profile picture anyone?"}, "commit"=>"Post new photo"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.1ms)[0m  [1m[32mINSERT INTO "photos" ("user_id", "created_at", "updated_at", "caption", "photo_url") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["created_at", "2017-10-17 04:12:27.441993"], ["updated_at", "2017-10-17 04:12:27.441993"], ["caption", "When I was a wee young lass... new profile picture anyone?"], ["photo_url", "8b44270e-c6de-4e8f-8c31-7cc34eb31b70-Hermione_Granger_poster.jpg"]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/6
Completed 302 Found in 10000ms (ActiveRecord: 9.3ms)


Started GET "/photos/6" for 127.0.0.1 at 2017-10-17 12:12:37 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 99ms (Views: 92.8ms | ActiveRecord: 0.7ms)


Started GET "/photos/6" for 127.0.0.1 at 2017-10-17 12:13:36 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 82ms (Views: 77.3ms | ActiveRecord: 0.6ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 12:13:42 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (19.9ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 101.8ms | ActiveRecord: 2.0ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-17 12:13:59 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"LPcVKw02YF0xtEi5BRoIPJXc0eQhLxyuWlLlksIFqUelv1KX92qZclRcn5YLX9nitr40E7DU5LN3bKNZgxczNQ=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 12:13:59 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 95ms (Views: 92.5ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 12:14:02 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (9.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (14.4ms)
  Rendered users/index.html.erb within layouts/application (37.4ms)
Completed 200 OK in 124ms (Views: 109.0ms | ActiveRecord: 10.4ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 12:14:44 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 120ms (Views: 116.2ms | ActiveRecord: 0.0ms)


Started GET "/users?utf8=%E2%9C%93&search=hello&commit=Search" for 127.0.0.1 at 2017-10-17 12:14:49 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hello", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 91ms (Views: 81.5ms | ActiveRecord: 0.0ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 12:14:55 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 71ms (Views: 66.1ms | ActiveRecord: 0.0ms)


Started GET "/users?utf8=%E2%9C%93&search=hermione&commit=Search" for 127.0.0.1 at 2017-10-17 12:15:19 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (4.5ms)
  Rendered users/index.html.erb within layouts/application (9.4ms)
Completed 200 OK in 79ms (Views: 73.8ms | ActiveRecord: 2.2ms)


Started GET "/users?utf8=%E2%9C%93&search=hello&commit=Search" for 127.0.0.1 at 2017-10-17 12:15:23 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hello", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hello%') ORDER BY created_at DESC[0m
  Rendered users/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 77ms (Views: 73.3ms | ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 12:15:26 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (3.5ms)
  Rendered users/index.html.erb within layouts/application (9.6ms)
Completed 200 OK in 142ms (Views: 127.6ms | ActiveRecord: 1.2ms)


  [1m[35m (11.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (3.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddBoostToUsers (20171017085921)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (29.3ms)[0m  [1m[35mALTER TABLE "users" ADD "boost" boolean[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171017085921"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-10-17 17:07:00 +0800
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 3414ms (Views: 3399.6ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-17 17:07:09 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (29.6ms)
Completed 200 OK in 149ms (Views: 140.6ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-17 17:07:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SViLfAeqej7MpI0SHcRvNqoFUYfYgyYxC0WF/porU+sUyI9aZ/7v11lE8ED163qxBcm1zqLdohV7CW0FFVTbsQ==", "user"=>{"email"=>"granger@hogwarts.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (8.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "granger@hogwarts.com"], ["LIMIT", 1]]
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/photos
Completed 302 Found in 169ms (ActiveRecord: 16.8ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 17:07:18 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (12.9ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (76.1ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 164ms (Views: 141.5ms | ActiveRecord: 19.4ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 17:07:23 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (4.1ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (7.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 120ms (Views: 81.9ms | ActiveRecord: 10.9ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 17:08:16 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 90ms (Views: 84.1ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 17:09:08 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 92ms (Views: 89.3ms | ActiveRecord: 0.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 17:09:11 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (13.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 106ms (Views: 99.5ms | ActiveRecord: 1.4ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 17:09:16 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (4.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (7.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 127ms (Views: 112.6ms | ActiveRecord: 5.1ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 17:10:35 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (4.0ms)
Completed 200 OK in 85ms (Views: 78.9ms | ActiveRecord: 0.9ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 17:10:42 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (6.7ms)
Completed 200 OK in 82ms (Views: 74.3ms | ActiveRecord: 1.2ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:10:50 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (8.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 110.2ms | ActiveRecord: 0.5ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 17:11:25 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (4.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 108ms (Views: 101.5ms | ActiveRecord: 1.2ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 17:11:29 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (28.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (32.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 79.7ms | ActiveRecord: 29.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 17:11:34 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 98ms (Views: 92.7ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 17:12:12 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 80ms (Views: 77.3ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 17:12:34 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 2630ms (Views: 2626.9ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 17:12:52 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 2958ms (Views: 2954.8ms | ActiveRecord: 0.9ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-17 17:12:58 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"DfnwmjsrpOuHkM5ygG87CvE3tS85JqDnAy5ph07PYLdHbC/xUyQ5IMeKdzv1WZ++3l+bRZyjCX4osDBSVI69Vg=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 17:12:58 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 75ms (Views: 68.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 17:13:38 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 89ms (Views: 86.2ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-17 17:13:41 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 109ms (Views: 106.1ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-17 17:13:47 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GXarsn9xfUjEU0xRxo0m9Vq9j1bkMScyrVc1OGADS1RE5q+UHyXooVGzMQMuojNy9XFrH55voxbdG93D73zDDg==", "user"=>{"email"=>"granger@hogwarts.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "granger@hogwarts.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/photos
Completed 302 Found in 97ms (ActiveRecord: 1.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 17:13:47 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (11.4ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 111.4ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 17:13:49 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 113ms (Views: 110.3ms | ActiveRecord: 0.2ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:13:54 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (2.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 105ms (Views: 101.3ms | ActiveRecord: 0.2ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:16:02 +0800
Processing by BraintreeController#new as HTML
Completed 500 Internal Server Error in 1023ms (ActiveRecord: 0.0ms)


  
Braintree::NotFoundError (Braintree::NotFoundError):
  
app/controllers/braintree_controller.rb:3:in `new'
Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:16:35 +0800
Processing by BraintreeController#new as HTML
Completed 500 Internal Server Error in 982ms (ActiveRecord: 0.0ms)


  
Braintree::NotFoundError (Braintree::NotFoundError):
  
app/controllers/braintree_controller.rb:3:in `new'
Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:25:18 +0800
Processing by BraintreeController#new as HTML
Completed 500 Internal Server Error in 939ms (ActiveRecord: 0.0ms)


  
Braintree::NotFoundError (Braintree::NotFoundError):
  
app/controllers/braintree_controller.rb:3:in `new'
Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:26:59 +0800
Processing by BraintreeController#new as HTML
Completed 500 Internal Server Error in 1045ms (ActiveRecord: 0.0ms)


  
Braintree::NotFoundError (Braintree::NotFoundError):
  
app/controllers/braintree_controller.rb:3:in `new'
Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:29:26 +0800
Processing by BraintreeController#new as HTML
Completed 500 Internal Server Error in 1014ms (ActiveRecord: 0.0ms)


  
Braintree::NotFoundError (Braintree::NotFoundError):
  
app/controllers/braintree_controller.rb:3:in `new'
Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:30:16 +0800
Processing by BraintreeController#new as HTML
Completed 500 Internal Server Error in 921ms (ActiveRecord: 0.0ms)


  
Braintree::NotFoundError (Braintree::NotFoundError):
  
app/controllers/braintree_controller.rb:3:in `new'
Started PUT "/__web_console/repl_sessions/50ca87345bb60fffb35ed63d86974021" for 127.0.0.1 at 2017-10-17 17:40:36 +0800
Started PUT "/__web_console/repl_sessions/50ca87345bb60fffb35ed63d86974021" for 127.0.0.1 at 2017-10-17 17:40:45 +0800
Started PUT "/__web_console/repl_sessions/50ca87345bb60fffb35ed63d86974021" for 127.0.0.1 at 2017-10-17 17:40:52 +0800
Started PUT "/__web_console/repl_sessions/50ca87345bb60fffb35ed63d86974021" for 127.0.0.1 at 2017-10-17 17:40:53 +0800
Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:41:49 +0800
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BraintreeController#new as HTML
Completed 500 Internal Server Error in 975ms (ActiveRecord: 0.0ms)


  
Braintree::NotFoundError (Braintree::NotFoundError):
  
app/controllers/braintree_controller.rb:3:in `new'
Started GET "/" for 127.0.0.1 at 2017-10-17 17:41:59 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (68.9ms)
Completed 200 OK in 842ms (Views: 822.0ms | ActiveRecord: 15.3ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:42:03 +0800
Processing by BraintreeController#new as HTML
Completed 500 Internal Server Error in 1890ms (ActiveRecord: 0.0ms)


  
Braintree::NotFoundError (Braintree::NotFoundError):
  
app/controllers/braintree_controller.rb:3:in `new'
Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:43:11 +0800
Processing by BraintreeController#new as HTML
Completed 500 Internal Server Error in 1018ms (ActiveRecord: 0.0ms)


  
Braintree::NotFoundError (Braintree::NotFoundError):
  
app/controllers/braintree_controller.rb:3:in `new'
Started PUT "/__web_console/repl_sessions/93ce57b76f0a9f3d3334e6c21ca32948" for 127.0.0.1 at 2017-10-17 17:43:30 +0800
Started PUT "/__web_console/repl_sessions/93ce57b76f0a9f3d3334e6c21ca32948" for 127.0.0.1 at 2017-10-17 17:43:39 +0800
Started PUT "/__web_console/repl_sessions/93ce57b76f0a9f3d3334e6c21ca32948" for 127.0.0.1 at 2017-10-17 17:43:43 +0800
Started PUT "/__web_console/repl_sessions/93ce57b76f0a9f3d3334e6c21ca32948" for 127.0.0.1 at 2017-10-17 17:43:46 +0800
Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:44:57 +0800
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (18.3ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1995ms (Views: 622.7ms | ActiveRecord: 8.9ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:45:23 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (2.7ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1285ms (Views: 165.1ms | ActiveRecord: 6.8ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:46:12 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1315ms (Views: 127.7ms | ActiveRecord: 0.7ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:46:47 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1018ms (Views: 75.2ms | ActiveRecord: 0.6ms)


Started GET "/braintree/new.js" for 127.0.0.1 at 2017-10-17 17:46:48 +0800
Processing by BraintreeController#new as JS
  Rendering braintree/new.html.erb
  Rendered braintree/new.html.erb (1.7ms)
Completed 200 OK in 1707ms (Views: 11.0ms | ActiveRecord: 0.0ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:48:52 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (68.7ms)
Completed 500 Internal Server Error in 1094ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Asset was not declared to be precompiled in production.
Add `Rails.application.config.assets.precompile += %w( braintree/new.js )` to `config/initializers/assets.rb` and restart your server):
    3: <!-- Load the Hosted Fields component. -->
    4: <script src="https://js.braintreegateway.com/web/3.6.3/js/hosted-fields.min.js"></script>
    5: 
    6: <%= javascript_include_tag 'braintree/new'%>
    7: 
    8: <h1>Make Payment</h1>
    9: 
  
app/views/braintree/new.html.erb:6:in `_app_views_braintree_new_html_erb__880892493653811289_70305267838020'
Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:49:47 +0800
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (476.0ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1715ms (Views: 662.6ms | ActiveRecord: 8.9ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:50:21 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1111ms (Views: 98.6ms | ActiveRecord: 12.3ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:58:46 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1572ms (Views: 80.5ms | ActiveRecord: 0.4ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 17:59:23 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1162ms (Views: 143.8ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 18:01:50 +0800
  [1m[35m (7.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (60.7ms)
Started GET "/" for 127.0.0.1 at 2017-10-17 18:01:51 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (45.5ms)
Completed 200 OK in 1149ms (Views: 1127.0ms | ActiveRecord: 8.8ms)


Completed 200 OK in 694ms (Views: 663.4ms | ActiveRecord: 26.7ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 18:02:06 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (14.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1257ms (Views: 104.7ms | ActiveRecord: 0.7ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 18:02:14 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1193ms (Views: 106.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 18:12:30 +0800
  [1m[35m (7.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (65.3ms)
Completed 200 OK in 710ms (Views: 685.1ms | ActiveRecord: 10.2ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 18:12:33 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (14.2ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1424ms (Views: 121.3ms | ActiveRecord: 14.5ms)


Started POST "/braintree/checkout" for 127.0.0.1 at 2017-10-17 18:12:53 +0800
Processing by BraintreeController#checkout as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SPaj5gnA/r6tTawvDmhPULv1f2zV75j3KZ0U9ectmCvoM1EKII35V9Ngv6ry+OfmSTh3YaL8mi5DcfTY1TA0nw==", "checkout_form"=>{"payment_method_nonce"=>"adf94468-0f6d-0fe3-627d-74e878022210"}}
Redirected to http://localhost:3000/
Completed 302 Found in 1487ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 18:12:55 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 83ms (Views: 79.6ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 21:48:47 +0800
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (54.9ms)
Completed 200 OK in 751ms (Views: 724.3ms | ActiveRecord: 12.3ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-17 21:48:52 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"rz0Nzcd1d17jnIb2X0JwMzo8BXs5eXGGggv5NuL5VKPlqNKmr3rqlaOGP78qdNSHFVQrEZz82B+plaDj+LiJQg=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 36ms (ActiveRecord: 7.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 21:48:53 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 93ms (Views: 89.8ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-17 21:48:56 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (23.3ms)
Completed 200 OK in 139ms (Views: 133.6ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-17 21:49:10 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"K6nGujpVAfhUiSnz92vlhtEOjT4aghVhxPTkWSU9e0J2OcKcWgGUEcFpVKEfRPABfsJpd2DckUW0uAyiqkLzGA==", "user"=>{"email"=>"hpotter@hogwarts.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hpotter@hogwarts.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/photos
Completed 302 Found in 107ms (ActiveRecord: 1.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 21:49:10 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (13.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (99.4ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 209ms (Views: 181.7ms | ActiveRecord: 23.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 21:49:17 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 106ms (Views: 95.9ms | ActiveRecord: 0.4ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 21:49:19 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (3.1ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 1591ms (Views: 85.4ms | ActiveRecord: 0.8ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 21:49:24 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 1338ms (Views: 92.3ms | ActiveRecord: 0.3ms)


Started POST "/braintree/checkout" for 127.0.0.1 at 2017-10-17 21:49:40 +0800
Processing by BraintreeController#checkout as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CzgicheKHT9HMnKBEidYryHHOiaCJwAOAb/2aXtx3z1Brf0Zf4WA9Acoy8hnEfwbDq8UTCeiqZcqIa+8YTAC3A==", "checkout_form"=>{"payment_method_nonce"=>"71693168-61c1-0625-2f78-3d04f757bc2f"}}
Redirected to http://localhost:3000/
Completed 302 Found in 1539ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 21:49:42 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 83ms (Views: 79.8ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 21:49:50 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 70ms (Views: 66.2ms | ActiveRecord: 0.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 21:50:04 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (1.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (24.8ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 125ms (Views: 116.6ms | ActiveRecord: 3.1ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 21:50:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 81.2ms | ActiveRecord: 1.3ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-17 21:50:15 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPhoto Load (1.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (21.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 135ms (Views: 120.2ms | ActiveRecord: 1.6ms)


Started GET "/photos/new" for 127.0.0.1 at 2017-10-17 21:50:18 +0800
Processing by PhotosController#new as HTML
  Rendering photos/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered photos/new.html.erb within layouts/application (8.0ms)
Completed 200 OK in 91ms (Views: 87.9ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 21:50:21 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 103ms (Views: 100.2ms | ActiveRecord: 0.3ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-10-17 21:54:51 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (25.5ms)
Completed 200 OK in 133ms (Views: 129.8ms | ActiveRecord: 0.3ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 21:54:55 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (12.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 134ms (Views: 86.1ms | ActiveRecord: 12.7ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/users/2" for 127.0.0.1 at 2017-10-17 21:55:33 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (6.5ms)
Completed 200 OK in 118ms (Views: 109.8ms | ActiveRecord: 1.5ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-17 21:55:36 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"btW2f5LeSLDnMNZDHiDwr4Ku8vXLoT0AVmD3SMq2ChckQGkU+tHVe6cqbwprFlQbrcbcn24klJl9/q6d0PfX9g=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 21:55:37 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 91ms (Views: 87.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 21:55:40 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 21:55:41 +0800
Started GET "/auth/facebook/callback?code=AQBDYZuJEVpevImH__lDydSSfyO1pZ5NM7VVziqa4veBnF-4Zo-s_1rUE6PomU1WNbgAGb2Sxg7Yy18mBEfkiaUZCXXSeUwTC26XMVb_BCErzhfjcgU5KCHWfBPUypWDhdQX6ewRxbL0wINmQJU5hJ7peVo809wGTnbf7hQUlP5TdWmvaKKfKKx6XqyNEfReAnetG8ZpWIkaO7GBNxKjhGnHoRVpSIhnSBDeLMu0Cs1bh81aDna8B1eXSIQIjFpSGKtOF9_4YFbx9LgheCFgfeEIJMGBPSndHkBcUUAG_T0E6arR_cVDxe4HmIomOkgzZzaNYZGDmtRejeSr5St0e0MZ&state=f659d8bc1d8879f040f17b3841ea9224e9efceb55b06dcb8" for 127.0.0.1 at 2017-10-17 21:55:41 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBDYZuJEVpevImH__lDydSSfyO1pZ5NM7VVziqa4veBnF-4Zo-s_1rUE6PomU1WNbgAGb2Sxg7Yy18mBEfkiaUZCXXSeUwTC26XMVb_BCErzhfjcgU5KCHWfBPUypWDhdQX6ewRxbL0wINmQJU5hJ7peVo809wGTnbf7hQUlP5TdWmvaKKfKKx6XqyNEfReAnetG8ZpWIkaO7GBNxKjhGnHoRVpSIhnSBDeLMu0Cs1bh81aDna8B1eXSIQIjFpSGKtOF9_4YFbx9LgheCFgfeEIJMGBPSndHkBcUUAG_T0E6arR_cVDxe4HmIomOkgzZzaNYZGDmtRejeSr5St0e0MZ", "state"=>"f659d8bc1d8879f040f17b3841ea9224e9efceb55b06dcb8", "provider"=>"facebook"}
  [1m[36mAuthentication Load (20.8ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.7ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAOZBEKZCI2g0ZBSABX8zh6cyXCEdaie9Ep3Kn8m8xMSZBl1PZB6TahV23R56xCwdsouZAKZBS0YcfXOENcRsLZBBraVms1XcFzv2k0HBUKxIZAfLlfQkApbNGYWzHxfnXBickJohs2pcZCaZBAnG9dnY9npTDOIw2AZBTQZDZD"], ["updated_at", "2017-10-17 13:55:42.658071"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 55ms (ActiveRecord: 31.5ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 21:55:42 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (11.5ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 95ms (Views: 90.8ms | ActiveRecord: 1.3ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 21:55:44 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (35.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (41.4ms)
Completed 200 OK in 163ms (Views: 117.8ms | ActiveRecord: 36.0ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 21:56:22 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (4.2ms)
Completed 200 OK in 138ms (Views: 132.1ms | ActiveRecord: 0.9ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 21:56:29 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (2.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 1254ms (Views: 75.1ms | ActiveRecord: 0.2ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 21:56:35 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 1293ms (Views: 68.0ms | ActiveRecord: 0.2ms)


Started POST "/braintree/checkout" for 127.0.0.1 at 2017-10-17 21:56:52 +0800
Processing by BraintreeController#checkout as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"t9qKX0c56Q+wxiD6ucR+zhmXQFgE2jFwpOff8FxhoOP9T1U0LzZ0xPDcmbPM8tp6Nv9uMqFfmOmPeYYlRiB9Ag==", "checkout_form"=>{"payment_method_nonce"=>"677f239e-43f1-02de-512f-45a2761f36af"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 1573ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 21:56:53 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 132ms (Views: 127.1ms | ActiveRecord: 0.3ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 21:56:58 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.1ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (7.5ms)
Completed 200 OK in 102ms (Views: 88.3ms | ActiveRecord: 1.7ms)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-10-17 21:57:24 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (19.4ms)
Completed 200 OK in 88ms (Views: 82.5ms | ActiveRecord: 0.2ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 21:57:28 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (12.7ms)
Completed 200 OK in 152ms (Views: 87.1ms | ActiveRecord: 37.9ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 21:57:30 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 957ms (Views: 87.6ms | ActiveRecord: 0.3ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 21:57:34 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 963ms (Views: 68.9ms | ActiveRecord: 0.2ms)


Started POST "/braintree/checkout" for 127.0.0.1 at 2017-10-17 21:57:47 +0800
Processing by BraintreeController#checkout as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hR8B7IREw63rcPtnQCQBBCHXucpzMDf402W6x3fIovTPit6H7EteZqtqQi41EqWwDr+XoNa1nmH4++MSbYl/FQ==", "checkout_form"=>{"payment_method_nonce"=>"bd6567d1-23df-0456-2c0d-fbd9727cdf0e"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 1468ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 21:57:49 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 75ms (Views: 71.3ms | ActiveRecord: 0.2ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 21:57:52 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (31.6ms)
Completed 200 OK in 122ms (Views: 113.7ms | ActiveRecord: 2.3ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 21:57:55 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 77ms (Views: 71.2ms | ActiveRecord: 0.9ms)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 21:58:28 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 1206ms (Views: 113.9ms | ActiveRecord: 4.6ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 21:58:33 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 1158ms (Views: 69.2ms | ActiveRecord: 0.3ms)


Started POST "/braintree/checkout" for 127.0.0.1 at 2017-10-17 21:58:46 +0800
Processing by BraintreeController#checkout as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+g6Np/YuywaEW5+BkYAnwSMdNHqtmWoCpuqPkXPOdiOwm1LMniFWzcRBJsjktoN1DHUaEAgcw5uNdNZEaY+rwg==", "checkout_form"=>{"payment_method_nonce"=>"8d06fcec-2330-0fff-7e21-6ad2fa6286f3"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 47825ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 21:59:34 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 83ms (Views: 79.5ms | ActiveRecord: 0.2ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 21:59:37 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (15.9ms)
Completed 200 OK in 139ms (Views: 83.5ms | ActiveRecord: 5.1ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 22:00:21 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (16.3ms)
Completed 200 OK in 131ms (Views: 91.3ms | ActiveRecord: 1.0ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-17 22:00:28 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"nEbwb7/LsEGnsG1dtjJnbzZtNs5eyl+cJe+/v7XkCnjW0y8E18Qtiueq1BTDBMPbGQUYpPtP9gUOceZqr6XXmQ=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:00:28 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 72ms (Views: 68.0ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-17 22:00:30 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 129ms (Views: 122.7ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-17 22:00:54 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NH/S39Dw5UlV5rjFoOErhAuEa7lJy6Y28vVRfGisy2pp79b5sKRwoMAGxZdIzj4DpEiP8DOVIhKCubmH59NDMA==", "user"=>{"email"=>"qiannyqian@email.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "qiannyqian@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/photos
Completed 302 Found in 109ms (ActiveRecord: 0.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:00:54 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (11.8ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 88ms (Views: 84.2ms | ActiveRecord: 1.4ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 22:00:59 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (7.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (9.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (22.9ms)
Completed 200 OK in 104ms (Views: 82.0ms | ActiveRecord: 17.2ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-17 22:01:02 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZdaRTV1pwgZzactIJ6mGeP8OIE074py2d25NZeNSXz8vQ04mNWZfzTNzcgFSnyLM0GYOJ55nNS9c8BSw+ROC3g=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:01:03 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 77ms (Views: 74.4ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/sessions/new" for 127.0.0.1 at 2017-10-17 22:01:12 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 118ms (Views: 115.2ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-17 22:01:19 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4+RrHgIpskZ4ZjaPjhnxzAYnMlYl3XGG6Mbq7WqlhrS+dG84Yn0nr+2GS91mNuRLqevWH1+D9aKYigIW5doO7g==", "user"=>{"email"=>"granger@hogwarts.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "granger@hogwarts.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/photos
Completed 302 Found in 97ms (ActiveRecord: 0.8ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:01:19 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (13.9ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 83ms (Views: 77.9ms | ActiveRecord: 1.4ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 22:01:22 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (37.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (43.1ms)
Completed 200 OK in 145ms (Views: 99.6ms | ActiveRecord: 38.4ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 22:01:35 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (5.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 90ms (Views: 82.7ms | ActiveRecord: 1.2ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 22:02:09 +0800
  [1m[35m (7.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (25.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 812ms (Views: 714.6ms | ActiveRecord: 10.7ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 22:03:07 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (5.1ms)
Completed 200 OK in 145ms (Views: 102.3ms | ActiveRecord: 10.2ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 22:03:48 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 77ms (Views: 70.4ms | ActiveRecord: 1.2ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 22:03:52 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 89ms (Views: 79.5ms | ActiveRecord: 1.4ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 22:04:05 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 127ms (Views: 118.2ms | ActiveRecord: 2.6ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 22:04:09 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 101ms (Views: 90.0ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:05:12 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (20.9ms)
Completed 200 OK in 89ms (Views: 85.7ms | ActiveRecord: 0.3ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 22:05:24 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (14.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1552ms (Views: 118.5ms | ActiveRecord: 0.4ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 22:05:29 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 2746ms (Views: 82.4ms | ActiveRecord: 0.4ms)


Started POST "/braintree/checkout" for 127.0.0.1 at 2017-10-17 22:05:46 +0800
Processing by BraintreeController#checkout as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Z9tm4La8A3rqXy41F3ylpQcYist3CRXWC7l63NzoTg8tTrmL3rOesapFl3xiSgERKHCkodKMvE8gJyMJxqmT7g==", "checkout_form"=>{"payment_method_nonce"=>"d11c8b3e-00fd-04a2-298d-cd1d7d97a9f5"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1697ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `save' for nil:NilClass):
  
app/controllers/braintree_controller.rb:20:in `checkout'
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:05:53 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:05:53 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:05:58 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:06:02 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:06:02 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:06:05 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:06:08 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:06:09 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:06:17 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:06:18 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:06:22 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:06:28 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:06:33 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:06:36 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:06:36 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:07:56 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:07:56 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:08:08 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:08:09 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:09:42 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:09:42 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:09:43 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:09:45 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:09:46 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:09:47 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:09:52 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:09:52 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:10:04 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:10:10 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:10:11 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:10:15 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:10:16 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:10:18 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:10:21 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:10:22 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:10:26 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:10:30 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:10:32 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:10:33 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:12:40 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:12:45 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:12:56 +0800
Started PUT "/__web_console/repl_sessions/bd73896b8582abbcc9443416ea6e216a" for 127.0.0.1 at 2017-10-17 22:12:58 +0800
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "boost" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["boost", "t"], ["updated_at", "2017-10-17 14:12:58.426789"], ["id", 4]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/braintree/checkout" for 127.0.0.1 at 2017-10-17 22:13:26 +0800
  
ActionController::RoutingError (No route matches [GET] "/braintree/checkout"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-17 22:13:32 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (23.5ms)
Completed 200 OK in 126ms (Views: 123.0ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-17 22:13:35 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"M26dRdJ20e35EzmLpj5tets0YpkID5nwxRHjfzmH8/x5+0IuunlMJrkJgMLTCMnO9FxM862KMGnuj7qqI8YuHQ=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:13:35 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 80ms (Views: 77.0ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:13:38 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (37.4ms)
Completed 200 OK in 135ms (Views: 130.5ms | ActiveRecord: 1.4ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 22:13:46 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 112ms (Views: 101.2ms | ActiveRecord: 0.8ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 22:14:36 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (4.4ms)
Completed 200 OK in 96ms (Views: 90.7ms | ActiveRecord: 0.7ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-17 22:14:40 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
Completed 200 OK in 121ms (Views: 117.0ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-17 22:14:46 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tNMiFeQkqwunmm63OQSjCjWvJ5TLOHPIsCLGTtpy+X7pQyYzhHA+4jJ6E+XRK7aNmmPD3bFm9+zAbi61VQ1xJA==", "user"=>{"email"=>"granger@hogwarts.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "granger@hogwarts.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/photos
Completed 302 Found in 100ms (ActiveRecord: 1.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:14:47 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (14.2ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 94ms (Views: 88.1ms | ActiveRecord: 1.7ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 22:14:48 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (30.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (34.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 176ms (Views: 134.2ms | ActiveRecord: 31.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:14:50 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 87ms (Views: 82.2ms | ActiveRecord: 0.6ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 22:14:53 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1362ms (Views: 75.2ms | ActiveRecord: 0.2ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 22:14:55 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 1516ms (Views: 86.6ms | ActiveRecord: 0.2ms)


Started POST "/braintree/checkout" for 127.0.0.1 at 2017-10-17 22:15:09 +0800
Processing by BraintreeController#checkout as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZFrEITU15MRS2Avf1MUOo5v3ROXCzAjtzalAc5gxDIIuzxtKXTp5DxLCspah86oXtJ9qj2dJoXTmNxmmgnDRYw==", "checkout_form"=>{"payment_method_nonce"=>"a29cd923-12a1-0432-5c47-86f8b85cc146"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 1615ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:15:11 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 69ms (Views: 66.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users/4" for 127.0.0.1 at 2017-10-17 22:15:22 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (19.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (23.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 80.5ms | ActiveRecord: 20.0ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 22:16:16 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 93ms (Views: 87.0ms | ActiveRecord: 1.1ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 22:16:23 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 85ms (Views: 79.1ms | ActiveRecord: 1.1ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 22:16:27 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 93ms (Views: 86.0ms | ActiveRecord: 1.2ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 22:16:31 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (2.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 87ms (Views: 78.2ms | ActiveRecord: 1.4ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 22:19:42 +0800
  [1m[35m (7.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (21.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 5039ms (Views: 4943.8ms | ActiveRecord: 9.5ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 22:19:53 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (3.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 85ms (Views: 75.2ms | ActiveRecord: 1.6ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 22:19:56 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (2.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 83ms (Views: 72.3ms | ActiveRecord: 1.4ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 22:20:00 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (3.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 92ms (Views: 85.8ms | ActiveRecord: 1.6ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 22:20:05 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (3.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 89ms (Views: 80.9ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:20:45 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 117ms (Views: 113.7ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:20:56 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 95ms (Views: 91.9ms | ActiveRecord: 0.5ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 22:21:50 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 86ms (Views: 78.2ms | ActiveRecord: 1.2ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-17 22:21:55 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (1.1ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 79ms (Views: 73.3ms | ActiveRecord: 1.7ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 22:22:01 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 88ms (Views: 80.3ms | ActiveRecord: 1.1ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 22:22:04 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (3.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 88ms (Views: 80.0ms | ActiveRecord: 1.1ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:22:38 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (13.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 83ms (Views: 79.4ms | ActiveRecord: 1.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:24:03 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (15.7ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `username' for nil:NilClass):
     5:     <%= image_tag photo.photo_url %>
     6:     <div class="photo-text">
     7:       <%= link_to "#{photo.caption}", photo_path(photo.id), class: 'caption' %>
     8:       <p>Posted by: <%= photo.user.username %> <%= @user.username%></p>
     9:     </div>
    10:   <% end %>
    11: </div>
  
app/views/photos/index.html.erb:8:in `block in _app_views_photos_index_html_erb___1453200142470153703_70207919017600'
app/views/photos/index.html.erb:4:in `_app_views_photos_index_html_erb___1453200142470153703_70207919017600'
Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:24:14 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (16.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 97.2ms | ActiveRecord: 1.7ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-17 22:24:17 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered photos/show.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 129.3ms | ActiveRecord: 0.8ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:24:20 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (12.0ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 103ms (Views: 98.6ms | ActiveRecord: 1.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:25:15 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (14.8ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 100ms (Views: 95.2ms | ActiveRecord: 1.5ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-17 22:25:26 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (25.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (28.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 88.8ms | ActiveRecord: 26.2ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 22:25:30 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (10.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (14.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 109ms (Views: 86.3ms | ActiveRecord: 16.4ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:25:38 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (20.2ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 112ms (Views: 106.0ms | ActiveRecord: 1.9ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:26:23 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (14.3ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 3217ms (Views: 3212.7ms | ActiveRecord: 1.7ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:26:58 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (18.7ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 3609ms (Views: 3604.3ms | ActiveRecord: 1.9ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:27:30 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (12.7ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 92ms (Views: 87.4ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:27:48 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 82ms (Views: 77.4ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:40:28 +0800
  [1m[35m (6.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 1141ms (Views: 1126.1ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 22:40:33 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-17 22:40:34 +0800
Started GET "/auth/facebook/callback?code=AQCq08OMhcQ_QVME1NmHOtEkGDIycOMm-GmNDZXc6UN0gLb4pR5kLpVcNi1g3UZHG05icEpR5vnVlq3N3QpHZflE9gWmIpAwsrwOtK8b5XR6PgcgYRfAhaRLCULSHo9B3YN8PzGKzTRr-DY_wdZL_b9PQoDGHedb3uEaTBCN58eHzEp3oqif65dd3NV5I64b6hbft-CYK-5joNvf8Yz51mQev0HMilf7hAFeMyWv5RTBQkvWbwLwgaOLCrDfDU90AMIDoS9DlgExe11WwY4Nw4jfozjP_LDYh0YT_4gYELPgY62HBsCUs9LNo3w41j_9A1ON627g1ownOckOwlAh_PRZ&state=8a53c15ce05c866c6426d404b70dddaa5ef0dde39aff3fb0" for 127.0.0.1 at 2017-10-17 22:40:34 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQCq08OMhcQ_QVME1NmHOtEkGDIycOMm-GmNDZXc6UN0gLb4pR5kLpVcNi1g3UZHG05icEpR5vnVlq3N3QpHZflE9gWmIpAwsrwOtK8b5XR6PgcgYRfAhaRLCULSHo9B3YN8PzGKzTRr-DY_wdZL_b9PQoDGHedb3uEaTBCN58eHzEp3oqif65dd3NV5I64b6hbft-CYK-5joNvf8Yz51mQev0HMilf7hAFeMyWv5RTBQkvWbwLwgaOLCrDfDU90AMIDoS9DlgExe11WwY4Nw4jfozjP_LDYh0YT_4gYELPgY62HBsCUs9LNo3w41j_9A1ON627g1ownOckOwlAh_PRZ", "state"=>"8a53c15ce05c866c6426d404b70dddaa5ef0dde39aff3fb0", "provider"=>"facebook"}
  [1m[36mAuthentication Load (7.3ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAEAivwOP4RZAOqOmdB8qofgZA61R2qZBOBBuUuHLZC3aI0E6J0ldlePcqRIVsBVynGgEfGDV4JEFzzXcoI0sLhA6ZCZB7eYTtmEDQd5wiXeHRh1w7vf4DTtZCdwXw0MMDyZBLehZAHR3ZAzyisUEDtZCz8NH6n9jvPifgZDZD"], ["updated_at", "2017-10-17 14:40:35.214461"], ["id", 1]]
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 113ms (ActiveRecord: 31.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-17 22:40:35 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (43.3ms)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 113.2ms | ActiveRecord: 5.8ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 22:40:37 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 79.2ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:40:40 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 98ms (Views: 91.3ms | ActiveRecord: 2.3ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 22:40:42 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (11.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 1389ms (Views: 95.7ms | ActiveRecord: 0.2ms)


Started GET "/braintree/new" for 127.0.0.1 at 2017-10-17 22:40:45 +0800
Processing by BraintreeController#new as HTML
  Rendering braintree/new.html.erb within layouts/application
  Rendered braintree/new.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 1066ms (Views: 83.5ms | ActiveRecord: 0.4ms)


Started POST "/braintree/checkout" for 127.0.0.1 at 2017-10-17 22:41:00 +0800
Processing by BraintreeController#checkout as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GPTOb98Aa81Sn/vtO6nd/tLvYvGrdtHXq1+LcanihHhSYREEtw/2BhKFQqROn3lK/YdMmw7zeE6AwdKks6NZmQ==", "checkout_form"=>{"payment_method_nonce"=>"33fda7e5-ed24-046f-7a80-33c04a23e34a"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "boost" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["boost", "t"], ["updated_at", "2017-10-17 14:41:01.508450"], ["id", 3]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 1449ms (ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:41:01 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 79ms (Views: 76.0ms | ActiveRecord: 0.4ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 22:41:04 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 120ms (Views: 110.8ms | ActiveRecord: 0.9ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-17 22:41:07 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZuDEaq39tXRK/rVXVtejxGlw2exohBklKx7VkDZF9fUsdRsBxfIovwrkDB4j4QdwRhj3hs0BsLwAgIxFLAQoFA=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-17 22:41:07 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 83ms (Views: 80.7ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-10-17 22:41:13 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (13.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (18.5ms)
  Rendered users/index.html.erb within layouts/application (26.2ms)
Completed 200 OK in 122ms (Views: 101.0ms | ActiveRecord: 14.5ms)


Started GET "/users?utf8=%E2%9C%93&search=hui+qian&commit=Search" for 127.0.0.1 at 2017-10-17 22:41:19 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"hui qian", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%hui qian%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hui qian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hui qian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%hui qian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%hui qian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (7.1ms)
  Rendered users/index.html.erb within layouts/application (20.0ms)
Completed 200 OK in 141ms (Views: 127.8ms | ActiveRecord: 8.2ms)


Started GET "/users/3" for 127.0.0.1 at 2017-10-17 22:41:21 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (29.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 3]]
  Rendered users/show.html.erb within layouts/application (33.8ms)
Completed 200 OK in 177ms (Views: 126.7ms | ActiveRecord: 30.1ms)


Started GET "/users?utf8=%E2%9C%93&search=potter&commit=Search" for 127.0.0.1 at 2017-10-17 22:41:26 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"potter", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%potter%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%potter%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%potter%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%potter%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%potter%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (3.9ms)
  Rendered users/index.html.erb within layouts/application (9.1ms)
Completed 200 OK in 97ms (Views: 91.4ms | ActiveRecord: 1.4ms)


Started GET "/users/2" for 127.0.0.1 at 2017-10-17 22:41:27 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (26.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (30.9ms)
Completed 200 OK in 137ms (Views: 101.4ms | ActiveRecord: 26.7ms)


  [1m[36mPhoto Load (1.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (8.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (7.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (6.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeColumnName (20171018041018)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "likes" RENAME COLUMN "users_id" TO "user_id"[0m
  [1m[35m (19.2ms)[0m  [1m[35mALTER INDEX "index_likes_on_users_id" RENAME TO "index_likes_on_user_id"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "likes" RENAME COLUMN "photos_id" TO "photo_id"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER INDEX "index_likes_on_photos_id" RENAME TO "index_likes_on_photo_id"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171018041018"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2914570794579847725)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeColumnNameOnComments (20171018041232)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "comments" RENAME COLUMN "users_id" TO "user_id"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER INDEX "index_comments_on_users_id" RENAME TO "index_comments_on_user_id"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "comments" RENAME COLUMN "photos_id" TO "photo_id"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER INDEX "index_comments_on_photos_id" RENAME TO "index_comments_on_photo_id"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171018041232"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2914570794579847725)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" ORDER BY "photos"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (15.2ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 1], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (4.0ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["photo_id", 1], ["created_at", "2017-10-18 04:14:04.514593"], ["updated_at", "2017-10-18 04:14:04.514593"]]
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 LIMIT $2[0m  [["photo_id", 1], ["LIMIT", 11]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
Started GET "/" for 127.0.0.1 at 2017-10-18 12:22:43 +0800
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (10.7ms)
Completed 200 OK in 691ms (Views: 679.9ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 12:22:46 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.9ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (126.6ms)
Completed 200 OK in 220ms (Views: 193.9ms | ActiveRecord: 22.9ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 12:22:49 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (32.2ms)
Completed 200 OK in 130ms (Views: 111.3ms | ActiveRecord: 6.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 12:22:53 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (16.7ms)
Completed 200 OK in 109ms (Views: 96.7ms | ActiveRecord: 1.9ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 12:23:15 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (32.0ms)
Completed 200 OK in 106ms (Views: 96.4ms | ActiveRecord: 6.2ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 12:28:00 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (17.1ms)
Completed 500 Internal Server Error in 53ms (ActiveRecord: 8.8ms)


  
ActionView::Template::Error (No route matches {:action=>"index", :controller=>"likes", :id=>"1"}, missing required keys: [:photo_id]):
    10:           <p><%= @photo.likes.count%> likes</p>
    11: 
    12:           <!-- Liking a photo -->
    13:           <%= form_for(:likes, url: photo_likes_path, method: :post) do |f| %>
    14:             <div class="form-group">
    15:               <%= f.hidden_field :user_id, value: current_user.id %>
    16:             </div>
  
app/views/photos/show.html.erb:13:in `_app_views_photos_show_html_erb__3903431296470908677_70212770238100'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 12:29:27 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (9.5ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (No route matches {:action=>"index", :controller=>"likes", :id=>"1"}, missing required keys: [:photo_id]):
    10:           <p><%= @photo.likes.count%> likes</p>
    11: 
    12:           <!-- Liking a photo -->
    13:           <%= form_for(:likes, url: photo_likes_path, method: :post) do |f| %>
    14:             <div class="form-group">
    15:               <%= f.hidden_field :user_id, value: current_user.id %>
    16:               <%= f.hidden_field :photo_id, value: photo_id %>
  
app/views/photos/show.html.erb:13:in `_app_views_photos_show_html_erb__3903431296470908677_70212800743500'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 12:32:14 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_create.html.erb (3.3ms)
  Rendered photos/show.html.erb within layouts/application (10.8ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (No route matches {:action=>"index", :controller=>"likes", :id=>"1"}, missing required keys: [:photo_id]):
    1: <!-- Liking a photo -->
    2: <%= form_for(:likes, url: photo_likes_path, method: :post) do |f| %>
    3:   <div class="form-group">
    4:     <%= f.hidden_field :user_id, value: current_user.id %>
    5:     <%= f.hidden_field :photo_id, value: photo_id %>
  
app/views/likes/_create.html.erb:2:in `_app_views_likes__create_html_erb___3035829861763598640_70212807218780'
app/views/photos/show.html.erb:11:in `_app_views_photos_show_html_erb__3903431296470908677_70212807263620'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 12:32:58 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_create.html.erb (8.6ms)
  Rendered photos/show.html.erb within layouts/application (18.9ms)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"likes", :id=>"1"}, missing required keys: [:photo_id]):
    1: <!-- Liking a photo -->
    2: <%= form_for(:likes, url: photo_like_path, method: :put) do |f| %>
    3:   <div class="form-group">
    4:     <%= f.hidden_field :user_id, value: current_user.id %>
    5:     <%= f.hidden_field :photo_id, value: photo_id %>
  
app/views/likes/_create.html.erb:2:in `_app_views_likes__create_html_erb___3035829861763598640_70212768819400'
app/views/photos/show.html.erb:11:in `_app_views_photos_show_html_erb__3903431296470908677_70212773859660'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 12:34:23 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_create.html.erb (369.8ms)
  Rendered photos/show.html.erb within layouts/application (374.5ms)
Completed 500 Internal Server Error in 386ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (undefined local variable or method `photos_like_path' for #<#<Class:0x007fb75e751490>:0x007fb758261670>
Did you mean?  photo_like_path
               photo_likes_path):
    1: <!-- Liking a photo -->
    2: <%= form_for(:likes, url: photos_like_path, method: :post) do |f| %>
    3:   <div class="form-group">
    4:     <%= f.hidden_field :user_id, value: @photo.user_id %>
    5:     <%= f.hidden_field :photo_id, value: photo_id %>
  
app/views/likes/_create.html.erb:2:in `_app_views_likes__create_html_erb___3035829861763598640_70212727308000'
app/views/photos/show.html.erb:11:in `_app_views_photos_show_html_erb__3903431296470908677_70212717336040'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 12:34:36 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_create.html.erb (15.1ms)
  Rendered photos/show.html.erb within layouts/application (22.8ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (No route matches {:action=>"index", :controller=>"likes", :id=>"1"}, missing required keys: [:photo_id]):
    1: <!-- Liking a photo -->
    2: <%= form_for(:likes, url: photo_likes_path, method: :post) do |f| %>
    3:   <div class="form-group">
    4:     <%= f.hidden_field :user_id, value: @photo.user_id %>
    5:     <%= f.hidden_field :photo_id, value: photo_id %>
  
app/views/likes/_create.html.erb:2:in `_app_views_likes__create_html_erb___3035829861763598640_70212751606400'
app/views/photos/show.html.erb:11:in `_app_views_photos_show_html_erb__3903431296470908677_70212756059440'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 12:45:08 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_create.html.erb (0.4ms)
  Rendered photos/show.html.erb within layouts/application (6.0ms)
Completed 200 OK in 115ms (Views: 109.6ms | ActiveRecord: 1.0ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 12:45:21 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_create.html.erb (0.6ms)
  Rendered photos/show.html.erb within layouts/application (7.3ms)
Completed 200 OK in 104ms (Views: 98.1ms | ActiveRecord: 0.9ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 12:45:29 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_create.html.erb (0.8ms)
  Rendered photos/show.html.erb within layouts/application (8.8ms)
Completed 200 OK in 114ms (Views: 109.1ms | ActiveRecord: 1.1ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 12:45:42 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (5.5ms)
Completed 200 OK in 91ms (Views: 86.7ms | ActiveRecord: 0.8ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:36:07 +0800
  [1m[35m (7.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.3ms)
  Rendered photos/show.html.erb within layouts/application (437.6ms)
Completed 500 Internal Server Error in 511ms (ActiveRecord: 5.8ms)


  
ActionView::Template::Error (undefined local variable or method `photo' for #<#<Class:0x007f850af9c900>:0x007f850b8e3bf8>
Did you mean?  @photo):
     8: 
     9:         <div class="caption-container">
    10:           <%= render partial: 'likes/create' %>
    11:           <%= render partial: 'likes/button', locals: { photos: photo } %>
    12: 
    13:           <p><%= @photo.likes.count%> likes</p>
    14:           <h4><%= @photo.caption %></h4>
  
app/views/photos/show.html.erb:11:in `_app_views_photos_show_html_erb___3273652260690186649_70104695763120'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:36:24 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (2.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.6ms)
  Rendered likes/_button.html.erb (422.7ms)
  Rendered photos/show.html.erb within layouts/application (433.8ms)
Completed 500 Internal Server Error in 502ms (ActiveRecord: 18.7ms)


  
ActionView::Template::Error (undefined local variable or method `photo' for #<#<Class:0x007f850af9c900>:0x007f85103c3510>
Did you mean?  photos
               @photo):
    1: <% if current_user.like?(photo) %>
    2:   <%= button_to "Unlike", unlike_path(photo_id: photo.id), remote: true, method: :delete  %>
    3: <% else %>
    4:   <%= button_to "Like", like_path(photo_id: photo.id), remote: true  %>
  
app/views/likes/_button.html.erb:1:in `_app_views_likes__button_html_erb__1186145603867964277_70104744826580'
app/views/photos/show.html.erb:11:in `_app_views_photos_show_html_erb___3273652260690186649_70104739890300'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:36:41 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.3ms)
  Rendered likes/_button.html.erb (5.9ms)
  Rendered photos/show.html.erb within layouts/application (13.1ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined method `like?' for nil:NilClass):
    1: <% if current_user.like?(@photo) %>
    2:   <%= button_to "Unlike", unlike_path(photo_id: photo.id), remote: true, method: :delete  %>
    3: <% else %>
    4:   <%= button_to "Like", like_path(photo_id: photo.id), remote: true  %>
  
app/views/likes/_button.html.erb:1:in `_app_views_likes__button_html_erb__1186145603867964277_70104699896780'
app/views/photos/show.html.erb:11:in `_app_views_photos_show_html_erb___3273652260690186649_70104699894000'
Started PUT "/__web_console/repl_sessions/204ba74e29c053ce30aec1426d1ffaca" for 127.0.0.1 at 2017-10-18 13:36:50 +0800
Started PUT "/__web_console/repl_sessions/204ba74e29c053ce30aec1426d1ffaca" for 127.0.0.1 at 2017-10-18 13:36:50 +0800
Started PUT "/__web_console/repl_sessions/204ba74e29c053ce30aec1426d1ffaca" for 127.0.0.1 at 2017-10-18 13:36:53 +0800
Started PUT "/__web_console/repl_sessions/204ba74e29c053ce30aec1426d1ffaca" for 127.0.0.1 at 2017-10-18 13:36:58 +0800
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:37:47 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.4ms)
  Rendered likes/_button.html.erb (5.3ms)
  Rendered photos/show.html.erb within layouts/application (14.0ms)
Completed 500 Internal Server Error in 53ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `like?' for nil:NilClass):
    1: <% if current_user.like?(@photo) %>
    2:   <%= button_to "Unlike", unlike_path(photo_id: photo.id), remote: true, method: :delete  %>
    3: <% else %>
    4:   <%= button_to "Like", like_path(photo_id: photo.id), remote: true  %>
  
app/views/likes/_button.html.erb:1:in `_app_views_likes__button_html_erb__1186145603867964277_70104742722060'
app/views/photos/show.html.erb:11:in `_app_views_photos_show_html_erb___3273652260690186649_70104738724900'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:38:07 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  Rendered likes/_button.html.erb (396.8ms)
  Rendered photos/show.html.erb within layouts/application (405.5ms)
Completed 500 Internal Server Error in 420ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined local variable or method `photo' for #<#<Class:0x007f851018eec0>:0x007f850b3dc268>
Did you mean?  photos
               @photo):
    1: <% if current_user.like?(photo) %>
    2:   <%= button_to "Unlike", unlike_path(photo_id: photo.id), remote: true, method: :delete  %>
    3: <% else %>
    4:   <%= button_to "Like", like_path(photo_id: photo.id), remote: true  %>
  
app/views/likes/_button.html.erb:1:in `_app_views_likes__button_html_erb__1186145603867964277_70104693928440'
app/views/photos/show.html.erb:11:in `_app_views_photos_show_html_erb___3273652260690186649_70104697992620'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:38:26 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.4ms)
  Rendered likes/_button.html.erb (5.8ms)
  Rendered photos/show.html.erb within layouts/application (12.4ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `like?' for nil:NilClass):
    1: <% if current_user.like?(@photo) %>
    2:   <%= button_to "Unlike", unlike_path(photo_id: photo.id), remote: true, method: :delete  %>
    3: <% else %>
    4:   <%= button_to "Like", like_path(photo_id: photo.id), remote: true  %>
  
app/views/likes/_button.html.erb:1:in `_app_views_likes__button_html_erb__1186145603867964277_70104695005520'
app/views/photos/show.html.erb:11:in `_app_views_photos_show_html_erb___3273652260690186649_70104695138060'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:39:43 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.4ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (33.7ms)
Completed 200 OK in 4469ms (Views: 4445.1ms | ActiveRecord: 1.3ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:42:47 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (10.2ms)
Completed 200 OK in 110ms (Views: 102.5ms | ActiveRecord: 2.5ms)


Started PUT "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 13:42:51 +0800
  
AbstractController::ActionNotFound (The action 'update' could not be found for LikesController):
  
actionpack (5.1.4) lib/abstract_controller/base.rb:119:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:43:39 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (16.2ms)
Completed 200 OK in 145ms (Views: 109.9ms | ActiveRecord: 7.0ms)


Started PUT "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 13:43:42 +0800
Processing by LikesController#update as HTML
  Parameters: {"authenticity_token"=>"Ar9sLwKJ23L0Ndi2nBOaaFDFxIiAjJ/LuqYqN/dbol1IKrNEaoZGubQvYf/pJT7cf63q4iUJNlKROHPi7Rp/vA==", "photo_id"=>"1", "id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."photo_id" = $1 LIMIT $2[0m  [["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 51ms (ActiveRecord: 6.0ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/models/photo.rb:14:in `unlike'
app/controllers/likes_controller.rb:19:in `update'
Started PUT "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 13:43:55 +0800
Processing by LikesController#update as HTML
  Parameters: {"authenticity_token"=>"Ar9sLwKJ23L0Ndi2nBOaaFDFxIiAjJ/LuqYqN/dbol1IKrNEaoZGubQvYf/pJT7cf63q4iUJNlKROHPi7Rp/vA==", "photo_id"=>"1", "id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."photo_id" = $1 LIMIT $2[0m  [["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#update, rendering head :no_content
Completed 204 No Content in 157ms (ActiveRecord: 11.9ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:44:01 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (8.4ms)
Completed 200 OK in 122ms (Views: 116.0ms | ActiveRecord: 1.7ms)


Started PUT "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 13:44:05 +0800
Processing by LikesController#update as HTML
  Parameters: {"authenticity_token"=>"Sm3Dyc4p+pOGbuYVPUyKYKvY8ujmfjhCjkvAfTtnZrUA+ByipiZnWMZ0X1xIei7UhLDcgkP7kdul1ZmoISa7VA==", "photo_id"=>"1", "id"=>"1"}
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."photo_id" = $1 LIMIT $2[0m  [["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#update, rendering head :no_content
Completed 204 No Content in 95ms (ActiveRecord: 1.4ms)


Started PUT "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 13:44:09 +0800
Processing by LikesController#update as HTML
  Parameters: {"authenticity_token"=>"Sm3Dyc4p+pOGbuYVPUyKYKvY8ujmfjhCjkvAfTtnZrUA+ByipiZnWMZ0X1xIei7UhLDcgkP7kdul1ZmoISa7VA==", "photo_id"=>"1", "id"=>"1"}
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."photo_id" = $1 LIMIT $2[0m  [["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#update, rendering head :no_content
Completed 204 No Content in 99ms (ActiveRecord: 1.4ms)


Started PUT "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 13:44:10 +0800
Processing by LikesController#update as HTML
  Parameters: {"authenticity_token"=>"Sm3Dyc4p+pOGbuYVPUyKYKvY8ujmfjhCjkvAfTtnZrUA+ByipiZnWMZ0X1xIei7UhLDcgkP7kdul1ZmoISa7VA==", "photo_id"=>"1", "id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."photo_id" = $1 LIMIT $2[0m  [["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#update, rendering head :no_content
Completed 204 No Content in 102ms (ActiveRecord: 1.4ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:44:54 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (11.2ms)
Completed 200 OK in 142ms (Views: 118.0ms | ActiveRecord: 0.7ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 13:44:58 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"NCfgiSJL9nPoVLN/X29SD/5LGguuqSk5wDgK2abGJSF+sj/iSkRruKhOCjYqWfa70SM0YQssgKDrplMMvIf4wA==", "photo_id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `like' for nil:NilClass):
  
app/controllers/likes_controller.rb:5:in `create'
Started GET "/photos" for 127.0.0.1 at 2017-10-18 13:45:47 +0800
Processing by PhotosController#index as HTML
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (88.6ms)
Completed 200 OK in 197ms (Views: 179.9ms | ActiveRecord: 12.9ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:45:50 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (5.6ms)
  [1m[35m (12.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (30.6ms)
Completed 200 OK in 130ms (Views: 112.1ms | ActiveRecord: 13.1ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 13:45:52 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"bcJ8dd84n/N68hMnTAlcGw8jOAzwezsdEkp9blzR4MsnV6MetzcCODroqm45P/ivIEsWZlX+koQ51CS7RpA9Kg==", "photo_id"=>"1"}
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `like' for nil:NilClass):
  
app/controllers/likes_controller.rb:6:in `create'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:47:30 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (10.3ms)
Completed 200 OK in 128ms (Views: 104.3ms | ActiveRecord: 0.8ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 13:47:33 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"KsIWFiWI5kdEJ9YWrBXA6kbeH2CJhTsevtXXwhlQoaVgV8l9TYd7jAQ9b1/ZI2ReabYxCiwAkoeVS44XAxF8RA==", "photo_id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `like' for nil:NilClass):
  
app/controllers/likes_controller.rb:5:in `create'
Started PUT "/__web_console/repl_sessions/830651043adc971cb9550e034c6f0fc7" for 127.0.0.1 at 2017-10-18 13:48:21 +0800
Started PUT "/__web_console/repl_sessions/830651043adc971cb9550e034c6f0fc7" for 127.0.0.1 at 2017-10-18 13:48:22 +0800
Started PUT "/__web_console/repl_sessions/830651043adc971cb9550e034c6f0fc7" for 127.0.0.1 at 2017-10-18 13:48:30 +0800
Started PUT "/__web_console/repl_sessions/830651043adc971cb9550e034c6f0fc7" for 127.0.0.1 at 2017-10-18 13:48:34 +0800
Started PUT "/__web_console/repl_sessions/830651043adc971cb9550e034c6f0fc7" for 127.0.0.1 at 2017-10-18 13:48:41 +0800
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/830651043adc971cb9550e034c6f0fc7" for 127.0.0.1 at 2017-10-18 13:48:54 +0800
Started PUT "/__web_console/repl_sessions/830651043adc971cb9550e034c6f0fc7" for 127.0.0.1 at 2017-10-18 13:49:00 +0800
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started PUT "/__web_console/repl_sessions/830651043adc971cb9550e034c6f0fc7" for 127.0.0.1 at 2017-10-18 13:49:21 +0800
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:50:20 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (14.3ms)
Completed 200 OK in 121ms (Views: 99.9ms | ActiveRecord: 0.8ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 13:50:32 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"+jcoI4tdLfsxmqbC5R9i+gy+6E9FcIoG1r4B4rzPMwmwovdI41KwMHGAH4uQKcZOI9bGJeD1I5/9IFg3po7u6A==", "photo_id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `like' for nil:NilClass):
  
app/controllers/likes_controller.rb:5:in `create'
Started PUT "/__web_console/repl_sessions/695d5fca01d31f29aef5f717989cae3b" for 127.0.0.1 at 2017-10-18 13:50:35 +0800
Started PUT "/__web_console/repl_sessions/695d5fca01d31f29aef5f717989cae3b" for 127.0.0.1 at 2017-10-18 13:50:38 +0800
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:51:58 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (16.6ms)
Completed 200 OK in 135ms (Views: 108.7ms | ActiveRecord: 5.8ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 13:52:02 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"4tpn3saPOmytTTmtopm5mxsJ+Q7OS2uipq8CweBEw5uoT7i1roCnp+1XgOTXrx0vNGHXZGvOwjuNMVsU+gUeeg==", "photo_id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."photo_id" = $1 LIMIT $2[0m  [["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#create, rendering head :no_content
Completed 204 No Content in 152ms (ActiveRecord: 3.5ms)


  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:53:18 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (14.4ms)
Completed 200 OK in 175ms (Views: 146.5ms | ActiveRecord: 6.0ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 13:53:21 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"/CGWyLgU6IHMvISOe3gwhMZ59sLBKfQwwyCqYYURf/q2tEmj0Bt1SoymPccOTpQw6RHYqGSsXanovvO0n1CiGw==", "photo_id"=>"1"}
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."photo_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."photo_id" = $1 LIMIT $2[0m  [["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#create, rendering head :no_content
Completed 204 No Content in 138ms (ActiveRecord: 2.0ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 13:55:05 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"/CGWyLgU6IHMvISOe3gwhMZ59sLBKfQwwyCqYYURf/q2tEmj0Bt1SoymPccOTpQw6RHYqGSsXanovvO0n1CiGw==", "photo_id"=>"1"}
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."photo_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" IS NULL AND "likes"."photo_id" = $1 LIMIT $2[0m  [["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#create, rendering head :no_content
Completed 204 No Content in 37643ms (ActiveRecord: 11.4ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 13:57:40 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 13:57:40 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 103ms (Views: 99.3ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 13:57:44 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 13:57:44 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 81ms (Views: 76.7ms | ActiveRecord: 0.0ms)


Started GET "/sessions/new" for 127.0.0.1 at 2017-10-18 13:57:48 +0800
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (26.0ms)
Completed 200 OK in 117ms (Views: 111.3ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2017-10-18 13:57:54 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ja0z2ZETQ6gPifDSQxw+9trvhuQhW7yb22siQwMeA+3QPTf/8UfWQZppjYCrMytxdSNirVsFOL+rJ8q4jGGLtw==", "user"=>{"email"=>"qiannyqian@email.com", "password"=>"[FILTERED]"}, "commit"=>"Log me in!"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "qiannyqian@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/photos
Completed 302 Found in 134ms (ActiveRecord: 3.9ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 13:57:54 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (59.7ms)
Completed 200 OK in 151ms (Views: 132.5ms | ActiveRecord: 13.6ms)


Started GET "/photos/4" for 127.0.0.1 at 2017-10-18 13:57:58 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.4ms)
  [1m[35m (16.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered photos/show.html.erb within layouts/application (26.8ms)
Completed 200 OK in 104ms (Views: 76.3ms | ActiveRecord: 17.7ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 13:58:01 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"AwTpf0sSe4Qh0bmeFNl3YqOQH4xp0vJ9oZgl/XhbPBFJkTYUIx3mT2HLANdh79PWjPgx5sxXW+SKBnwoYhrh8A==", "photo_id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 1], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["photo_id", 4], ["created_at", "2017-10-18 05:58:01.053835"], ["updated_at", "2017-10-18 05:58:01.053835"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#create, rendering head :no_content
Completed 204 No Content in 122ms (ActiveRecord: 6.4ms)


  [1m[36mLike Load (0.8ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos/4" for 127.0.0.1 at 2017-10-18 13:59:48 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered photos/show.html.erb within layouts/application (13.7ms)
Completed 200 OK in 149ms (Views: 98.7ms | ActiveRecord: 8.3ms)


Started GET "/photos/4" for 127.0.0.1 at 2017-10-18 13:59:55 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.1ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered photos/show.html.erb within layouts/application (8.2ms)
Completed 200 OK in 87ms (Views: 79.3ms | ActiveRecord: 1.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 14:00:00 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (22.8ms)
Completed 200 OK in 119ms (Views: 99.7ms | ActiveRecord: 4.5ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 14:00:01 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.2ms)
  [1m[35m (17.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (25.6ms)
Completed 200 OK in 115ms (Views: 91.8ms | ActiveRecord: 18.0ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 14:00:03 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"qv2Smg7t5LWTzFgqnq3XQdFbq1TMoyllZGJsK94MB+DgaE3xZuJ5ftPW4WPrm3P1/jOFPmkmgPxP/DX+xE3aAQ==", "photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 1], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["photo_id", 1], ["created_at", "2017-10-18 06:00:03.479090"], ["updated_at", "2017-10-18 06:00:03.479090"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 33ms (ActiveRecord: 6.3ms)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/photo.rb:11:in `like'
app/controllers/likes_controller.rb:5:in `create'
Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 14:00:12 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"qv2Smg7t5LWTzFgqnq3XQdFbq1TMoyllZGJsK94MB+DgaE3xZuJ5ftPW4WPrm3P1/jOFPmkmgPxP/DX+xE3aAQ==", "photo_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 1], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#create, rendering head :no_content
Completed 204 No Content in 175ms (ActiveRecord: 2.7ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 14:00:15 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.6ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (5.9ms)
Completed 200 OK in 95ms (Views: 89.3ms | ActiveRecord: 1.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 14:00:20 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (24.6ms)
Completed 200 OK in 111ms (Views: 93.1ms | ActiveRecord: 4.5ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-18 14:00:23 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered photos/show.html.erb within layouts/application (7.9ms)
Completed 200 OK in 92ms (Views: 84.4ms | ActiveRecord: 1.4ms)


Started POST "/photos/2/likes" for 127.0.0.1 at 2017-10-18 14:00:25 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"3KxGc0huQoHr+i0cN9kAVOJ7dY45c+XuR0qUHqOftEOWOZkYIGHfSqvglFVC76TgzRNb5Jz2THds1M3Lud5pog==", "photo_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 1], ["photo_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["photo_id", 2], ["created_at", "2017-10-18 06:00:25.240552"], ["updated_at", "2017-10-18 06:00:25.240552"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#create, rendering head :no_content
Completed 204 No Content in 103ms (ActiveRecord: 4.2ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-18 14:00:27 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.7ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered photos/show.html.erb within layouts/application (6.4ms)
Completed 200 OK in 80ms (Views: 73.1ms | ActiveRecord: 1.4ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-18 14:00:32 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"z6yBaHchuJLQULGlQGShaf0GYW+9iuEalc7EXOsZ5taFOV4DHy4lWZBKCOw1UgXd0m5PBRgPSIO+UJ2J8Vg7Nw=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 14:00:32 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 72ms (Views: 67.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-18 14:00:33 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-18 14:00:34 +0800
Started GET "/auth/facebook/callback?code=AQBlDpKm0QPsCP9C0ezpfzVTlY2I6-44xLcjqokUjJuLSk1Wo2TkZiX9sG2dRWQcDDNAmTFniLskoFPxGYKIEYsI8UU6X2B4O_URpRoCibIbABvBkrxIEaPKpfwMO2AL3NmZfBhXlKOe4I7DzCTbdBW7y_d9mKTECaB7Qjy_X7JD2x5Lpm864QVX9Fy4TXJbtPiPJ5lmX5MAr0Aca9GJDQFQuVHfs3qL2fh7SQmWnltcMWdfDxiQC1hWGFOPkaG83D-u84kVFLwwHsOWaUraNS50XARrkweCiCOcENi82LLNjbrSQIBCGPHjiB-8_up7eWuB2xaj2X6guvwy8FcrKpzk91a3fr3VFPduCb6z72XvYg&state=b461eeeeba5f391b0e78e3071e625189045fb7cee4c5e6e3" for 127.0.0.1 at 2017-10-18 14:00:34 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBlDpKm0QPsCP9C0ezpfzVTlY2I6-44xLcjqokUjJuLSk1Wo2TkZiX9sG2dRWQcDDNAmTFniLskoFPxGYKIEYsI8UU6X2B4O_URpRoCibIbABvBkrxIEaPKpfwMO2AL3NmZfBhXlKOe4I7DzCTbdBW7y_d9mKTECaB7Qjy_X7JD2x5Lpm864QVX9Fy4TXJbtPiPJ5lmX5MAr0Aca9GJDQFQuVHfs3qL2fh7SQmWnltcMWdfDxiQC1hWGFOPkaG83D-u84kVFLwwHsOWaUraNS50XARrkweCiCOcENi82LLNjbrSQIBCGPHjiB-8_up7eWuB2xaj2X6guvwy8FcrKpzk91a3fr3VFPduCb6z72XvYg", "state"=>"b461eeeeba5f391b0e78e3071e625189045fb7cee4c5e6e3", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.7ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAFBNBQ5Gtj5gMUmiIkBmLYKxZBMZAL5nYCAoBzRxDXLu5niIBQKpYhhaDfPmVxqQ2X1QdCZA65uvzIxQEqLxhDyVErxHrZBvrmqU2QcdI8rguqjcfVEfxZCp10c4i8pgE1xsUrPL4uD2KEZB8DrduBmRuYnxbL6wZDZD"], ["updated_at", "2017-10-18 06:00:34.874170"], ["id", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 29ms (ActiveRecord: 6.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 14:00:34 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (28.7ms)
Completed 200 OK in 130ms (Views: 120.3ms | ActiveRecord: 5.2ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-18 14:00:37 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered photos/show.html.erb within layouts/application (7.5ms)
Completed 200 OK in 114ms (Views: 103.3ms | ActiveRecord: 1.2ms)


Started POST "/photos/2/likes" for 127.0.0.1 at 2017-10-18 14:00:38 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"RX+w6mUHIiG9kO+jRZc2cZorWadlZVJZxS0HSB67p6sP6m+BDQi/6v2KVuowoZLFtUN3zcDg+8Dus16dBPp6Sg==", "photo_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 2], ["created_at", "2017-10-18 06:00:38.957174"], ["updated_at", "2017-10-18 06:00:38.957174"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#create, rendering head :no_content
Completed 204 No Content in 105ms (ActiveRecord: 4.0ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-18 14:00:40 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered photos/show.html.erb within layouts/application (5.3ms)
Completed 200 OK in 76ms (Views: 70.5ms | ActiveRecord: 1.1ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 14:00:43 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (22.6ms)
Completed 200 OK in 100ms (Views: 92.6ms | ActiveRecord: 4.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 14:01:36 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (28.8ms)
Completed 200 OK in 138ms (Views: 128.0ms | ActiveRecord: 5.9ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 14:01:38 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (2.6ms)
  [1m[35m (26.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (38.4ms)
Completed 200 OK in 152ms (Views: 118.2ms | ActiveRecord: 27.1ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 14:02:38 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered photos/show.html.erb within layouts/application (11.4ms)
Completed 200 OK in 154ms (Views: 111.8ms | ActiveRecord: 1.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 14:02:42 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (27.8ms)
Completed 200 OK in 111ms (Views: 97.4ms | ActiveRecord: 5.2ms)


Started GET "/photos/6" for 127.0.0.1 at 2017-10-18 14:02:44 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.2ms)
  [1m[35m (16.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  Rendered photos/show.html.erb within layouts/application (24.8ms)
Completed 200 OK in 118ms (Views: 95.3ms | ActiveRecord: 16.8ms)


Started POST "/photos/6/likes" for 127.0.0.1 at 2017-10-18 14:02:46 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"TLIkGFVuAHQZRsTMUMpXHPaIsP0kA3ixqREoKdU5fhoGJ/tzPWGdv1lcfYUl/POo2eCel4GG0SiCj3H8z3ij+w==", "photo_id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 6], ["created_at", "2017-10-18 06:02:46.430026"], ["updated_at", "2017-10-18 06:02:46.430026"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 31ms (ActiveRecord: 6.0ms)


  
ActionController::UrlGenerationError (No route matches {:action=>"show", :controller=>"photos", :photo_id=>"6"}, missing required keys: [:id]):
  
app/controllers/likes_controller.rb:6:in `create'
Started GET "/photos/6" for 127.0.0.1 at 2017-10-18 14:03:08 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  Rendered photos/show.html.erb within layouts/application (17.4ms)
Completed 200 OK in 191ms (Views: 123.1ms | ActiveRecord: 13.7ms)


Started POST "/photos/6/likes" for 127.0.0.1 at 2017-10-18 14:03:11 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"BTDU/CGrleCGkYGzetkVOGIVKEmWpRAuoxktibmx8eNPpQuXSaQIK8aLOPoP77GMTX0GIzMgubeIh3Rco/AsAg==", "photo_id"=>"6"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/6
Completed 302 Found in 26ms (ActiveRecord: 2.6ms)


Started GET "/photos/6" for 127.0.0.1 at 2017-10-18 14:03:11 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  Rendered photos/show.html.erb within layouts/application (5.6ms)
Completed 200 OK in 83ms (Views: 77.5ms | ActiveRecord: 1.1ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 14:03:16 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (39.2ms)
Completed 200 OK in 140ms (Views: 117.9ms | ActiveRecord: 6.2ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-18 14:03:19 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.2ms)
  [1m[35m (15.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered photos/show.html.erb within layouts/application (33.3ms)
Completed 200 OK in 122ms (Views: 99.6ms | ActiveRecord: 16.2ms)


Started POST "/photos/3/likes" for 127.0.0.1 at 2017-10-18 14:03:20 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"mdy8pzg71+2QJUmG0mWy/UW4eORVZR2dBcZ2kPEAj03TSWPMUDRKJtA/8M+nUxZJatBWjvDgtAQuWC9F60FSrA==", "photo_id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 3], ["created_at", "2017-10-18 06:03:20.965945"], ["updated_at", "2017-10-18 06:03:20.965945"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/3
Completed 302 Found in 19ms (ActiveRecord: 4.5ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-18 14:03:20 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered photos/show.html.erb within layouts/application (7.9ms)
Completed 200 OK in 78ms (Views: 70.0ms | ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 14:04:13 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 71ms (Views: 68.3ms | ActiveRecord: 0.2ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-18 14:04:18 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"cvFeyD7fjrrzqpO5OpghYOQq8Y/F4Cq7PM6vPRdPnpk4ZIGjVtATcbOwKvBProXUy0Lf5WBlgyIXUPboDQ5DeA=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 14:04:18 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 88ms (Views: 85.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 14:04:21 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 89ms (Views: 84.4ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 14:04:24 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 14:04:24 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 77ms (Views: 74.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 14:04:26 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 72ms (Views: 69.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 14:58:50 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 126ms (Views: 123.9ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-18 15:20:14 +0800
  [1m[35m (7.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-18 15:20:15 +0800
Started GET "/auth/facebook/callback?code=AQA8oGIUJjj148AR0a_TZl-lScnR0XT7H9xwljmiIobjVkNaP8-T1wKUFm22TtPuQfVVCTQ4z94OB78fC_AMNQrvRdw4auj-VLQZmfwWO5DeKRWYinGlEMhOBaX-XkNlHontyIZbYpDO4eRR-XpI9oIjIq2EDCHwYDTYmY_bOx3Gy6rcPg2zrTt8CvIpnVJUMhT9v3xRE7HDBaoU3jWCg18EDULWmdWp-yhglgLs2sni5hatSKaOwCWjDZ_iACB4VRMlMCIfyWXSQHm-gEwcgLTJ_1h9bDDng46CU8MoB66OVWa7TXsk1Rbr6RlPN7hhjdcL2UGJ2n4DSK9ln5Z3pdEXX46zC39fFDDfVc_oX4rv7w&state=a7fd5701b722e41b797080414e17071bffea676247058cb6" for 127.0.0.1 at 2017-10-18 15:20:15 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQA8oGIUJjj148AR0a_TZl-lScnR0XT7H9xwljmiIobjVkNaP8-T1wKUFm22TtPuQfVVCTQ4z94OB78fC_AMNQrvRdw4auj-VLQZmfwWO5DeKRWYinGlEMhOBaX-XkNlHontyIZbYpDO4eRR-XpI9oIjIq2EDCHwYDTYmY_bOx3Gy6rcPg2zrTt8CvIpnVJUMhT9v3xRE7HDBaoU3jWCg18EDULWmdWp-yhglgLs2sni5hatSKaOwCWjDZ_iACB4VRMlMCIfyWXSQHm-gEwcgLTJ_1h9bDDng46CU8MoB66OVWa7TXsk1Rbr6RlPN7hhjdcL2UGJ2n4DSK9ln5Z3pdEXX46zC39fFDDfVc_oX4rv7w", "state"=>"a7fd5701b722e41b797080414e17071bffea676247058cb6", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.6ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAAdwJCRjwHSc560MqBVZBUrStsmrFoFHZAeNsBvfQwaeJAdw8e5Vyt7cohZAB9MJCaoovnrHGpKqIZAQh2U4zLWFvkX7FTXMRFiP2ZAK6Lh3Fzj4vljsR2ViuMFQRjFnoop7pbx5rtxk5cm1QjmuT7P7TVviThwZDZD"], ["updated_at", "2017-10-18 07:20:16.301068"], ["id", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 110ms (ActiveRecord: 19.6ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 15:20:16 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (70.5ms)
Completed 200 OK in 801ms (Views: 785.8ms | ActiveRecord: 10.2ms)


Started GET "/photos/4" for 127.0.0.1 at 2017-10-18 15:20:24 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.5ms)
  Rendered photos/show.html.erb within layouts/application (12.5ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.7ms)


  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/views/likes/_create.html.erb:2: syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
...photo), method: :post, remote :true );@output_buffer.safe_ap...
...                               ^):
  
app/views/likes/_create.html.erb:2: syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
app/views/photos/show.html.erb:10:in `_app_views_photos_show_html_erb___918366279506119617_70161102188540'
Started GET "/photos/4" for 127.0.0.1 at 2017-10-18 15:20:44 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.5ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered photos/show.html.erb within layouts/application (10.2ms)
Completed 200 OK in 123ms (Views: 113.1ms | ActiveRecord: 1.7ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:20:48 +0800
  
ActionController::RoutingError (undefined method `respond_to' for LikesController:Class
Did you mean?  respond_to?):
  
app/controllers/likes_controller.rb:2:in `<class:LikesController>'
app/controllers/likes_controller.rb:1:in `<top (required)>'
Started GET "/photos/4" for 127.0.0.1 at 2017-10-18 15:21:13 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.5ms)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered photos/show.html.erb within layouts/application (18.7ms)
Completed 200 OK in 194ms (Views: 118.5ms | ActiveRecord: 15.1ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:21:17 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (7.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 4], ["created_at", "2017-10-18 07:21:17.735702"], ["updated_at", "2017-10-18 07:21:17.735702"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 200ms (ActiveRecord: 18.4ms)


  
NoMethodError (undefined method `respond_with' for #<LikesController:0x007f9f589e4810>
Did you mean?  respond_to):
  
app/controllers/likes_controller.rb:8:in `create'
Started GET "/photos/4" for 127.0.0.1 at 2017-10-18 15:22:18 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered photos/show.html.erb within layouts/application (6.0ms)
Completed 200 OK in 119ms (Views: 110.4ms | ActiveRecord: 1.7ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:22:33 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 154ms (ActiveRecord: 2.9ms)


  
NoMethodError (undefined method `respond_with' for #<LikesController:0x007f9f4e9af598>
Did you mean?  respond_to):
  
app/controllers/likes_controller.rb:8:in `create'
Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:22:34 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 125ms (ActiveRecord: 2.6ms)


  
NoMethodError (undefined method `respond_with' for #<LikesController:0x007f9f58349e38>
Did you mean?  respond_to):
  
app/controllers/likes_controller.rb:8:in `create'
Started GET "/photos/4" for 127.0.0.1 at 2017-10-18 15:23:57 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered photos/show.html.erb within layouts/application (13.9ms)
Completed 200 OK in 203ms (Views: 155.6ms | ActiveRecord: 1.3ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:24:02 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 156ms (ActiveRecord: 6.7ms)


  
NoMethodError (undefined method `respond_with' for #<LikesController:0x007f9f52e4b198>
Did you mean?  respond_to):
  
app/controllers/likes_controller.rb:6:in `create'
Started GET "/photos/4" for 127.0.0.1 at 2017-10-18 15:27:45 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered photos/show.html.erb within layouts/application (12.3ms)
Completed 200 OK in 156ms (Views: 104.1ms | ActiveRecord: 10.9ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:27:49 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered likes/create.js.erb (0.8ms)
Completed 200 OK in 36ms (Views: 9.5ms | ActiveRecord: 2.4ms)


Started GET "/photos/4" for 127.0.0.1 at 2017-10-18 15:31:00 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.1ms)
  Rendered photos/show.html.erb within layouts/application (9.3ms)
Completed 200 OK in 98ms (Views: 90.8ms | ActiveRecord: 1.3ms)


  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT "likes".* FROM "likes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 2]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (12.1ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 3]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 5]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 6]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 7]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 8]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/photos/4" for 127.0.0.1 at 2017-10-18 15:31:15 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.9ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.0ms)
  Rendered photos/show.html.erb within layouts/application (9.4ms)
Completed 200 OK in 94ms (Views: 83.4ms | ActiveRecord: 3.6ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:31:20 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 4], ["created_at", "2017-10-18 07:31:20.054703"], ["updated_at", "2017-10-18 07:31:20.054703"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered likes/create.js.erb (199.5ms)
Completed 500 Internal Server Error in 226ms (ActiveRecord: 4.6ms)


  
ActionView::Template::Error (undefined method `render_partial' for #<#<Class:0x007f9f571ea368>:0x007f9f506c9660>):
    1: $('#likes-counter-container').html("<%=j render_partial('likes/counter', locals: { photo: @photo }) %>")
  
app/views/likes/create.js.erb:1:in `_app_views_likes_create_js_erb__399753089709962817_70161112911980'
Started GET "/photos/4" for 127.0.0.1 at 2017-10-18 15:31:45 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered photos/show.html.erb within layouts/application (12.7ms)
Completed 200 OK in 158ms (Views: 150.2ms | ActiveRecord: 1.3ms)


Started DELETE "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:31:49 +0800
  
ActionController::RoutingError (No route matches [DELETE] "/photos/4/likes"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:31:52 +0800
  
AbstractController::ActionNotFound (The action 'index' could not be found for LikesController):
  
actionpack (5.1.4) lib/abstract_controller/base.rb:119:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:31:57 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.5ms)
  Rendered photos/show.html.erb within layouts/application (9.5ms)
Completed 200 OK in 80ms (Views: 73.5ms | ActiveRecord: 1.2ms)


  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 9]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:32:02 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.9ms)
  Rendered photos/show.html.erb within layouts/application (10.9ms)
Completed 200 OK in 117ms (Views: 111.0ms | ActiveRecord: 1.1ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:32:06 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 4], ["created_at", "2017-10-18 07:32:06.189725"], ["updated_at", "2017-10-18 07:32:06.189725"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.5ms)
  Rendered likes/create.js.erb (6.6ms)
Completed 200 OK in 36ms (Views: 15.7ms | ActiveRecord: 5.7ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:32:19 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (3.2ms)
  Rendered photos/show.html.erb within layouts/application (11.0ms)
Completed 200 OK in 139ms (Views: 130.2ms | ActiveRecord: 1.4ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:32:23 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered likes/create.js.erb (7.9ms)
Completed 200 OK in 36ms (Views: 18.0ms | ActiveRecord: 3.1ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:32:39 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (3.1ms)
  Rendered photos/show.html.erb within layouts/application (15.7ms)
Completed 200 OK in 117ms (Views: 104.3ms | ActiveRecord: 3.1ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:32:43 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (5.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered likes/create.js.erb (6.5ms)
Completed 200 OK in 40ms (Views: 17.0ms | ActiveRecord: 8.4ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:34:31 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (2.3ms)
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (13.4ms)
  Rendered photos/show.html.erb within layouts/application (22.4ms)
Completed 200 OK in 199ms (Views: 143.5ms | ActiveRecord: 2.1ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:34:35 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.9ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 28ms (ActiveRecord: 5.2ms)


  
ArgumentError ('false' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
  
app/controllers/likes_controller.rb:7:in `block (2 levels) in create'
app/controllers/likes_controller.rb:6:in `create'
Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:34:46 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.9ms)
  Rendered photos/show.html.erb within layouts/application (10.6ms)
Completed 200 OK in 132ms (Views: 121.2ms | ActiveRecord: 2.2ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:34:50 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.7ms)


  
ArgumentError ('false' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
  
app/controllers/likes_controller.rb:7:in `block (2 levels) in create'
app/controllers/likes_controller.rb:6:in `create'
Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:34:57 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.2ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (11.1ms)
  Rendered photos/show.html.erb within layouts/application (18.7ms)
Completed 200 OK in 183ms (Views: 132.4ms | ActiveRecord: 10.5ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:35:01 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.1ms)
  Rendered likes/create.js.erb (5.4ms)
Completed 200 OK in 42ms (Views: 14.0ms | ActiveRecord: 3.0ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:35:43 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.7ms)
  Rendered photos/show.html.erb within layouts/application (11.1ms)
Completed 200 OK in 117ms (Views: 110.6ms | ActiveRecord: 1.2ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:35:48 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered likes/create.js.erb (7.8ms)
Completed 200 OK in 34ms (Views: 19.1ms | ActiveRecord: 2.9ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:35:58 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.6ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.5ms)
  Rendered photos/show.html.erb within layouts/application (11.6ms)
Completed 200 OK in 122ms (Views: 112.8ms | ActiveRecord: 1.7ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:36:02 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.9ms)
  Rendered likes/create.js.erb (10.1ms)
Completed 200 OK in 44ms (Views: 22.5ms | ActiveRecord: 4.7ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:36:08 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered photos/show.html.erb within layouts/application (9.4ms)
Completed 200 OK in 108ms (Views: 99.2ms | ActiveRecord: 3.2ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:36:13 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.3ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (3.9ms)
  Rendered photos/show.html.erb within layouts/application (14.2ms)
Completed 200 OK in 316ms (Views: 248.5ms | ActiveRecord: 2.5ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:36:17 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.6ms)
  Rendered likes/create.js.erb (6.6ms)
Completed 200 OK in 34ms (Views: 15.3ms | ActiveRecord: 3.5ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:36:23 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (3.5ms)
  Rendered photos/show.html.erb within layouts/application (10.4ms)
Completed 200 OK in 140ms (Views: 128.5ms | ActiveRecord: 2.5ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:36:27 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered likes/create.js.erb (6.7ms)
Completed 200 OK in 32ms (Views: 15.6ms | ActiveRecord: 2.8ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:36:38 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.7ms)
  Rendered photos/show.html.erb within layouts/application (9.4ms)
Completed 200 OK in 117ms (Views: 110.7ms | ActiveRecord: 1.4ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:36:42 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.1ms)
  Rendered likes/create.js.erb (6.4ms)
Completed 200 OK in 33ms (Views: 15.3ms | ActiveRecord: 3.0ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:37:50 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (3.5ms)
  Rendered photos/show.html.erb within layouts/application (11.6ms)
Completed 200 OK in 129ms (Views: 120.9ms | ActiveRecord: 1.3ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:37:54 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered likes/create.js.erb (6.3ms)
Completed 200 OK in 30ms (Views: 14.5ms | ActiveRecord: 2.8ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:39:31 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.6ms)
  Rendered photos/show.html.erb within layouts/application (9.8ms)
Completed 200 OK in 109ms (Views: 100.9ms | ActiveRecord: 1.5ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:39:35 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (3.0ms)
  Rendered likes/create.js.erb (6.5ms)
Completed 200 OK in 27ms (Views: 13.8ms | ActiveRecord: 3.0ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:40:02 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.5ms)
  Rendered photos/show.html.erb within layouts/application (10.2ms)
Completed 200 OK in 143ms (Views: 131.3ms | ActiveRecord: 2.9ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:40:06 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (1.9ms)
  Rendered likes/create.js.erb (5.8ms)
Completed 200 OK in 29ms (Views: 13.4ms | ActiveRecord: 3.6ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:40:15 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered photos/show.html.erb within layouts/application (9.6ms)
Completed 200 OK in 107ms (Views: 97.6ms | ActiveRecord: 1.6ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:40:19 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (1.8ms)
  Rendered likes/create.js.erb (5.8ms)
Completed 200 OK in 29ms (Views: 14.8ms | ActiveRecord: 2.8ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:40:24 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.5ms)
  Rendered photos/show.html.erb within layouts/application (8.9ms)
Completed 200 OK in 124ms (Views: 116.8ms | ActiveRecord: 1.3ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:40:28 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.2ms)
  Rendered likes/create.js.erb (6.9ms)
Completed 200 OK in 29ms (Views: 14.9ms | ActiveRecord: 2.7ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:41:49 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.6ms)
  Rendered photos/show.html.erb within layouts/application (10.0ms)
Completed 200 OK in 128ms (Views: 120.2ms | ActiveRecord: 1.3ms)


  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 10]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:41:55 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.7ms)
  Rendered photos/show.html.erb within layouts/application (9.8ms)
Completed 200 OK in 114ms (Views: 105.2ms | ActiveRecord: 1.5ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:41:58 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 4], ["created_at", "2017-10-18 07:41:58.882149"], ["updated_at", "2017-10-18 07:41:58.882149"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.3ms)
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (1.2ms)
  Rendered likes/create.js.erb (11.9ms)
Completed 200 OK in 42ms (Views: 21.2ms | ActiveRecord: 5.4ms)


Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:45:11 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.8ms)
  Rendered photos/show.html.erb within layouts/application (9.7ms)
Completed 200 OK in 94ms (Views: 88.2ms | ActiveRecord: 1.3ms)


  [1m[36mLike Load (0.8ms)[0m  [1m[34mSELECT "likes".* FROM "likes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 11]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:45:17 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (2.1ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (3.2ms)
  Rendered photos/show.html.erb within layouts/application (15.7ms)
Completed 200 OK in 150ms (Views: 138.2ms | ActiveRecord: 1.9ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:45:21 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 4], ["created_at", "2017-10-18 07:45:21.023891"], ["updated_at", "2017-10-18 07:45:21.023891"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (1.9ms)
  Rendered likes/create.js.erb (5.3ms)
Completed 200 OK in 30ms (Views: 13.4ms | ActiveRecord: 3.8ms)


  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT "likes".* FROM "likes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 12]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/photos/4/" for 127.0.0.1 at 2017-10-18 15:48:55 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (7.0ms)
  Rendered photos/show.html.erb within layouts/application (14.1ms)
Completed 200 OK in 132ms (Views: 87.3ms | ActiveRecord: 1.1ms)


Started POST "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:48:58 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 4], ["created_at", "2017-10-18 07:48:58.765164"], ["updated_at", "2017-10-18 07:48:58.765164"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  Rendered likes/_counter.html.erb (2.1ms)
  Rendered likes/create.js.erb (5.6ms)
Completed 200 OK in 49ms (Views: 13.9ms | ActiveRecord: 7.9ms)


Started DELETE "/photos/4/likes" for 127.0.0.1 at 2017-10-18 15:48:59 +0800
  
ActionController::RoutingError (No route matches [DELETE] "/photos/4/likes"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-18 15:49:15 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 85ms (Views: 82.1ms | ActiveRecord: 0.5ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 15:49:17 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (27.2ms)
Completed 200 OK in 122ms (Views: 105.1ms | ActiveRecord: 5.4ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 15:49:21 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.4ms)
  [1m[35m (10.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (13.4ms)
  Rendered photos/show.html.erb within layouts/application (27.8ms)
Completed 200 OK in 116ms (Views: 95.6ms | ActiveRecord: 11.1ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 15:49:23 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 07:49:23.741119"], ["updated_at", "2017-10-18 07:49:23.741119"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (3.3ms)
  Rendered likes/create.js.erb (7.3ms)
Completed 200 OK in 31ms (Views: 14.4ms | ActiveRecord: 4.5ms)


Started DELETE "/photos/1/likes" for 127.0.0.1 at 2017-10-18 15:49:29 +0800
  
ActionController::RoutingError (No route matches [DELETE] "/photos/1/likes"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 15:50:21 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.1ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (12.5ms)
  Rendered photos/show.html.erb within layouts/application (20.4ms)
Completed 200 OK in 170ms (Views: 116.3ms | ActiveRecord: 10.3ms)


Started GET "/photos/1/likes" for 127.0.0.1 at 2017-10-18 15:50:38 +0800
  
AbstractController::ActionNotFound (The action 'index' could not be found for LikesController):
  
actionpack (5.1.4) lib/abstract_controller/base.rb:119:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/1/likes" for 127.0.0.1 at 2017-10-18 15:51:00 +0800
  
AbstractController::ActionNotFound (The action 'index' could not be found for LikesController):
  
actionpack (5.1.4) lib/abstract_controller/base.rb:119:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 15:51:02 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (8.6ms)
  Rendered photos/show.html.erb within layouts/application (16.3ms)
Completed 200 OK in 213ms (Views: 164.1ms | ActiveRecord: 1.1ms)


Started DELETE "/photos/1/likes" for 127.0.0.1 at 2017-10-18 15:51:05 +0800
  
ActionController::RoutingError (No route matches [DELETE] "/photos/1/likes"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 15:51:37 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (6.5ms)
  Rendered photos/show.html.erb within layouts/application (12.9ms)
Completed 200 OK in 136ms (Views: 90.7ms | ActiveRecord: 1.1ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 15:51:40 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"Wy9tOmbhYnG/JoaprD7rXyIwkvYM3MWdo0c1FhcExeARurJRDu7/uv88P+DZCE/rDVi8nKlZbASI2WzDDUUYAQ==", "photo_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/1
Completed 302 Found in 31ms (ActiveRecord: 4.6ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 15:51:40 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.3ms)
  Rendered photos/show.html.erb within layouts/application (8.2ms)
Completed 200 OK in 96ms (Views: 90.1ms | ActiveRecord: 1.1ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 15:51:44 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"VCanS++Ipe7WHgcJWYeZ8Gl0w4mWmlnadNdcZ558940es3ggh4c4JZYEvkAssT1ERhzt4zMf8ENfSQWyhD0qbA==", "photo_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/1
Completed 302 Found in 14ms (ActiveRecord: 2.6ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 15:51:44 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.9ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (3.5ms)
  Rendered photos/show.html.erb within layouts/application (15.7ms)
Completed 200 OK in 120ms (Views: 113.4ms | ActiveRecord: 1.3ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 15:51:58 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (8.9ms)
  Rendered photos/show.html.erb within layouts/application (16.8ms)
Completed 200 OK in 157ms (Views: 111.2ms | ActiveRecord: 1.1ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 15:52:00 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"x0Rsyevi43kjQJJX9BvO4AFj4IMvZAjiRW71J4oKt0qN0bOig+1+smNaKx6BLWpULgvO6YrhoXtu8KzykEtqqw==", "photo_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/1
Completed 302 Found in 41ms (ActiveRecord: 8.3ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 15:52:00 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.8ms)
  Rendered photos/show.html.erb within layouts/application (10.4ms)
Completed 200 OK in 110ms (Views: 103.1ms | ActiveRecord: 1.4ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 15:52:04 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"FkmVT1fy7W7LOAhWd52iQ/DO1z+OXLoOHguwIi6czx1c3EokP/1wpYsisR8Cqwb336b5VSvZE5c1len3NN0S/A==", "photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/1
Completed 302 Found in 15ms (ActiveRecord: 2.9ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 15:52:04 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (3.3ms)
  Rendered photos/show.html.erb within layouts/application (10.9ms)
Completed 200 OK in 91ms (Views: 84.6ms | ActiveRecord: 1.2ms)


  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:04:14 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (8.9ms)
  Rendered photos/show.html.erb within layouts/application (20.4ms)
Completed 200 OK in 152ms (Views: 102.8ms | ActiveRecord: 1.2ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:04:20 +0800
Processing by LikesController#create as HTML
  Parameters: {"authenticity_token"=>"b9wARdJz4S5jYzzoTy4JHgO75bEE7+x8HdztY+ZgY6klSd8uunx85SN5haE6GK2qLNPL26FqReU2QrS2/CG+SA==", "photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos/1
Completed 302 Found in 33ms (ActiveRecord: 6.3ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:04:20 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (2.7ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (4.3ms)
  Rendered photos/show.html.erb within layouts/application (15.5ms)
Completed 200 OK in 110ms (Views: 103.5ms | ActiveRecord: 1.3ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:05:11 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (3.5ms)
  Rendered photos/show.html.erb within layouts/application (11.8ms)
Completed 200 OK in 121ms (Views: 114.8ms | ActiveRecord: 1.4ms)


Started POST "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:05:14 +0800
  
ActionController::RoutingError (No route matches [POST] "/photos/1/likes/1"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:07:45 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (13.6ms)
  Rendered photos/show.html.erb within layouts/application (21.9ms)
Completed 200 OK in 158ms (Views: 98.4ms | ActiveRecord: 12.9ms)


Started POST "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:07:58 +0800
  
ActionController::RoutingError (No route matches [POST] "/photos/1/likes/1"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/d4aa480cb8b029644f3c4721acb34878" for 127.0.0.1 at 2017-10-18 16:08:10 +0800
Started PUT "/__web_console/repl_sessions/d4aa480cb8b029644f3c4721acb34878" for 127.0.0.1 at 2017-10-18 16:08:15 +0800
Started PUT "/__web_console/repl_sessions/d4aa480cb8b029644f3c4721acb34878" for 127.0.0.1 at 2017-10-18 16:08:21 +0800
Started PUT "/__web_console/repl_sessions/d4aa480cb8b029644f3c4721acb34878" for 127.0.0.1 at 2017-10-18 16:08:26 +0800
Started PUT "/__web_console/repl_sessions/d4aa480cb8b029644f3c4721acb34878" for 127.0.0.1 at 2017-10-18 16:08:28 +0800
Started GET "/photos/" for 127.0.0.1 at 2017-10-18 16:08:44 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (26.9ms)
Completed 200 OK in 104ms (Views: 95.0ms | ActiveRecord: 4.5ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:08:47 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (9.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (2.7ms)
  [1m[35m (10.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (13.8ms)
  Rendered photos/show.html.erb within layouts/application (27.6ms)
Completed 200 OK in 149ms (Views: 121.5ms | ActiveRecord: 20.5ms)


Started POST "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:08:55 +0800
  
ActionController::RoutingError (No route matches [POST] "/photos/1/likes/1"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:09:52 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (7.0ms)
  Rendered photos/show.html.erb within layouts/application (14.0ms)
Completed 200 OK in 170ms (Views: 126.1ms | ActiveRecord: 1.0ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:10:20 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.9ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (10.9ms)
  Rendered photos/show.html.erb within layouts/application (20.5ms)
Completed 200 OK in 198ms (Views: 143.1ms | ActiveRecord: 1.4ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:11:10 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.1ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (12.3ms)
  Rendered photos/show.html.erb within layouts/application (22.7ms)
Completed 200 OK in 181ms (Views: 121.9ms | ActiveRecord: 1.5ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:11:18 +0800
  
AbstractController::ActionNotFound (The action 'destroy' could not be found for LikesController):
  
actionpack (5.1.4) lib/abstract_controller/base.rb:119:in `process'
actionview (5.1.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.4) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.4) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.4) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
omniauth (1.7.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:11:57 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.1ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (7.0ms)
  Rendered photos/show.html.erb within layouts/application (16.4ms)
Completed 200 OK in 152ms (Views: 111.3ms | ActiveRecord: 1.0ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:12:00 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.9ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (3.1ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 14]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#destroy, rendering head :no_content
Completed 204 No Content in 140ms (ActiveRecord: 10.7ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:12:18 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered photos/show.html.erb within layouts/application (9.9ms)
Completed 200 OK in 121ms (Views: 114.4ms | ActiveRecord: 1.2ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:12:48 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.1ms)
  Rendered photos/show.html.erb within layouts/application (8.4ms)
Completed 200 OK in 109ms (Views: 101.2ms | ActiveRecord: 1.1ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:12:51 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:12:51.174031"], ["updated_at", "2017-10-18 08:12:51.174031"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.6ms)
  Rendered likes/create.js.erb (6.7ms)
Completed 200 OK in 41ms (Views: 15.9ms | ActiveRecord: 4.7ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:12:55 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 15]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
No template found for LikesController#destroy, rendering head :no_content
Completed 204 No Content in 109ms (ActiveRecord: 3.2ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:12:57 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.3ms)
  Rendered photos/show.html.erb within layouts/application (9.3ms)
Completed 200 OK in 100ms (Views: 91.8ms | ActiveRecord: 1.5ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:14:05 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.3ms)
  Rendered photos/show.html.erb within layouts/application (11.0ms)
Completed 200 OK in 122ms (Views: 113.9ms | ActiveRecord: 1.1ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:14:08 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:14:08.506263"], ["updated_at", "2017-10-18 08:14:08.506263"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered likes/create.js.erb (6.5ms)
Completed 200 OK in 38ms (Views: 16.3ms | ActiveRecord: 5.6ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:14:09 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 16]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.0ms)
  Rendered likes/destroy.js.erb (5.8ms)
Completed 200 OK in 28ms (Views: 13.6ms | ActiveRecord: 4.0ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:14:47 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:14:47.558438"], ["updated_at", "2017-10-18 08:14:47.558438"]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.2ms)
  Rendered likes/create.js.erb (6.9ms)
Completed 200 OK in 34ms (Views: 16.3ms | ActiveRecord: 5.4ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:14:48 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 17]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.3ms)
  Rendered likes/destroy.js.erb (7.3ms)
Completed 200 OK in 32ms (Views: 19.4ms | ActiveRecord: 3.7ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:14:48 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:14:49.002628"], ["updated_at", "2017-10-18 08:14:49.002628"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (1.8ms)
  Rendered likes/create.js.erb (5.2ms)
Completed 200 OK in 30ms (Views: 12.8ms | ActiveRecord: 5.1ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:14:49 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 18]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.7ms)
  Rendered likes/destroy.js.erb (6.3ms)
Completed 200 OK in 28ms (Views: 13.9ms | ActiveRecord: 4.5ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:14:50 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:14:50.423108"], ["updated_at", "2017-10-18 08:14:50.423108"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered likes/create.js.erb (7.6ms)
Completed 200 OK in 34ms (Views: 17.0ms | ActiveRecord: 3.7ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:14:51 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 19]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.0ms)
  Rendered likes/destroy.js.erb (5.4ms)
Completed 200 OK in 29ms (Views: 13.3ms | ActiveRecord: 4.1ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:14:57 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:14:57.771456"], ["updated_at", "2017-10-18 08:14:57.771456"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.1ms)
  Rendered likes/create.js.erb (6.7ms)
Completed 200 OK in 35ms (Views: 17.6ms | ActiveRecord: 4.8ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:14:58 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (1.8ms)
  Rendered likes/create.js.erb (5.2ms)
Completed 200 OK in 29ms (Views: 15.9ms | ActiveRecord: 2.6ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:14:58 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (1.9ms)
  Rendered likes/create.js.erb (5.6ms)
Completed 200 OK in 28ms (Views: 13.5ms | ActiveRecord: 2.7ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:17:12 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (7.7ms)
  Rendered photos/show.html.erb within layouts/application (16.7ms)
Completed 200 OK in 198ms (Views: 142.4ms | ActiveRecord: 1.1ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:17:15 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:10: syntax error, unexpected =>, expecting keyword_end
    :flash => { :success => "You've liked this photo!" }
             ^
/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:21: syntax error, unexpected =>, expecting keyword_end
    :flash => { :error => "You've unliked this photo :(" }
             ^):
  
app/controllers/likes_controller.rb:10: syntax error, unexpected =>, expecting keyword_end
app/controllers/likes_controller.rb:21: syntax error, unexpected =>, expecting keyword_end
Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:17:18 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:10: syntax error, unexpected =>, expecting keyword_end
    :flash => { :success => "You've liked this photo!" }
             ^
/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:21: syntax error, unexpected =>, expecting keyword_end
    :flash => { :error => "You've unliked this photo :(" }
             ^):
  
app/controllers/likes_controller.rb:10: syntax error, unexpected =>, expecting keyword_end
app/controllers/likes_controller.rb:21: syntax error, unexpected =>, expecting keyword_end
Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:17:19 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:10: syntax error, unexpected =>, expecting keyword_end
    :flash => { :success => "You've liked this photo!" }
             ^
/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:21: syntax error, unexpected =>, expecting keyword_end
    :flash => { :error => "You've unliked this photo :(" }
             ^):
  
app/controllers/likes_controller.rb:10: syntax error, unexpected =>, expecting keyword_end
app/controllers/likes_controller.rb:21: syntax error, unexpected =>, expecting keyword_end
Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:17:21 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:10: syntax error, unexpected =>, expecting keyword_end
    :flash => { :success => "You've liked this photo!" }
             ^
/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:21: syntax error, unexpected =>, expecting keyword_end
    :flash => { :error => "You've unliked this photo :(" }
             ^):
  
app/controllers/likes_controller.rb:10: syntax error, unexpected =>, expecting keyword_end
app/controllers/likes_controller.rb:21: syntax error, unexpected =>, expecting keyword_end
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:18:02 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.2ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (9.0ms)
  Rendered photos/show.html.erb within layouts/application (18.2ms)
Completed 200 OK in 176ms (Views: 125.7ms | ActiveRecord: 1.3ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:18:08 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'):
  
app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'
Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:18:10 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'):
  
app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'
Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:18:11 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'):
  
app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'
Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:18:11 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'):
  
app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'
Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:18:11 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'):
  
app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'
Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:18:11 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'):
  
app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'
Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:18:12 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'):
  
app/controllers/likes_controller.rb:9: syntax error, unexpected keyword_end, expecting '}'
app/controllers/likes_controller.rb:20: syntax error, unexpected keyword_end, expecting '}'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:18:41 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (8.5ms)
  Rendered photos/show.html.erb within layouts/application (17.6ms)
Completed 200 OK in 210ms (Views: 164.5ms | ActiveRecord: 1.1ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:18:44 +0800
  
SyntaxError (/Users/huiqianliang/projects/instasnap/app/controllers/likes_controller.rb:9: syntax error, unexpected =>, expecting keyword_end
      :flash => { :error => "Photo liked!" }
               ^):
  
app/controllers/likes_controller.rb:9: syntax error, unexpected =>, expecting keyword_end
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:18:46 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.3ms)
  Rendered photos/show.html.erb within layouts/application (12.6ms)
Completed 200 OK in 110ms (Views: 103.3ms | ActiveRecord: 1.3ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:18:58 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (8.2ms)
  Rendered photos/show.html.erb within layouts/application (15.4ms)
Completed 200 OK in 139ms (Views: 86.7ms | ActiveRecord: 9.8ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:19:01 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 20]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.2ms)
  Rendered likes/destroy.js.erb (6.4ms)
Completed 200 OK in 40ms (Views: 14.4ms | ActiveRecord: 6.1ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:19:02 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:19:02.437509"], ["updated_at", "2017-10-18 08:19:02.437509"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered likes/create.js.erb (6.1ms)
Completed 200 OK in 34ms (Views: 13.6ms | ActiveRecord: 4.7ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:19:03 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 21]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.0ms)
  Rendered likes/destroy.js.erb (5.6ms)
Completed 200 OK in 26ms (Views: 12.7ms | ActiveRecord: 4.0ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:19:54 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (9.5ms)
  Rendered photos/show.html.erb within layouts/application (22.6ms)
Completed 200 OK in 157ms (Views: 105.1ms | ActiveRecord: 9.3ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:19:56 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:19:56.880475"], ["updated_at", "2017-10-18 08:19:56.880475"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.5ms)
  Rendered likes/create.js.erb (7.1ms)
Completed 200 OK in 51ms (Views: 15.9ms | ActiveRecord: 4.6ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:19:58 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 22]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.8ms)
  Rendered likes/destroy.js.erb (7.3ms)
Completed 200 OK in 28ms (Views: 14.7ms | ActiveRecord: 3.9ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:19:59 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:19:59.820974"], ["updated_at", "2017-10-18 08:19:59.820974"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.3ms)
  Rendered likes/create.js.erb (7.6ms)
Completed 200 OK in 33ms (Views: 14.9ms | ActiveRecord: 5.3ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:20:01 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.8ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 23]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered likes/destroy.js.erb (6.1ms)
Completed 200 OK in 30ms (Views: 15.2ms | ActiveRecord: 4.8ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:20:02 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:20:02.930287"], ["updated_at", "2017-10-18 08:20:02.930287"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.0ms)
  Rendered likes/create.js.erb (5.6ms)
Completed 200 OK in 32ms (Views: 15.4ms | ActiveRecord: 3.6ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:20:03 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 24]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.6ms)
  Rendered likes/destroy.js.erb (6.4ms)
Completed 200 OK in 45ms (Views: 13.7ms | ActiveRecord: 3.7ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:20:05 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:20:05.014091"], ["updated_at", "2017-10-18 08:20:05.014091"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.1ms)
  Rendered likes/create.js.erb (7.2ms)
Completed 200 OK in 34ms (Views: 17.5ms | ActiveRecord: 4.7ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:20:06 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 25]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.6ms)
  Rendered likes/destroy.js.erb (6.8ms)
Completed 200 OK in 30ms (Views: 16.2ms | ActiveRecord: 3.9ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:20:28 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.2ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (9.6ms)
  Rendered photos/show.html.erb within layouts/application (17.3ms)
Completed 200 OK in 168ms (Views: 123.7ms | ActiveRecord: 1.8ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:20:31 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:20:31.495026"], ["updated_at", "2017-10-18 08:20:31.495026"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.9ms)
  Rendered likes/create.js.erb (6.6ms)
Completed 200 OK in 47ms (Views: 14.2ms | ActiveRecord: 7.0ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:20:32 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 26]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (1.9ms)
  Rendered likes/destroy.js.erb (6.9ms)
Completed 200 OK in 26ms (Views: 14.1ms | ActiveRecord: 2.5ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:23:44 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (11.1ms)
  Rendered photos/show.html.erb within layouts/application (18.3ms)
Completed 200 OK in 141ms (Views: 94.2ms | ActiveRecord: 1.1ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:24:04 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.7ms)
  Rendered photos/show.html.erb within layouts/application (10.1ms)
Completed 200 OK in 93ms (Views: 85.5ms | ActiveRecord: 1.5ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:25:08 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.8ms)
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (4.9ms)
  Rendered photos/show.html.erb within layouts/application (16.4ms)
Completed 500 Internal Server Error in 147ms (ActiveRecord: 2.8ms)


  
ActionView::Template::Error (Missing partial photos/_flash_messages, application/_flash_messages with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/huiqianliang/projects/instasnap/app/views"
):
    30: 
    31:     </div>
    32:     <div id="flash-messages-container">
    33:       <%= render partial: 'flash_messages' %>
    34:     </div>
    35: 
    36:     <%= yield %>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb__2839738176505656207_70161170016760'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:25:18 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.5ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.8ms)
  Rendered photos/show.html.erb within layouts/application (11.8ms)
Completed 500 Internal Server Error in 134ms (ActiveRecord: 2.1ms)


  
ActionView::Template::Error (Missing partial layout/_flash_messages with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/huiqianliang/projects/instasnap/app/views"
):
    30: 
    31:     </div>
    32:     <div id="flash-messages-container">
    33:       <%= render partial: 'layout/flash_messages' %>
    34:     </div>
    35: 
    36:     <%= yield %>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb__2839738176505656207_70161177773680'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:25:47 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.1ms)
  [1m[35m (6.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (10.3ms)
  Rendered photos/show.html.erb within layouts/application (20.9ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
Completed 200 OK in 181ms (Views: 163.3ms | ActiveRecord: 8.8ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:26:52 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.7ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (10.1ms)
  Rendered photos/show.html.erb within layouts/application (17.8ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
Completed 200 OK in 173ms (Views: 119.5ms | ActiveRecord: 1.4ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:26:55 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:26:55.367525"], ["updated_at", "2017-10-18 08:26:55.367525"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (319.5ms)
  Rendered likes/create.js.erb (323.9ms)
Completed 500 Internal Server Error in 370ms (ActiveRecord: 6.1ms)


  
ActionView::Template::Error (undefined method `display_message' for #<#<Class:0x007f9f4e634738>:0x007f9f4e604970>):
     5:         &times;
     6:       </button>
     7:       <div class="message">
     8:         <%= display_message(v) %>
     9:       </div>
    10:     </div>
    11:   </section>
  
app/views/layouts/_flash_messages.html.erb:8:in `block in _app_views_layouts__flash_messages_html_erb__3495756908577577892_70161095582960'
app/views/layouts/_flash_messages.html.erb:1:in `_app_views_layouts__flash_messages_html_erb__3495756908577577892_70161095582960'
app/views/likes/create.js.erb:1:in `_app_views_likes_create_js_erb__399753089709962817_70161099846040'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:26:58 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered photos/show.html.erb within layouts/application (12.6ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 109ms (Views: 102.6ms | ActiveRecord: 1.3ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:27:47 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.6ms)
  Rendered photos/show.html.erb within layouts/application (12.8ms)
Completed 500 Internal Server Error in 157ms (ActiveRecord: 2.4ms)


  
ActionView::Template::Error (Missing partial photos/_flash_messages, application/_flash_messages with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/huiqianliang/projects/instasnap/app/views"
):
    30:     </div>
    31: 
    32:     <div id="flash-messages-container">
    33:       <%= render partial: 'flash_messages' %>
    34:     </div>
    35: 
    36:     <%= yield %>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb__2839738176505656207_70161111533780'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:27:54 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (1.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.7ms)
  Rendered photos/show.html.erb within layouts/application (12.5ms)
Completed 500 Internal Server Error in 117ms (ActiveRecord: 2.3ms)


  
ActionView::Template::Error (Missing partial layout/_flash_messages with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/huiqianliang/projects/instasnap/app/views"
):
    30:     </div>
    31: 
    32:     <div id="flash-messages-container">
    33:       <%= render partial: 'layout/flash_messages' %>
    34:     </div>
    35: 
    36:     <%= yield %>
  
app/views/layouts/application.html.erb:33:in `_app_views_layouts_application_html_erb__2839738176505656207_70161103560040'
Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:27:58 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.7ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (3.9ms)
  Rendered photos/show.html.erb within layouts/application (17.5ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
Completed 200 OK in 141ms (Views: 132.0ms | ActiveRecord: 1.8ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:28:01 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 27]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.5ms)
  Rendered likes/destroy.js.erb (6.1ms)
Completed 200 OK in 31ms (Views: 13.9ms | ActiveRecord: 7.9ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:28:02 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:28:02.034437"], ["updated_at", "2017-10-18 08:28:02.034437"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.1ms)
  Rendered likes/create.js.erb (10.0ms)
Completed 200 OK in 40ms (Views: 17.5ms | ActiveRecord: 9.0ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:38:37 +0800
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (31.4ms)
  Rendered photos/show.html.erb within layouts/application (40.8ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 712ms (Views: 622.6ms | ActiveRecord: 12.0ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:38:40 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (1.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 28]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.3ms)
  Rendered likes/destroy.js.erb (6.3ms)
Completed 200 OK in 83ms (Views: 15.8ms | ActiveRecord: 28.9ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:38:43 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.3ms)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/photo.rb:14:in `unlike'
app/controllers/likes_controller.rb:16:in `destroy'
Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:38:44 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.4ms)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/models/photo.rb:14:in `unlike'
app/controllers/likes_controller.rb:16:in `destroy'
Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:38:51 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:38:51.646465"], ["updated_at", "2017-10-18 08:38:51.646465"]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.9ms)
  Rendered likes/create.js.erb (9.8ms)
Completed 200 OK in 60ms (Views: 18.3ms | ActiveRecord: 10.7ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-18 16:38:58 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ekyXo61BczqOublU2WVkP/ZWQU+6iV56+exCFRsuI94w2UjIxU7u8c6jAB2sU8CL2T5vJR8M9+PSchvAAW/+Pw=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:38:58 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 86ms (Views: 80.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:40:04 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 77ms (Views: 74.9ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-18 16:40:06 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-18 16:40:07 +0800
Started GET "/auth/facebook/callback?code=AQBFgBJS0FcsTzsNC9Iq3qrjlEDFEeIvFoWN5PUjcrkL0ppzYYCY2CnqgRPeP_zJPXHSxzg0je-QKODxHIXFUTQ-_jvEaTC1v4igGoTgb5Ojg_gzm1573xUcgPxcOmiHy7ZXeZcQGy7YxQ1K4NCJ7D7N16pXq4Josu2mutj_Gfj2zOhzw7pXGnnXYd1hifauYi6RTIKKA3-6hMrS6Y2cus8NF2--oluxzG-Tf0MElN6UJdviwjCp8VI9OvLG4dyANaA6ln31M2p3Knh_lgplDSPYRqIucj92QaLKGubPSkCzahAUvXgsZFABkTJrhN5aTLhsU6JuJGyYeluwB8egRiIbRGQvvIyDHWD7Xp10Ktynew&state=03bf36f184853d2648cb034ebfbe99feb766774ebf4fedd5" for 127.0.0.1 at 2017-10-18 16:40:07 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQBFgBJS0FcsTzsNC9Iq3qrjlEDFEeIvFoWN5PUjcrkL0ppzYYCY2CnqgRPeP_zJPXHSxzg0je-QKODxHIXFUTQ-_jvEaTC1v4igGoTgb5Ojg_gzm1573xUcgPxcOmiHy7ZXeZcQGy7YxQ1K4NCJ7D7N16pXq4Josu2mutj_Gfj2zOhzw7pXGnnXYd1hifauYi6RTIKKA3-6hMrS6Y2cus8NF2--oluxzG-Tf0MElN6UJdviwjCp8VI9OvLG4dyANaA6ln31M2p3Knh_lgplDSPYRqIucj92QaLKGubPSkCzahAUvXgsZFABkTJrhN5aTLhsU6JuJGyYeluwB8egRiIbRGQvvIyDHWD7Xp10Ktynew", "state"=>"03bf36f184853d2648cb034ebfbe99feb766774ebf4fedd5", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.7ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBALZAI5bMrYyrt1kQ2ldimhzpfQ8CFPpltdxVittKWNZCw5g3MtaRxYFCiFSdUrN36xhbuosZCAD81Y7opvOX3q4ylMax2RnCmofleiqYsmBxDg3Qfno1voGKIrmZAADZA9WhHxSp5CjWoc6PqpkcZCOjzXWcMiggZDZD"], ["updated_at", "2017-10-18 08:40:07.887065"], ["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 35ms (ActiveRecord: 8.3ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 16:40:07 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.9ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (30.6ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 112ms (Views: 103.8ms | ActiveRecord: 5.0ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-18 16:40:11 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.7ms)
  [1m[35m (8.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (10.9ms)
  Rendered photos/show.html.erb within layouts/application (24.3ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 127ms (Views: 112.3ms | ActiveRecord: 8.8ms)


Started POST "/photos/2/likes" for 127.0.0.1 at 2017-10-18 16:40:13 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 2], ["created_at", "2017-10-18 08:40:13.297778"], ["updated_at", "2017-10-18 08:40:13.297778"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (1.8ms)
  Rendered likes/create.js.erb (10.3ms)
Completed 200 OK in 36ms (Views: 19.3ms | ActiveRecord: 4.2ms)


Started DELETE "/photos/2/likes/2" for 127.0.0.1 at 2017-10-18 16:40:14 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"2", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 2], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 30]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (1.8ms)
  Rendered likes/destroy.js.erb (6.1ms)
Completed 200 OK in 28ms (Views: 14.3ms | ActiveRecord: 4.0ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-18 16:42:03 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (3.3ms)
  Rendered photos/show.html.erb within layouts/application (13.1ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 100ms (Views: 93.0ms | ActiveRecord: 1.3ms)


Started POST "/photos/2/likes" for 127.0.0.1 at 2017-10-18 16:42:07 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 2], ["created_at", "2017-10-18 08:42:07.743622"], ["updated_at", "2017-10-18 08:42:07.743622"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (1.8ms)
  Rendered likes/create.js.erb (9.4ms)
Completed 200 OK in 37ms (Views: 20.3ms | ActiveRecord: 3.5ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-18 16:43:49 +0800
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (27.0ms)
  Rendered photos/show.html.erb within layouts/application (36.6ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 1196ms (Views: 1108.2ms | ActiveRecord: 10.9ms)


Started DELETE "/photos/2/likes/2" for 127.0.0.1 at 2017-10-18 16:43:53 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"2", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLike Load (0.9ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 2], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 31]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (2.1ms)
  Rendered likes/destroy.js.erb (6.1ms)
Completed 200 OK in 57ms (Views: 16.8ms | ActiveRecord: 10.6ms)


Started POST "/photos/2/likes" for 127.0.0.1 at 2017-10-18 16:43:55 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 2], ["created_at", "2017-10-18 08:43:55.679931"], ["updated_at", "2017-10-18 08:43:55.679931"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (1.8ms)
  Rendered likes/create.js.erb (8.7ms)
Completed 200 OK in 52ms (Views: 15.9ms | ActiveRecord: 9.3ms)


Started DELETE "/photos/2/likes/2" for 127.0.0.1 at 2017-10-18 16:44:00 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"2", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 2], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 32]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (2.0ms)
  Rendered likes/destroy.js.erb (6.0ms)
Completed 200 OK in 28ms (Views: 15.4ms | ActiveRecord: 3.6ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-18 16:44:15 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.9ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (2.3ms)
  Rendered photos/show.html.erb within layouts/application (9.0ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 117ms (Views: 111.2ms | ActiveRecord: 1.3ms)


Started POST "/photos/2/likes" for 127.0.0.1 at 2017-10-18 16:44:17 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 2], ["created_at", "2017-10-18 08:44:17.791588"], ["updated_at", "2017-10-18 08:44:17.791588"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (2.5ms)
  Rendered likes/create.js.erb (14.3ms)
Completed 200 OK in 69ms (Views: 29.8ms | ActiveRecord: 13.1ms)


Started DELETE "/photos/2/likes/2" for 127.0.0.1 at 2017-10-18 16:44:20 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"2", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 2], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 33]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (1.8ms)
  Rendered likes/destroy.js.erb (5.4ms)
Completed 200 OK in 26ms (Views: 13.4ms | ActiveRecord: 3.9ms)


Started POST "/photos/2/likes" for 127.0.0.1 at 2017-10-18 16:44:23 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 2], ["created_at", "2017-10-18 08:44:23.838997"], ["updated_at", "2017-10-18 08:44:23.838997"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.4ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered likes/create.js.erb (8.8ms)
Completed 200 OK in 34ms (Views: 16.4ms | ActiveRecord: 4.8ms)


Started DELETE "/photos/2/likes/2" for 127.0.0.1 at 2017-10-18 16:44:26 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"2", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 2], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 34]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (1.6ms)
  Rendered likes/destroy.js.erb (4.7ms)
Completed 200 OK in 25ms (Views: 12.0ms | ActiveRecord: 4.2ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-18 16:44:52 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (0.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (7.9ms)
  Rendered photos/show.html.erb within layouts/application (13.9ms)
  Rendered layouts/_flash_messages.html.erb (0.5ms)
Completed 200 OK in 179ms (Views: 122.7ms | ActiveRecord: 10.2ms)


Started POST "/photos/2/likes" for 127.0.0.1 at 2017-10-18 16:44:55 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.8ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 2], ["created_at", "2017-10-18 08:44:55.439528"], ["updated_at", "2017-10-18 08:44:55.439528"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (15.6ms)
  Rendered likes/create.js.erb (24.0ms)
Completed 200 OK in 80ms (Views: 38.1ms | ActiveRecord: 8.4ms)


Started GET "/photos/2" for 127.0.0.1 at 2017-10-18 16:44:58 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (2.2ms)
  Rendered photos/show.html.erb within layouts/application (8.9ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 122ms (Views: 115.3ms | ActiveRecord: 1.4ms)


Started DELETE "/photos/2/likes/2" for 127.0.0.1 at 2017-10-18 16:45:01 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"2", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 2], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 35]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  Rendered likes/_counter.html.erb (3.5ms)
  Rendered likes/destroy.js.erb (9.6ms)
Completed 200 OK in 29ms (Views: 17.5ms | ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:45:46 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (26.5ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 138ms (Views: 131.3ms | ActiveRecord: 4.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 16:45:48 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (61.1ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 170ms (Views: 155.2ms | ActiveRecord: 10.3ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-18 16:45:50 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"r065mc7VrS6x7oP+dtH5R4P33tIjJKNu6CWsmXLSemXl22byptow5fH0OrcD513zrJ/wuIahCvfDu/VMaJOnhA=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:45:50 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 112ms (Views: 108.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-18 16:45:55 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-18 16:45:56 +0800
Started GET "/auth/facebook/callback?code=AQAblSdrjBZ_LqJtlOS-_puAiVukS_ZY2SYd01vTzmNgae96AM5vAGxCnHtHyavtyz4lCRdS-SXdzqJCHL7ye2gQ0cxpZXsI7bWbPpdy9oesSXYm1kJRS86LifKfgPwAKgbcg9oEklowFL3FzyXcm83qP5WL-gyVYo13YIC4OQV6QOfeiuYorpdzDFITy2WwuSGF-TA25Fj_IYewLQBsLH4EOcq7eFVgIK74Ln8U6NenZUjxg1QrKq6HKlT3vJHQU3g41QJIUIH18Krq_7QWLt2Kf_75DiQpowhRR1oChnQ0juifBkhJcmyaHPtf4YSim9JF6DAQmweLeftma2-6_VdKvWCfYlBGczM4MlXObPpAow&state=251fbb23db79e7a376d9f9e7d1052a307c61d8d8f4fc0f1e" for 127.0.0.1 at 2017-10-18 16:45:56 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQAblSdrjBZ_LqJtlOS-_puAiVukS_ZY2SYd01vTzmNgae96AM5vAGxCnHtHyavtyz4lCRdS-SXdzqJCHL7ye2gQ0cxpZXsI7bWbPpdy9oesSXYm1kJRS86LifKfgPwAKgbcg9oEklowFL3FzyXcm83qP5WL-gyVYo13YIC4OQV6QOfeiuYorpdzDFITy2WwuSGF-TA25Fj_IYewLQBsLH4EOcq7eFVgIK74Ln8U6NenZUjxg1QrKq6HKlT3vJHQU3g41QJIUIH18Krq_7QWLt2Kf_75DiQpowhRR1oChnQ0juifBkhJcmyaHPtf4YSim9JF6DAQmweLeftma2-6_VdKvWCfYlBGczM4MlXObPpAow", "state"=>"251fbb23db79e7a376d9f9e7d1052a307c61d8d8f4fc0f1e", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.5ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBACUJosMeZC8wBhs0Newf2AU2lXBsRVGltdQlc0pStfejsTiRWEFjvYQesZCyXwZC7Oaj6L6pJHb7qRoMO4e0jgk5x6vmxyCkJZCGD7zujRQ6S0m0Sr4nQpPS8GTqGZCUxH6ZBB7CwibZAItZCBNWN4ztljt2ZCNG8AAZDZD"], ["updated_at", "2017-10-18 08:45:57.003667"], ["id", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 30ms (ActiveRecord: 5.1ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 16:45:57 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (26.7ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 121ms (Views: 111.4ms | ActiveRecord: 4.9ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-18 16:46:02 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (2.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (2.1ms)
  Rendered photos/show.html.erb within layouts/application (12.2ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 156ms (Views: 147.4ms | ActiveRecord: 1.3ms)


Started POST "/photos/3/likes" for 127.0.0.1 at 2017-10-18 16:46:04 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 3], ["created_at", "2017-10-18 08:46:04.103945"], ["updated_at", "2017-10-18 08:46:04.103945"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (1.8ms)
  Rendered likes/create.js.erb (8.1ms)
Completed 200 OK in 51ms (Views: 15.6ms | ActiveRecord: 6.7ms)


Started DELETE "/photos/3/likes/3" for 127.0.0.1 at 2017-10-18 16:46:07 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"3", "id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 3], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 36]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (1.8ms)
  Rendered likes/destroy.js.erb (5.0ms)
Completed 200 OK in 28ms (Views: 13.2ms | ActiveRecord: 4.2ms)


Started POST "/photos/3/likes" for 127.0.0.1 at 2017-10-18 16:46:09 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 3], ["created_at", "2017-10-18 08:46:09.781844"], ["updated_at", "2017-10-18 08:46:09.781844"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (2.1ms)
  Rendered likes/create.js.erb (9.2ms)
Completed 200 OK in 34ms (Views: 16.3ms | ActiveRecord: 5.1ms)


Started DELETE "/photos/3/likes/3" for 127.0.0.1 at 2017-10-18 16:46:12 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"3", "id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 3], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 37]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (3.1ms)
  Rendered likes/destroy.js.erb (8.0ms)
Completed 200 OK in 29ms (Views: 15.1ms | ActiveRecord: 4.1ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-18 16:46:53 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (2.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (3.8ms)
  Rendered photos/show.html.erb within layouts/application (15.7ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 145ms (Views: 137.5ms | ActiveRecord: 1.4ms)


Started POST "/photos/3/likes" for 127.0.0.1 at 2017-10-18 16:46:56 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 3], ["created_at", "2017-10-18 08:46:56.757042"], ["updated_at", "2017-10-18 08:46:56.757042"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (1.8ms)
  Rendered likes/create.js.erb (8.6ms)
Completed 200 OK in 43ms (Views: 17.8ms | ActiveRecord: 9.8ms)


Started DELETE "/photos/3/likes/3" for 127.0.0.1 at 2017-10-18 16:46:59 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"3", "id"=>"3"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 3], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 38]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  Rendered layouts/_flash_messages.html.erb (0.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (1.7ms)
  Rendered likes/destroy.js.erb (8.1ms)
Completed 200 OK in 38ms (Views: 17.0ms | ActiveRecord: 5.7ms)


Started POST "/photos/3/likes" for 127.0.0.1 at 2017-10-18 16:47:01 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 3], ["created_at", "2017-10-18 08:47:01.225075"], ["updated_at", "2017-10-18 08:47:01.225075"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (2.2ms)
  Rendered likes/create.js.erb (10.0ms)
Completed 200 OK in 43ms (Views: 22.9ms | ActiveRecord: 5.4ms)


Started DELETE "/photos/3/likes/3" for 127.0.0.1 at 2017-10-18 16:47:02 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"3", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 3], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 39]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (1.9ms)
  Rendered likes/destroy.js.erb (11.4ms)
Completed 200 OK in 34ms (Views: 19.3ms | ActiveRecord: 3.2ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 16:47:08 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (28.1ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
Completed 200 OK in 157ms (Views: 136.6ms | ActiveRecord: 4.9ms)


Started GET "/photos/5" for 127.0.0.1 at 2017-10-18 16:47:12 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.5ms)
  [1m[35m (17.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  Rendered likes/_counter.html.erb (21.9ms)
  Rendered photos/show.html.erb within layouts/application (38.8ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 162ms (Views: 134.6ms | ActiveRecord: 18.8ms)


Started POST "/photos/5/likes" for 127.0.0.1 at 2017-10-18 16:47:14 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 5], ["created_at", "2017-10-18 08:47:14.187144"], ["updated_at", "2017-10-18 08:47:14.187144"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  Rendered likes/_counter.html.erb (1.9ms)
  Rendered likes/create.js.erb (8.9ms)
Completed 200 OK in 36ms (Views: 17.8ms | ActiveRecord: 4.9ms)


Started POST "/photos/5/likes" for 127.0.0.1 at 2017-10-18 16:47:15 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  Rendered likes/_counter.html.erb (1.8ms)
  Rendered likes/create.js.erb (8.4ms)
Completed 200 OK in 31ms (Views: 17.0ms | ActiveRecord: 2.6ms)


Started POST "/photos/5/likes" for 127.0.0.1 at 2017-10-18 16:47:16 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.4ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  Rendered likes/_counter.html.erb (2.3ms)
  Rendered likes/create.js.erb (9.4ms)
Completed 200 OK in 32ms (Views: 18.0ms | ActiveRecord: 3.0ms)


Started DELETE "/photos/5/likes/5" for 127.0.0.1 at 2017-10-18 16:47:21 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"5", "id"=>"5"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 5], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 40]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  Rendered layouts/_flash_messages.html.erb (0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  Rendered likes/_counter.html.erb (1.7ms)
  Rendered likes/destroy.js.erb (8.0ms)
Completed 200 OK in 29ms (Views: 17.3ms | ActiveRecord: 2.8ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 16:47:25 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (25.1ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 167ms (Views: 127.9ms | ActiveRecord: 5.0ms)


Started GET "/photos/6" for 127.0.0.1 at 2017-10-18 16:47:59 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  Rendered likes/_counter.html.erb (2.0ms)
  Rendered photos/show.html.erb within layouts/application (9.2ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 149ms (Views: 141.8ms | ActiveRecord: 1.3ms)


Started POST "/photos/6/likes" for 127.0.0.1 at 2017-10-18 16:48:01 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.7ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 6], ["created_at", "2017-10-18 08:48:01.769982"], ["updated_at", "2017-10-18 08:48:01.769982"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  Rendered likes/_counter.html.erb (2.4ms)
  Rendered likes/create.js.erb (13.8ms)
Completed 200 OK in 39ms (Views: 22.3ms | ActiveRecord: 3.9ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-18 16:48:05 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"IVlEI7lPMSt6v/YOqo5pT5O8DtWeewdSNbURSybRnbdrzJtI0UCs4DqlT0ffuM37vNQgvzv+rsseK0iePJBAVg=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:48:05 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 106ms (Views: 104.2ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 16:48:10 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:48:10 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 160ms (Views: 154.4ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at 2017-10-18 16:48:14 +0800
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (12.4ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 113ms (Views: 111.1ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-10-18 16:48:16 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (3.7ms)
  Rendered users/index.html.erb within layouts/application (35.3ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 146ms (Views: 131.7ms | ActiveRecord: 3.4ms)


Started GET "/users?utf8=%E2%9C%93&search=qiannyqian&commit=Search" for 127.0.0.1 at 2017-10-18 16:48:22 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"qiannyqian", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%qiannyqian%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%qiannyqian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%qiannyqian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%qiannyqian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%qiannyqian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (5.3ms)
  Rendered users/index.html.erb within layouts/application (12.9ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 236ms (Views: 222.2ms | ActiveRecord: 1.8ms)


Started GET "/users/1" for 127.0.0.1 at 2017-10-18 16:48:25 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (1.7ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (5.7ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
Completed 200 OK in 307ms (Views: 255.3ms | ActiveRecord: 3.0ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:48:28 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:48:28 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_flash_messages.html.erb (1.4ms)
Completed 200 OK in 110ms (Views: 108.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:50:50 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
Completed 200 OK in 127ms (Views: 124.8ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 16:50:55 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:50:55 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 121ms (Views: 116.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:51:33 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 115ms (Views: 112.4ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 16:51:36 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:51:36 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
Completed 200 OK in 147ms (Views: 144.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:51:57 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.4ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 121ms (Views: 119.1ms | ActiveRecord: 0.0ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 16:51:59 +0800
Processing by PhotosController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:51:59 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 142ms (Views: 139.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-18 16:52:05 +0800
Started GET "/auth/facebook" for 127.0.0.1 at 2017-10-18 16:52:05 +0800
Started GET "/auth/facebook/callback?code=AQDkcjbZSqmqaZ7HB4l_IF1sV9JviBq2KfkCefiY8t_mhgFrCYTBAQVlIX5AQPK01o6pzOt4OB69vOmAcn8pey6Yvk23QDUqS142lgn5JO4uggg_Y8ZL7O5qEFEhHYy8TQBhckLs8_J3N-da52Qvy6pulrAaKLVoLHW8eXnw4sxLWTds0-7mMsa86iyF5xoph-EkvYAm9Z96wwZG3ZY9hUgNaqY0ARDKl_Hljpu92lCJCGOjBIr9TDoMEFpNBJ678k7cvRbCytr33kc6-vygin9URdEydXdsigiMTVeVVhg6S3Mqh84SkQfeJkXhQbD8IL6nigoY9gEZdWtg_ZUCT1WyHFDJZci51X62dHZ1pcm_hw&state=da9a7c1bcfc1a56fdc0e0cf951d9230564d652db6cc8911c" for 127.0.0.1 at 2017-10-18 16:52:05 +0800
Processing by SessionsController#create_from_omniauth as HTML
  Parameters: {"code"=>"AQDkcjbZSqmqaZ7HB4l_IF1sV9JviBq2KfkCefiY8t_mhgFrCYTBAQVlIX5AQPK01o6pzOt4OB69vOmAcn8pey6Yvk23QDUqS142lgn5JO4uggg_Y8ZL7O5qEFEhHYy8TQBhckLs8_J3N-da52Qvy6pulrAaKLVoLHW8eXnw4sxLWTds0-7mMsa86iyF5xoph-EkvYAm9Z96wwZG3ZY9hUgNaqY0ARDKl_Hljpu92lCJCGOjBIr9TDoMEFpNBJ678k7cvRbCytr33kc6-vygin9URdEydXdsigiMTVeVVhg6S3Mqh84SkQfeJkXhQbD8IL6nigoY9gEZdWtg_ZUCT1WyHFDJZci51X62dHZ1pcm_hw", "state"=>"da9a7c1bcfc1a56fdc0e0cf951d9230564d652db6cc8911c", "provider"=>"facebook"}
  [1m[36mAuthentication Load (0.8ms)[0m  [1m[34mSELECT  "authentications".* FROM "authentications" WHERE "authentications"."provider" = $1 AND "authentications"."uid" = $2 LIMIT $3[0m  [["provider", "facebook"], ["uid", "1713704285306962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "authentications" SET "token" = $1, "updated_at" = $2 WHERE "authentications"."id" = $3[0m  [["token", "EAAB0TjkfbZAoBAHckv1HKVbX7TNp6ZBjUFLweZAaW5XXpDewKVS9WZADD7CIA4ZCzuGvOiCRD4MKaxVPyZAyR3mgczHxKODEgDR1iPQGboD8KkAJDA7BDsq8OZBrHLAYyez8X5GI5GPamOvAbXrY1Iq8ZB5KsEj9asoIInvbZBPAgVQZDZD"], ["updated_at", "2017-10-18 08:52:06.365855"], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/photos
Completed 302 Found in 11ms (ActiveRecord: 3.4ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 16:52:06 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (24.1ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 134ms (Views: 125.1ms | ActiveRecord: 4.4ms)


Started GET "/photos/1" for 127.0.0.1 at 2017-10-18 16:52:08 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (8.0ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (1.4ms)
  [1m[35m (22.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (27.3ms)
  Rendered photos/show.html.erb within layouts/application (49.1ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 220ms (Views: 182.3ms | ActiveRecord: 30.9ms)


Started DELETE "/photos/1/likes/1" for 127.0.0.1 at 2017-10-18 16:52:10 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 29]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (2.0ms)
  Rendered likes/destroy.js.erb (12.2ms)
Completed 200 OK in 37ms (Views: 23.7ms | ActiveRecord: 4.2ms)


Started POST "/photos/1/likes" for 127.0.0.1 at 2017-10-18 16:52:12 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.6ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 1], ["created_at", "2017-10-18 08:52:13.004204"], ["updated_at", "2017-10-18 08:52:13.004204"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  Rendered likes/_counter.html.erb (1.9ms)
  Rendered likes/create.js.erb (9.5ms)
Completed 200 OK in 37ms (Views: 18.1ms | ActiveRecord: 4.8ms)


Started GET "/photos" for 127.0.0.1 at 2017-10-18 16:52:16 +0800
Processing by PhotosController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/index.html.erb within layouts/application
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 4]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 5]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 6]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered photos/index.html.erb within layouts/application (27.5ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 165ms (Views: 128.8ms | ActiveRecord: 6.2ms)


Started GET "/photos/3" for 127.0.0.1 at 2017-10-18 16:52:19 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (3.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering photos/show.html.erb within layouts/application
  Rendered likes/_create.html.erb (2.7ms)
  [1m[35m (10.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (16.2ms)
  Rendered photos/show.html.erb within layouts/application (35.0ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
Completed 200 OK in 161ms (Views: 139.2ms | ActiveRecord: 14.7ms)


Started POST "/photos/3/likes" for 127.0.0.1 at 2017-10-18 16:52:20 +0800
Processing by LikesController#create as JS
  Parameters: {"photo_id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" IS NULL LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLike Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "likes" WHERE "likes"."user_id" = $1 AND "likes"."photo_id" = $2 LIMIT $3[0m  [["user_id", 3], ["photo_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "likes" ("user_id", "photo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["photo_id", 3], ["created_at", "2017-10-18 08:52:20.806275"], ["updated_at", "2017-10-18 08:52:20.806275"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/create.js.erb
  Rendered layouts/_flash_messages.html.erb (0.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (2.6ms)
  Rendered likes/create.js.erb (12.7ms)
Completed 200 OK in 41ms (Views: 21.0ms | ActiveRecord: 5.5ms)


Started DELETE "/photos/3/likes/3" for 127.0.0.1 at 2017-10-18 16:52:21 +0800
Processing by LikesController#destroy as JS
  Parameters: {"photo_id"=>"3", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT  "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT  "likes".* FROM "likes" WHERE "likes"."photo_id" = $1 AND "likes"."user_id" = $2 ORDER BY "likes"."id" ASC LIMIT $3[0m  [["photo_id", 3], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "likes" WHERE "likes"."id" = $1[0m  [["id", 43]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering likes/destroy.js.erb
  Rendered layouts/_flash_messages.html.erb (0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."photo_id" = $1[0m  [["photo_id", 3]]
  Rendered likes/_counter.html.erb (1.7ms)
  Rendered likes/destroy.js.erb (7.8ms)
Completed 200 OK in 27ms (Views: 14.9ms | ActiveRecord: 3.5ms)


Started DELETE "/sessions" for 127.0.0.1 at 2017-10-18 16:52:24 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"r7wTm0hpRqXfksYTN9+hL8Gh5XvGCF5Cq25Xd9lYGanlKczwIGbbbp+If1pC6QWb7snLEWON99uA8A6iwxnESA=="}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:52:24 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 103ms (Views: 100.1ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-10-18 16:52:29 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (18.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (3.4ms)
  Rendered users/index.html.erb within layouts/application (34.9ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 154ms (Views: 128.5ms | ActiveRecord: 19.3ms)


Started GET "/users?utf8=%E2%9C%93&search=Hermione&commit=Search" for 127.0.0.1 at 2017-10-18 16:52:34 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"Hermione", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%Hermione%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%Hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%Hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%Hermione%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%Hermione%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (4.4ms)
  Rendered users/index.html.erb within layouts/application (12.2ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
Completed 200 OK in 159ms (Views: 149.8ms | ActiveRecord: 1.9ms)


Started GET "/users/4" for 127.0.0.1 at 2017-10-18 16:52:36 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mPhoto Load (23.0ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."user_id" = $1[0m  [["user_id", 4]]
  Rendered users/show.html.erb within layouts/application (26.4ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 168ms (Views: 129.7ms | ActiveRecord: 23.5ms)


Started GET "/photos/6" for 127.0.0.1 at 2017-10-18 16:52:40 +0800
Processing by PhotosController#show as HTML
  Parameters: {"id"=>"6"}
Redirected to http://localhost:3000/
Filter chain halted as :authenticate! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 16:52:40 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 106ms (Views: 103.6ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-10-18 16:53:13 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (3.1ms)
  Rendered users/index.html.erb within layouts/application (7.8ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
Completed 200 OK in 117ms (Views: 112.2ms | ActiveRecord: 0.9ms)


Started GET "/users" for 127.0.0.1 at 2017-10-18 16:54:11 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (4.2ms)
  Rendered users/index.html.erb within layouts/application (28.5ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 143ms (Views: 125.6ms | ActiveRecord: 4.9ms)


Started GET "/users" for 127.0.0.1 at 2017-10-18 16:54:17 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (5.0ms)
  Rendered users/index.html.erb within layouts/application (27.6ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 137ms (Views: 129.0ms | ActiveRecord: 4.0ms)


Started GET "/users" for 127.0.0.1 at 2017-10-18 16:54:18 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY created_at DESC[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (6.0ms)
  Rendered users/index.html.erb within layouts/application (15.0ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 161ms (Views: 154.0ms | ActiveRecord: 2.0ms)


Started GET "/users" for 127.0.0.1 at 2017-10-18 16:54:46 +0800
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
Completed 200 OK in 139ms (Views: 136.1ms | ActiveRecord: 0.0ms)


Started GET "/users?utf8=%E2%9C%93&search=qian&commit=Search" for 127.0.0.1 at 2017-10-18 16:54:53 +0800
Processing by UsersController#index as HTML
  Parameters: {"utf8"=>"✓", "search"=>"qian", "commit"=>"Search"}
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (username ILIKE '%qian%') ORDER BY created_at DESC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%qian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%qian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (username ILIKE '%qian%') AND "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (username ILIKE '%qian%') ORDER BY created_at DESC) ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered users/_user.html.erb (5.4ms)
  Rendered users/index.html.erb within layouts/application (23.3ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 170ms (Views: 140.5ms | ActiveRecord: 4.5ms)


